(()=>{"use strict";var t,e,o,n,a={4977:(t,e,o)=>{var n=o(4188),a=o(3174),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(a(t)+" is not a function")}},3770:(t,e,o)=>{var n=o(831),a=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(a(t)+" is not an object")}},1458:(t,e,o)=>{var n=o(380),a=o(675),s=o(9389),i=function(t){return function(e,o,i){var r=n(e),l=s(r);if(0===l)return!t&&-1;var c,d=a(i,l);if(t&&o!=o){for(;l>d;)if((c=r[d++])!=c)return!0}else for(;l>d;d++)if((t||d in r)&&r[d]===o)return t||d||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},4224:(t,e,o)=>{var n=o(6893),a=o(6719),s=TypeError,i=Object.getOwnPropertyDescriptor,r=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=r?function(t,e){if(a(t)&&!i(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},8689:(t,e,o)=>{var n=o(6881),a=n({}.toString),s=n("".slice);t.exports=function(t){return s(a(t),8,-1)}},8657:(t,e,o)=>{var n=o(4418),a=o(3168),s=o(9304),i=o(4466);t.exports=function(t,e,o){for(var r=a(e),l=i.f,c=s.f,d=0;d<r.length;d++){var u=r[d];n(t,u)||o&&n(o,u)||l(t,u,c(e,u))}}},8088:(t,e,o)=>{var n=o(6893),a=o(4466),s=o(9123);t.exports=n?function(t,e,o){return a.f(t,e,s(1,o))}:function(t,e,o){return t[e]=o,t}},9123:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},997:(t,e,o)=>{var n=o(4530),a=o(4466);t.exports=function(t,e,o){return o.get&&n(o.get,e,{getter:!0}),o.set&&n(o.set,e,{setter:!0}),a.f(t,e,o)}},7509:(t,e,o)=>{var n=o(4188),a=o(4466),s=o(4530),i=o(4798);t.exports=function(t,e,o,r){r||(r={});var l=r.enumerable,c=void 0!==r.name?r.name:e;if(n(o)&&s(o,c,r),r.global)l?t[e]=o:i(e,o);else{try{r.unsafe?t[e]&&(l=!0):delete t[e]}catch(d){}l?t[e]=o:a.f(t,e,{value:o,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t}},4798:(t,e,o)=>{var n=o(1488),a=Object.defineProperty;t.exports=function(t,e){try{a(n,t,{value:e,configurable:!0,writable:!0})}catch(o){n[t]=e}return e}},1305:(t,e,o)=>{var n=o(3174),a=TypeError;t.exports=function(t,e){if(!delete t[e])throw new a("Cannot delete property "+n(e)+" of "+n(t))}},6893:(t,e,o)=>{var n=o(5234);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},5926:(t,e,o)=>{var n=o(1488),a=o(831),s=n.document,i=a(s)&&a(s.createElement);t.exports=function(t){return i?s.createElement(t):{}}},2197:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},4109:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3749:(t,e,o)=>{var n,a,s=o(1488),i=o(4109),r=s.process,l=s.Deno,c=r&&r.versions||l&&l.version,d=c&&c.v8;d&&(a=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(a=+n[1]),t.exports=a},1274:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5613:(t,e,o)=>{var n=o(1488),a=o(9304).f,s=o(8088),i=o(7509),r=o(4798),l=o(8657),c=o(8489);t.exports=function(t,e){var o,d,u,p,b,m=t.target,g=t.global,f=t.stat;if(o=g?n:f?n[m]||r(m,{}):n[m]&&n[m].prototype)for(d in e){if(p=e[d],u=t.dontCallGetSet?(b=a(o,d))&&b.value:o[d],!c(g?d:m+(f?".":"#")+d,t.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(t.sham||u&&u.sham)&&s(p,"sham",!0),i(o,d,p,t)}}},5234:t=>{t.exports=function(t){try{return!!t()}catch(e){return!0}}},9055:(t,e,o)=>{var n=o(5234);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9944:(t,e,o)=>{var n=o(9055),a=Function.prototype.call;t.exports=n?a.bind(a):function(){return a.apply(a,arguments)}},2735:(t,e,o)=>{var n=o(6893),a=o(4418),s=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,r=a(s,"name"),l=r&&"something"===function(){}.name,c=r&&(!n||n&&i(s,"name").configurable);t.exports={EXISTS:r,PROPER:l,CONFIGURABLE:c}},6881:(t,e,o)=>{var n=o(9055),a=Function.prototype,s=a.call,i=n&&a.bind.bind(s,s);t.exports=n?i:function(t){return function(){return s.apply(t,arguments)}}},5604:(t,e,o)=>{var n=o(1488),a=o(4188);t.exports=function(t,e){return arguments.length<2?(o=n[t],a(o)?o:void 0):n[t]&&n[t][e];var o}},2913:(t,e,o)=>{var n=o(4977),a=o(4318);t.exports=function(t,e){var o=t[e];return a(o)?void 0:n(o)}},1488:function(t,e,o){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof o.g&&o.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4418:(t,e,o)=>{var n=o(6881),a=o(3628),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(a(t),e)}},7588:t=>{t.exports={}},9622:(t,e,o)=>{var n=o(6893),a=o(5234),s=o(5926);t.exports=!n&&!a((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7568:(t,e,o)=>{var n=o(6881),a=o(5234),s=o(8689),i=Object,r=n("".split);t.exports=a((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?r(t,""):i(t)}:i},3029:(t,e,o)=>{var n=o(6881),a=o(4188),s=o(2694),i=n(Function.toString);a(s.inspectSource)||(s.inspectSource=function(t){return i(t)}),t.exports=s.inspectSource},3086:(t,e,o)=>{var n,a,s,i=o(5945),r=o(1488),l=o(831),c=o(8088),d=o(4418),u=o(2694),p=o(168),b=o(7588),m="Object already initialized",g=r.TypeError,f=r.WeakMap;if(i||u.state){var _=u.state||(u.state=new f);_.get=_.get,_.has=_.has,_.set=_.set,n=function(t,e){if(_.has(t))throw new g(m);return e.facade=t,_.set(t,e),e},a=function(t){return _.get(t)||{}},s=function(t){return _.has(t)}}else{var y=p("state");b[y]=!0,n=function(t,e){if(d(t,y))throw new g(m);return e.facade=t,c(t,y,e),e},a=function(t){return d(t,y)?t[y]:{}},s=function(t){return d(t,y)}}t.exports={set:n,get:a,has:s,enforce:function(t){return s(t)?a(t):n(t,{})},getterFor:function(t){return function(e){var o;if(!l(e)||(o=a(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return o}}}},6719:(t,e,o)=>{var n=o(8689);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4188:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},8489:(t,e,o)=>{var n=o(5234),a=o(4188),s=/#|\.prototype\./,i=function(t,e){var o=l[r(t)];return o===d||o!==c&&(a(e)?n(e):!!e)},r=i.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",d=i.POLYFILL="P";t.exports=i},4318:t=>{t.exports=function(t){return null==t}},831:(t,e,o)=>{var n=o(4188);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1942:t=>{t.exports=!1},6032:(t,e,o)=>{var n=o(5604),a=o(4188),s=o(4578),i=o(9809),r=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return a(e)&&s(e.prototype,r(t))}},9389:(t,e,o)=>{var n=o(7611);t.exports=function(t){return n(t.length)}},4530:(t,e,o)=>{var n=o(6881),a=o(5234),s=o(4188),i=o(4418),r=o(6893),l=o(2735).CONFIGURABLE,c=o(3029),d=o(3086),u=d.enforce,p=d.get,b=String,m=Object.defineProperty,g=n("".slice),f=n("".replace),_=n([].join),y=r&&!a((function(){return 8!==m((function(){}),"length",{value:8}).length})),h=String(String).split("String"),w=t.exports=function(t,e,o){"Symbol("===g(b(e),0,7)&&(e="["+f(b(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),o&&o.getter&&(e="get "+e),o&&o.setter&&(e="set "+e),(!i(t,"name")||l&&t.name!==e)&&(r?m(t,"name",{value:e,configurable:!0}):t.name=e),y&&o&&i(o,"arity")&&t.length!==o.arity&&m(t,"length",{value:o.arity});try{o&&i(o,"constructor")&&o.constructor?r&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(a){}var n=u(t);return i(n,"source")||(n.source=_(h,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return s(this)&&p(this).source||c(this)}),"toString")},142:t=>{var e=Math.ceil,o=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?o:e)(n)}},4466:(t,e,o)=>{var n=o(6893),a=o(9622),s=o(3315),i=o(3770),r=o(2344),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",b="writable";e.f=n?s?function(t,e,o){if(i(t),e=r(e),i(o),"function"==typeof t&&"prototype"===e&&"value"in o&&b in o&&!o[b]){var n=d(t,e);n&&n[b]&&(t[e]=o.value,o={configurable:p in o?o[p]:n[p],enumerable:u in o?o[u]:n[u],writable:!1})}return c(t,e,o)}:c:function(t,e,o){if(i(t),e=r(e),i(o),a)try{return c(t,e,o)}catch(n){}if("get"in o||"set"in o)throw new l("Accessors not supported");return"value"in o&&(t[e]=o.value),t}},9304:(t,e,o)=>{var n=o(6893),a=o(9944),s=o(4416),i=o(9123),r=o(380),l=o(2344),c=o(4418),d=o(9622),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=r(t),e=l(e),d)try{return u(t,e)}catch(o){}if(c(t,e))return i(!a(s.f,t,e),t[e])}},5629:(t,e,o)=>{var n=o(1843),a=o(1274).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},156:(t,e)=>{e.f=Object.getOwnPropertySymbols},4578:(t,e,o)=>{var n=o(6881);t.exports=n({}.isPrototypeOf)},1843:(t,e,o)=>{var n=o(6881),a=o(4418),s=o(380),i=o(1458).indexOf,r=o(7588),l=n([].push);t.exports=function(t,e){var o,n=s(t),c=0,d=[];for(o in n)!a(r,o)&&a(n,o)&&l(d,o);for(;e.length>c;)a(n,o=e[c++])&&(~i(d,o)||l(d,o));return d}},4416:(t,e)=>{var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!o.call({1:2},1);e.f=a?function(t){var e=n(this,t);return!!e&&e.enumerable}:o},2287:(t,e,o)=>{var n=o(9944),a=o(4188),s=o(831),i=TypeError;t.exports=function(t,e){var o,r;if("string"===e&&a(o=t.toString)&&!s(r=n(o,t)))return r;if(a(o=t.valueOf)&&!s(r=n(o,t)))return r;if("string"!==e&&a(o=t.toString)&&!s(r=n(o,t)))return r;throw new i("Can't convert object to primitive value")}},3168:(t,e,o)=>{var n=o(5604),a=o(6881),s=o(5629),i=o(156),r=o(3770),l=a([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(r(t)),o=i.f;return o?l(e,o(t)):e}},9509:(t,e,o)=>{var n=o(4318),a=TypeError;t.exports=function(t){if(n(t))throw new a("Can't call method on "+t);return t}},168:(t,e,o)=>{var n=o(746),a=o(6209),s=n("keys");t.exports=function(t){return s[t]||(s[t]=a(t))}},2694:(t,e,o)=>{var n=o(1942),a=o(1488),s=o(4798),i="__core-js_shared__",r=t.exports=a[i]||s(i,{});(r.versions||(r.versions=[])).push({version:"3.37.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},746:(t,e,o)=>{var n=o(2694);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},8944:(t,e,o)=>{var n=o(3749),a=o(5234),s=o(1488).String;t.exports=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},675:(t,e,o)=>{var n=o(6744),a=Math.max,s=Math.min;t.exports=function(t,e){var o=n(t);return o<0?a(o+e,0):s(o,e)}},380:(t,e,o)=>{var n=o(7568),a=o(9509);t.exports=function(t){return n(a(t))}},6744:(t,e,o)=>{var n=o(142);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},7611:(t,e,o)=>{var n=o(6744),a=Math.min;t.exports=function(t){var e=n(t);return e>0?a(e,9007199254740991):0}},3628:(t,e,o)=>{var n=o(9509),a=Object;t.exports=function(t){return a(n(t))}},290:(t,e,o)=>{var n=o(9944),a=o(831),s=o(6032),i=o(2913),r=o(2287),l=o(4282),c=TypeError,d=l("toPrimitive");t.exports=function(t,e){if(!a(t)||s(t))return t;var o,l=i(t,d);if(l){if(void 0===e&&(e="default"),o=n(l,t,e),!a(o)||s(o))return o;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),r(t,e)}},2344:(t,e,o)=>{var n=o(290),a=o(6032);t.exports=function(t){var e=n(t,"string");return a(e)?e:e+""}},3174:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(o){return"Object"}}},6209:(t,e,o)=>{var n=o(6881),a=0,s=Math.random(),i=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++a+s,36)}},9809:(t,e,o)=>{var n=o(8944);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3315:(t,e,o)=>{var n=o(6893),a=o(5234);t.exports=n&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5945:(t,e,o)=>{var n=o(1488),a=o(4188),s=n.WeakMap;t.exports=a(s)&&/native code/.test(String(s))},4282:(t,e,o)=>{var n=o(1488),a=o(746),s=o(4418),i=o(6209),r=o(8944),l=o(9809),c=n.Symbol,d=a("wks"),u=l?c.for||c:c&&c.withoutSetter||i;t.exports=function(t){return s(d,t)||(d[t]=r&&s(c,t)?c[t]:u("Symbol."+t)),d[t]}},9375:(t,e,o)=>{var n=o(5613),a=o(3628),s=o(9389),i=o(4224),r=o(2197);n({target:"Array",proto:!0,arity:1,forced:o(5234)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=a(this),o=s(e),n=arguments.length;r(o+n);for(var l=0;l<n;l++)e[o]=arguments[l],o++;return i(e,o),o}})},7534:(t,e,o)=>{var n=o(5613),a=o(3628),s=o(9389),i=o(4224),r=o(1305),l=o(2197);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=a(this),o=s(e),n=arguments.length;if(n){l(o+n);for(var c=o;c--;){var d=c+n;c in e?e[d]=e[c]:r(e,d)}for(var u=0;u<n;u++)e[u]=arguments[u]}return i(e,o+n)}})},286:(t,e,o)=>{var n=o(6893),a=o(6881),s=o(997),i=URLSearchParams.prototype,r=a(i.forEach);n&&!("size"in i)&&s(i,"size",{get:function(){var t=0;return r(this,(function(){t++})),t},configurable:!0,enumerable:!0})}},s={};function i(t){var e=s[t];if(void 0!==e)return e.exports;var o=s[t]={exports:{}};return a[t].call(o.exports,o,o.exports,i),o.exports}i.m=a,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"==typeof o.then)return o}var a=Object.create(null);i.r(a);var s={};t=t||[null,e({}),e([]),e(e)];for(var r=2&n&&o;"object"==typeof r&&!~t.indexOf(r);r=e(r))Object.getOwnPropertyNames(r).forEach((t=>s[t]=()=>o[t]));return s.default=()=>o,i.d(a,s),a},i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,o)=>(i.f[o](t,e),e)),[])),i.u=t=>923===t?"liquid-renderer.worker-8bb9edb9bea7f4b6055f.js":479===t?"analytics.worker-ae54b962f73c6058e4ab.js":{102:"liquidjs",881:"jquery",997:"slick"}[t]+"."+{102:"f9115522dcd395468a54",881:"5bf210753b15f0fd4090",997:"aee2019fafc53b7c0405"}[t]+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o={},n="widget-integration:",i.l=(t,e,a,s)=>{if(o[t])o[t].push(e);else{var r,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+a){r=u;break}}r||(l=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",n+a),r.src=t),o[t]=[e];var p=(e,n)=>{r.onerror=r.onload=null,clearTimeout(b);var a=o[t];if(delete o[t],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((t=>t(n))),e)return e(n)},b=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=o[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{i.b=document.baseURI||self.location.href;var t={792:0};i.f.j=(e,o)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise(((o,a)=>n=t[e]=[o,a]));o.push(n[2]=a);var s=i.p+i.u(e),r=new Error;i.l(s,(o=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;r.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",r.name="ChunkLoadError",r.type=a,r.request=s,n[1](r)}}),"chunk-"+e,e)}};var e=(e,o)=>{var n,a,[s,r,l]=o,c=0;if(s.some((e=>0!==t[e]))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(l)l(i)}for(e&&e(o);c<s.length;c++)a=s[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0},o=self.boostSDAppLibWp=self.boostSDAppLibWp||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();const r="boostSdSessionId",l="boostSdQueryString",c="boostSdPreAction",d="boostSdPreRequestIds";i(9375);const u="boostSDSelectedProductPage",p="boostSDSelectedProductId",b="boostSDCurrentPreviousPage",m="boostSDCurrentNextPage",g="default",f="load_more",_="infinite_scroll",y="boostSDLimit",h="boostSDLimitSetting",w=()=>{const t=window.location.href.replace(/%3C/g,"&lt;").replace(/%3E/g,"&gt;"),e=[];for(let s=0;s<t.length;s++)e.push(t.charAt(s));const o=e.join("").split("&lt;").join("%3C").split("&gt;").join("%3E");let n="";const a=o.replace(/#.*$/,"");return a.split("?").length>1&&(n=a.split("?")[1],n.length>0&&(n="?"+n)),{pathname:window.location.pathname,href:o,search:n}},v=t=>{window.location.href=t},S=(t=991)=>window.innerWidth<=t,k=t=>{try{const e=sessionStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return null}},T=(t,e)=>{try{if(!e)return void sessionStorage.removeItem(t);sessionStorage.setItem(t,JSON.stringify(e))}catch(o){sessionStorage.setItem(t,"")}},x=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return null}},C=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(o){console.log("Error setLocalStorage",o)}},L=t=>{try{localStorage.removeItem(t)}catch(e){console.log("Error setLocalStorage",e)}},I=t=>{(t=Number(t))&&!Number.isNaN(t)||(t=1),T("boostSDInitialPage",t),T(b,t),T(m,t)};function A(t,e){const o=new IntersectionObserver((function(t,o){t.forEach((function(t){t.isIntersecting&&(e(t.target),o.unobserve(t.target))}))}));t.forEach((function(t){o.observe(t)}))}function E(){return window.innerWidth<576}function O(){let t="";return E()?t+="mobile|":t=t.replace("mobile|",""),window.innerWidth<991?t+="tablet_portrait_max":t=t.replace("tablet_portrait_max",""),t}const q=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)};window.requestIdleCallback=q;window.cancelIdleCallback;const $=t=>new Promise((e=>setTimeout(e,t))),P=async(t,e=100,o=1e3)=>{if(!t)return console.error("awaitAnimationElementFinished htmlElement not found"),Promise.resolve();const n=[],a=Math.floor(o/e);for(let s=0;s<a;s++){const o=t.getBoundingClientRect();if(n.push({x:o.x,y:o.y}),s>0&&n[s].x>=0&&n[s].y>=0&&n[s].x===n[s-1].x&&n[s].y===n[s-1].y)break;await $(e)}return Promise.resolve()};const D=t=>{t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()},R={version:"3.0.1",toHtml(t,e){const o={indent:3,lineNumbers:!1,linkUrls:!0,linksNewTab:!0,quoteKeys:!1,trailingCommas:!0,...e},n=(t,e)=>e?"<span class=json-"+t+">"+e+"</span>":"",a=(JSON.stringify(t,null,o.indent)||"undefined").replace(/[<>&]|\\"/g,(t=>"<"===t?"&lt;":">"===t?"&gt;":"&"===t?"&amp;":"&bsol;&quot;")).replace(/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([{}[\],]*)?$/gm,((t,...e)=>{const a={indent:e[0],key:e[1],value:e[2],end:e[3]},s=o.quoteKeys?/(.*)(): /:/"([\w$]+)": |(.*): /,i=a.indent||"",r=a.key&&a.key.replace(s,"$1$2"),l=a.key?n("key",r)+n("mark",": "):"",c=a.value?(t=>{const e=/^"/.test(t)&&"string",a=(["true","false"].includes(t)?"boolean":"null"===t&&"null")||e||"number",s=o.linksNewTab?" target=_blank":"",i=e&&o.linkUrls?t.replace(/https?:\/\/[^\s"]+/g,(t=>`<a class=json-link href="${t}"${s}>${t}</a>`)):t;return n(a,i)})(a.value):"",d=!a.end||["]","}"].includes(t.at(-1)),u=o.trailingCommas&&" "===t.at(0)&&d;return i+l+c+n("mark",u?(a.end??"")+",":a.end)})),s=t=>`   <li>${t}</li>`;return o.lineNumbers?(t=>["<ol class=json-lines>",...t.split("\n").map(s),"</ol>"].join("\n"))(a):a}},N="pf_tag",M="#boost-sd_filter-tree-mobile",j=".boost-sd-left",B="boost-sd__filter-option-itemwrapper--full-height",F=`.${B}`,V=".boost-sd__filter-option",W="boost-sd__filter-option-itemwrapper--hidden",H="boost-sd__filter-option-itemwrapper--collapsed",z="boost-sd__filter-option-title--opening",U=".boost-sd__filter-option-search-option",G=".boost-sd__filter-tree-vertical-mobile-toolbar .boost-sd__button--close",J=".boost-sd__filter-tree-vertical-mobile-toolbar .boost-sd__button--back",K="boost-sd__button--hidden",Q="boost-sd__button--back",Z="boost-sd__button--close",Y={MOBILE_OPENING:"filterTreeMobileOpening",DESKTOP_OPENING:"filterTreeDesktopOpening",CURRENT_FOCUS:"filterCurrentFocus",KEY_CODE:"filterKeyCode"},X=".boost-sd__filter-tree-vertical-mobile-toolbar",tt=".boost-sd__filter-tree-vertical-mobile-toolbar #boost-sd__button-toolbar-mobile-clear",et="range",ot="multi_level_collections",nt="percent_sale",at="review_ratings",st="stock",it="boost_sd_collection_tags_key",rt="boost_sd_collection_id_key",lt="boostSdCollectionIdAll",ct=t=>{(()=>{const e=(t=>{let e=null;return"auto"===t&&(e=window.Currency??window.ACSCurrency),"best"===t&&(e=window.DoublyGlobalCurrency),e})(t);if(e){if(void 0!==e&&void 0!==e.moneyFormats&&void 0!==e.moneyFormats[window?.mlvShopCurrency]&&void 0!==window?.mlvedaload)try{window?.mlvedaload()}catch(o){console.log(o)}"function"==typeof window.DoublyGlobalCurrency?.convertAll&&window.DoublyGlobalCurrency.convertAll(window.DoublyGlobalCurrency.currentCurrency)}})()},dt=t=>{(()=>{try{switch(t){case"deco":"function"==typeof window.SECOMAPP?.pl?.labelCollections&&window.SECOMAPP.pl.labelCollections(!0);break;case"flair":"function"==typeof window.FlairApp?.refreshProductBadges&&window.FlairApp.refreshProductBadges();break;default:return null}}catch(e){console.log("Error when try to callbackFunc() from 3rd app"),console.log(e.stack)}})()},ut=()=>{var t;t=document,window.jdgm=window.jdgm||{},jdgm.CDN_HOST="https://cdn.judge.me/",jdgm.docReady=function(e){(t.attachEvent?"complete"===t.readyState:"loading"!==t.readyState)?setTimeout(e,0):t.addEventListener("DOMContentLoaded",e)},jdgm.loadCSS=function(e,o,n,a){!n&&jdgm.loadCSS.requestedUrls.indexOf(e)>=0||(jdgm.loadCSS.requestedUrls.push(e),(a=t.createElement("link")).rel="stylesheet",a.class="jdgm-stylesheet",a.media="nope!",a.href=e,a.onload=function(){this.media="all",o&&setTimeout(o)},t.body.appendChild(a))},jdgm.loadCSS.requestedUrls=[],jdgm.loadJS=function(t,e){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(Function(o.response)(),e&&e(o.response))},o.open("GET",t),o.send()},jdgm.docReady((function(){(window.jdgmLoadCSS||t.querySelectorAll(".jdgm-widget, .jdgm-all-reviews-page").length>0)&&"undefined"!=typeof jdgmSettings&&(jdgmSettings.widget_load_with_code_splitting?parseFloat(jdgmSettings.widget_version)>=3?jdgm.loadCSS(jdgm.CDN_HOST+"widget_v3/base.css"):jdgm.loadCSS(jdgm.CDN_HOST+"widget/base.css"):jdgm.loadCSS(jdgm.CDN_HOST+"shopify_v2.css"),jdgm.loadJS(jdgm.CDN_HOST+"loader.js"))}))},pt=t=>{let e=!1;(()=>{try{switch(t){case"judgeme":if(!e&&document.querySelectorAll(".boost-sd__integration-product-rating").length>0)return e=!0,ut();break;case"aliReview":if("function"==typeof window.aliReviewsAddRatingCollection)return window.aliReviewsAddRatingCollection();break;case"LAIAliExpress":if(window.SMARTIFYAPPS?.rv?.installed&&"function"==typeof window.SMARTIFYAPPS?.rv?.scmReviewsRate?.actionCreateReviews)return window.SMARTIFYAPPS?.rv?.scmReviewsRate?.actionCreateReviews();break;case"prs":if(!window.SPR)return;"function"==typeof window.SPR?.initDomEls&&window.SPR?.initDomEls(),"function"==typeof window.SPR?.loadBadges&&window.SPR?.loadBadges();break;case"okendo":{let t;t=document&&!!document.getElementById("okendo-reviews-script")?document.getElementsByClassName("okendo-StarRatingSnippet"):document.getElementsByClassName("okendo-ProductListingSnippet");for(let e=0;e<t.length;e++)t[e].style.display="";break}case"rivyo":if(void 0!==window.th_product_rivyo){const t=t=>new Promise(((e,o)=>{const n=new XMLHttpRequest;n.open("POST","//thimatic-apps.com/product_review/get_review_rating_update.php"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),n.onload=function(){try{const t=JSON.parse(n.responseText);n.readyState>3&&(200===n.status?e(t):o(null))}catch(t){o(null)}},n.send(t)})),e=window.boostWidgetIntegration?.env,o=window.boostWidgetIntegration?.app?.[e]?.shop?.domain||"",n=document.querySelectorAll(".wc_product_review_badge_boostcommerce");let a=`shop=${o}`,s=0;n.forEach((async(e,i)=>{const r=e?.dataset?.product_id;if(0===e.querySelectorAll(".wc_review_badge_inner").length&&0===e.querySelectorAll(".wc_review_badge_inner_empty").length&&""!==r&&(a+="&product_ids[]="+r,s+=1),i===n.length-1&&0!==s&&""!==o){const e=await t(a);if(e){n.forEach((t=>{t&&(t.innerHtml=e?.empty?.html||"")}));for(const t in e){const o=document.querySelectorAll(`.wc_product_review_badge_boostcommerce[data-product_id="${t}"]`);o?.forEach((o=>{o&&(o.innerHTML=e[t]?.html)}))}}}}))}break;case"stamped":if("function"==typeof window.StampedFn?.loadBadges||document.getElementById("stamped-script-widget"))return window.StampedFn.loadBadges();break;case"ReviewsIO":if("function"==typeof window.loadReviewsIoRatingSnippets)return window.loadReviewsIoRatingSnippets();break;case"yotpo":window?.yotpo&&"function"==typeof window?.yotpo.initWidgets&&window.yotpo.initWidgets(),window?.yotpoWidgetsContainer&&"function"==typeof window?.yotpoWidgetsContainer.initWidgets&&window.yotpoWidgetsContainer.initWidgets();break;default:return null}}catch(o){console.log("Error when try to callbackFunc() from 3rd app"),console.log(o.stack)}})()},bt=t=>{(()=>{try{switch(t){case"plus":window?._swat?.initializeActionButtons?.(".boost-sd__product-list"),window?._swat?.initializeActionButtons?.(".boost-sd__recommendation"),document.dispatchEvent(new CustomEvent("swym:collections-loaded"));break;case"smart":window?.ReloadSmartWishlist?.();break;case"i-wishlist":"undefined"!=typeof jQuery&&window.jQuery(".iWishAddColl").click((function(t){t.preventDefault();var e=window.jQuery(this).attr("data-variant");return window.iwish_addCollection(window.jQuery(this),e),!1}));break;case"king":try{if(!window?.WishlistKing)return;const t=window.WishlistKing?.theme;t?t.watch?.({selector:".boost-sd__product-link-image"},(e=>{e.insertAfter(t.createComponent?.("wishlist-button-collection",{dataset:{productHandle:t.getProductHandle?.(e.element.href),variantId:t.getVariantId?.(e.element.href)},props:{showIcon:!0,showText:!1,floating:{reference:e,position:{placement:"top-end",inset:!0}}}}))})):window.WishlistKing?.observe?.({selector:".boost-sd__product-item"},(t=>{t.append?.(window.WishlistKing?.createComponent?.("wishlist-button-floating",{id:t.container?.getAttribute?.("id")}))}))}catch(e){}break;default:return null}}catch(e){console.log("Error when try to callbackFunc() from 3rd app - Product Wishlist"),console.log(e.stack)}})()};function mt(){const t=window.boostWidgetIntegration?.env;let e=window.boostWidgetIntegration?.app?.[t]?.integration;e={...e,...window.boostWidgetIntegration.integration},window.boostWidgetIntegration.integration=e,e&&(pt(e.reviews),bt(e.wishlists),ct(e.currencies),dt(e.labels))}function gt(t,e){let o;return function(){const n=this,a=arguments;clearTimeout(o),o=setTimeout((()=>{t.apply(n,a)}),e)}}function ft(t){if(document.getElementById("widgetIntegrationDebugDiv")){const e=document.getElementById("widgetDebugCol1"),o=document.getElementById("widgetDebugCol2"),n=document.getElementById("widgetDebugCol3"),a=t.state?.filterTree?.options?.map((t=>({filterType:t.filterType,filterOptionId:t.filterOptionId,position:t.position,displayType:t.displayType,count:t?.values?.length||0})));e.innerHTML=`\n    <h3>filterTree: </h3>\n    <pre id=account class=json-container>${R.toHtml(a)}</pre>\n    `,o.innerHTML=`\n    <h3>filterTreeViewPort: </h3>\n    <pre id=account class=json-container>${R.toHtml(t.filterTreeViewPort)}</pre>\n    `,n.innerHTML=`\n    <h3>Filter: </h3>\n    <pre id=account class=json-container>${R.toHtml(t.state.filter)}</pre>\n    <pre id=account class=json-container>${R.toHtml(t.updatedParams)}</pre>\n\n    `}}const _t=(t,e=0,o)=>{let n="";return n=e?o?`${e}% - ${o}%`:t.translate("above","Above")+` ${e}%`:t.translate("under","Under")+` ${o}%`,n},yt=(t,e,o=2)=>{const n=((t,e=0,o=!1)=>isNaN(t)||(t=Number(t))<.04?t:o?Math.floor(100*t)/100:+t.toFixed(e))(e,o);return Pt({context:t,value:n})},ht=(t,e,o=0,n=2)=>{let a="";return a=o&&"0"!==o?e?`${yt(t,o,n)} - ${yt(t,e,n)}`:t.translate("above","Above")+` ${yt(t,o,n)}`:t.translate("under","Under")+` ${yt(t,e,n)}`,a},wt=(t=0,e=0)=>{let o="";return o=t?e?`${t}:${e}`:`${t}:`:`0:${e}`,o};function vt(t,e){let o=e?.label;if(t?.prefix){const n=t?.prefix?.replace(/\\/g,"")||"";o||(o=e?.key||e?.tag||""),o=o.replace(n,"").trim()}return o}const St=(t,e={},o)=>{if(!Array.isArray(t))return t;const{hideSingleOption:n=!1,showOutOfStockOption:a=!1}=e;return t.map((t=>{if(Array.isArray(t.values)){a||t.keepValuesStatic||(t.values=t.values.filter((t=>t.doc_count&&t.doc_count>0)));t.values.some((t=>"label"in t))||t.values.forEach((t=>{t.key&&(t.label=t.key)}));const e="multi_level_collections"===t.displayType||"multi_level_tag"===t.filterType;n&&1===t.values.length&&!e&&(t.values=[])}if(0===t?.values?.length){const e=document.getElementById(`${t.filterOptionId.replace(/::/g,"__")}-toggle`);e&&e?.closest(".boost-sd__filter-option")?.remove()}t.sortType||(t.sortType=(t=>{if([at,nt].includes(t.filterType))return!0;const e=[st],o=[et,ot],n="all"===t.valueType,a="all"!==t.valueType&&t.sortManualValues,s=t.displayType===et&&!1===t.isNumberRangeSlider;return!e.includes(t.filterType)&&(!o.includes(t.displayType)||s)&&(n||a)})(t)?"key-asc":"");const e=t.manualValues?.length>0;if((t.sortManualValues&&e||!e)&&Array.isArray(t.values)&&t.sortType){const[e,o]=t.sortType?.split("-")||[];if(e&&o){let n=e;"collection"===t.filterType&&"key"===e&&(n="displayName"),t.values=function(t,e,o="asc"){if(!Array.isArray(t)&&"object"!=typeof t)return void console.error("Invalid input. Expecting an array or an object.");return Array.isArray(t)?Ht(t,e,o):function(t,e,o){const n=Ht(Object.entries(t),e,o),a={};for(const[s,i]of n)a[s]=i;return a}(t,e,o)}(t.values,n,o)}}return"review_ratings"===t.filterType&&o&&(t.values=t.values?.map((e=>(e.key=Math.round(e.from),e.label=((t,e,o)=>{let n=e.toFixed();return n+=1===e?` ${de(t,"ratingStar","star")}`:` ${de(t,"ratingStars","stars")}`,o||(n+=` ${de(t,"ratingUp","& Up")}`),n})(o,e.from,t.showExactRating),e)))),"list"===t.displayType&&["stock","percent_sale","price","variants_price"].includes(t.filterType)&&(t.selectType="multiple"),t}))},kt=t=>{if("string"==typeof t){t=t.toLowerCase();const e=new RegExp(["script","alert","onabort","popstate","afterprint","beforeprint","beforeunload","blur","canplay","canplaythrough","change","click","contextmenu","copy","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","ended","error","focus","focusin","focusout","fullscreenchange","fullscreenerror","hashchange","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseout","mouseup","offline","online","pagehide","pageshow","paste","pause","play","playing","progress","ratechange","resize","reset","scroll","search","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","unload","volumechange","waiting","wheel","load"].join("=|on")),o=(t.match(/</g)||[]).length,n=(t.match(/>/g)||[]).length,a=(t.match(/alert\(/g)||[]).length,s=(t.match(/console\.log\(/g)||[]).length,i=(t.match(/execCommand/g)||[]).length,r=(t.match(/document\.cookie/g)||[]).length,l=(t.match(/j.*a.*v.*a.*s.*c.*r.*i.*p.*t/g)||[]).length,c=e.test(t),d=(t.match(/<meta/g)||[]).length,u=/>|\x3Cscript|\s*<img|<iframe[\s\S]*?>|<\/iframe[\s\S]*?>|<img[\s\S]*?>|<\/img[\s\S]*?>|<object[\s\S]*?>|<\/object[\s\S]*?>|<embed[\s\S]*?>|<\/embed[\s\S]*?>|<applet[\s\S]*?>|<\/applet[\s\S]*?>|<meta[\s\S]*?>|<\/meta[\s\S]*?>|<link[\s\S]*?>|<\/link[\s\S]*?>|on\w+="[^"]*"|javascript:|&#[xX][0-9a-fA-F]+;/g,p=(t.match(u)||[]).length;if(o>0&&n>0||o>1||n>1||a||s||i||r||l||c||d||p>0)return!0}return!1};function Tt(t,e){const o=[...{...t}.values],n=[];for(const a of o)if(kt(a?.key)||kt(a?.label)||kt(a?.displayName)||n.push(a),n.length>=e)break;return n}function xt(t,e){return Array.isArray(t.values)&&"number"==typeof e&&e>0?t.values.slice(0,e):[]}const Ct=t=>t?"collection"===t?.app?.generalSettings?.page:"collection"===window.boostWidgetIntegration?.generalSettings?.page,Lt=t=>t?"search"===t?.app?.generalSettings?.page:"search"===window.boostWidgetIntegration?.generalSettings?.page,It=t=>t?"cart"===t?.app?.generalSettings?.page:"cart"===window.boostWidgetIntegration?.generalSettings?.page,At=t=>t?"product"===t?.app?.generalSettings?.page:"product"===window.boostWidgetIntegration?.generalSettings?.page,Et=t=>t?"index"===t?.app?.generalSettings?.page:"index"===window.boostWidgetIntegration?.generalSettings?.page,Ot=()=>window.location.pathname.indexOf("/collections/types")>-1,qt=()=>window.location.pathname.indexOf("/collections/vendors")>-1,$t=()=>{let t="";switch(!0){case Ct():t="collection_page";break;case Lt():t="search_page";break;case At():t="product_page";break;case It():t="cart_page";break;case Et():t="home_page"}return t},Pt=({context:t,value:e,showCurrencyCodes:o,showCentAsSuperscript:n,removeDecimalPoint:a,isPriceCompare:s,removePriceDecimal:i})=>{const r=()=>{if(null==e)return null;const s=o?t?.app?.shop?.money_format_with_currency:t?.app?.shop?.money_format;return Rt(t,Number(e),s,!1,n,i,a)};return r?`${r()}`:null},Dt=t=>t?.replace(/[.,]00$/,""),Rt=(t,e,o,n,a,s,i)=>{o||(o=t?.app?.shop?.money_format),"money_with_currency"===o&&(o=t?.app?.shop?.money_format_with_currency),"string"==typeof e&&(e=e.replace(".","")),o=me(o);const r=Nt(o);let l=Mt(r,e);if(n||(l=Dt(l)),s&&(l=Bt(l,t?.app?.generalSettings?.decimalDelimiter,null)),a){const[t,e]=Ft(l,r,i);e&&(l=`${t}<sup>${e}</sup>`)}return jt(l,o)},Nt=t=>{const e=(t||"${{amount}}").match(/\{\{\s*(\w+)\s*\}\}/);return e&&e.length>1?e[1]:""},Mt=(t,e)=>{function o(t,e){return void 0===t?e:t}function n(t,e,n,a){if(0!==t&&!t)return"";e=o(e,2),n=o(n,","),a=o(a,".");const s=(t=parseFloat(`${t}`).toFixed(e)).toString().split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(s[1]?a+s[1]:"")}switch(t){case"amount":case"amount_with_space_separator_no_comma":default:return n(e,2);case"amount_no_decimals":return n(e,0);case"amount_with_comma_separator":return n(e,2,".",",");case"amount_no_decimals_with_comma_separator":return n(e,0,".",",");case"amount_no_decimals_with_space_separator":return n(e,0," ",".")}},jt=(t,e)=>{let o=e||"${{amount}}";return o=o.replace(/\{\{\s*(\w+)\s*\}\}/,t),o},Bt=(t,e)=>{const o=new RegExp("(\\"+e+"\\d+)+","gi");return(""+t).replace(o,"")},Ft=(t,e,o)=>{const n=(t=>{switch(t){case"amount":case"amount_with_space_separator_no_comma":return".";case"amount_with_comma_separator":return",";default:return null}})(e);if(!n)return[`${t}`];const[a,s]=`${t}`.split(n);return s?[a,o?`${s}`:`${n}${s}`]:[a]},Vt=(t,{variants:e,variant_id:o,handle:n,split_product:a},s,i,r)=>{const l=r||a&&e?`?variant=${r||o}`:"",c=((t,e,o,n)=>{if(!e)return"/";const a=window.location.pathname,s=a.split("/");let i="";if(i=(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,""),o){if("/"===a||Lt(t)||qt()||Ot())return`${i}/collections/all/products/${e}`;if((r=n)&&r.length>0){const t=i+"/collections/",o=s.indexOf("collections")+1;return s.length>=4?t+s[o]+"/products/"+e:`${i}/products/${e}`}{const t=w().search.substring(1);if(t.indexOf("cache:")>-1){let o="all";const n=t.split("&")[0].split("?")[0].split("collections/");return n.length>1&&(o=n[1].indexOf("/")>-1?n[1].split("/")[0]:n[1]),o=o.replace(/[`~!@#$%^&*()_|+\=?;:'",.<>\{\}\[\]\\\/]/g,""),o||(o="all"),"/collections/"+o+"/products/"+e}const o=s.indexOf("collections")+1,n=i+"/collections/";if(void 0!==s[2]&&s.includes("collections"))return n+(s[o]||"all")+"/products/"+e}}var r;return`${i}/products/${e}`})(t,n,s,i);return c+l},Wt=t=>("object"!=typeof t&&(t={}),t.return_all_currency_fields=!1,1===parseFloat(`${window.Shopify?.currency?.rate}`)?t:{...t,currency_rate:window.Shopify?.currency?.rate,currency:window.Shopify?.currency?.active,country:window.Shopify?.country});function Ht(t,e,o){const n="desc"===o?-1:1;return t.sort(((t,o)=>{const a=t[e],s=o[e];return a<s?-1*n:a>s?1*n:0}))}function zt(t,e){if(typeof t!=typeof e)return!1;if("object"==typeof t&&null!==t&&null!==e){const o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;for(const a of o)if(!zt(t[a],e[a]))return!1;return!0}return t===e}i(286);function Ut(t="push",e,o={}){"push"===t?window.history.pushState(o,"",e):window.history.replaceState(o,"",e)}const Gt=(t,e,o=!1,{preventPushHistory:n}={preventPushHistory:!1})=>{const a=new URL(window.location?.href);a.searchParams.set(t,e),a.searchParams.sort(),o?window.history.replaceState({},"",a.href):n||window.history.pushState({},"",a.href)},Jt=t=>{const e=new URL(window.location?.href),{searchParams:o}=e;t.forEach((t=>{const{key:e,value:n}=t;if(o.has(e)){const t=o.getAll(e).filter((t=>t!==n));o.delete(e),t.forEach((t=>o.append(e,t)))}})),o.sort(),window.history.pushState({},"",e.href)},Kt=(t,{preventPushHistory:e}={preventPushHistory:!1})=>{Qt([t],{preventPushHistory:e})},Qt=(t,{preventPushHistory:e}={preventPushHistory:!1})=>{const o=new URL(window.location?.href),{searchParams:n}=o;t.forEach((t=>{n.has(t)&&n.delete(t)})),n.sort();Ut(e?"replace":"push",o.href,{})},Zt=({preventPushHistory:t}={preventPushHistory:!1})=>{const e=new URL(window.location?.href),{searchParams:o}=e,n=[];o.forEach(((t,e)=>{e.startsWith("pf_")&&n.push(e)})),n.forEach((t=>o.delete(t)));Ut(t?"replace":"push",e.href,{})};function Yt(t){return new URLSearchParams(window.location.search).get(t)}const Xt=()=>{const t=new URL(window.location?.href),{searchParams:e}=t,o=[],n=e.get("sort"),a={page:e.get("page")},s=[];for(const i of e.keys())i.startsWith("pf_")&&!s.includes(i)&&(s.push(i),o.push({key:i,values:e.getAll(i)}));return{paramList:o,sort:n,pagination:a}};function te(t){const e=new URLSearchParams;e.sort();for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];Array.isArray(o)?o.forEach((t=>{e.append(`${n}[]`,t)})):e.set(n,o)}const o=new URLSearchParams(window.location.search).get("q");return o&&(e.set("q",o),Ct()&&(e.set("incollection_search",!0),e.set("event_type","incollection_search"))),e}const ee=t=>{const e={};return t.forEach((t=>{let{value:o}=t.metaData||t.data;const{key:n}=t.metaData||t.data;var a;n.startsWith("pf_st_")&&(a=o,o=Array.isArray(a)?a.map((t=>"out-of-stock"!==t)):"out-of-stock"!==a),e[n]=[...e[n]||[],o]})),e},oe=(t,e)=>{let o=Number(t);return"next"===e?o+=1:o="prev"===e?o-1>0?o-1:0:Number(e),o};i(7534);const ne="boostSDRecentlyViewedProduct",ae=()=>{const t=window.localStorage.getItem(ne);if(!t)return void window.localStorage.setItem(ne,JSON.stringify([]));let e=JSON.parse(t);e.length>40&&(e=e.slice(0,40),window.localStorage.setItem(ne,JSON.stringify(e)))},se=()=>{try{ae();const t=window.localStorage.getItem(ne);return t?JSON.parse(t):[]}catch(t){return[]}},ie=t=>t.templateSettings?.themeSettings||{},re=t=>{if(!t)return console.error("context getSearchSettings null"),{};let e=t?.templateSettings?.searchSettings||t?.app?.searchSettings||{};return e={...e,suggestionMobileStyle:"style1",suggestionMobileProductItemType:"grid"},e||{}},le=t=>{if(!t)return{fontWeight:100,fontStyle:"normal"};if("regular"===t)return{fontWeight:400,fontStyle:"normal"};const e=t.match(/\d+/),o=t.replace(/\d+/g,"").trim();return{fontWeight:e?e[0]:100,fontStyle:o||"normal"}},ce=(t,e)=>t.replace(/\{\{(.*?)\}\}/g,((t,o)=>(o=o?.trim(),Object.prototype.hasOwnProperty.call(e,o)?e[o]:t))),de=(t,e="",o="")=>t?.app?.translation?.[e]?t.app.translation[e]:o,ue=t=>{try{return JSON.parse(t)}catch(e){return console.error("Error parsing JSON:",e,t),null}};function pe(t){const e=t.length;let o=1732584193,n=4023233417,a=2562383102,s=271733878;for(let r=0;r<e;r++)o^=t.charCodeAt(r),o=o>>>7|o<<25,a=a+o+n&4294967295,n=n>>>17|n<<15,s=s+a+o&4294967295,o=o>>>19|o<<13,n^=t.charCodeAt(r),n=n>>>10|n<<22,a=a+n+s&4294967295,s=s>>>22|s<<10,o=o+a+n&4294967295,n=n>>>23|n<<9;let i="w-"+[o,n,a,s].map((function(t){return t.toString(16).padStart(2,"0")})).join("");return i.startsWith("-")&&(i=i.slice(1)),i}function be({behavior:t="smooth",isFilter:e=!1}={}){let o=0;if(!(window.boostSdDisableScrollToTop||window.boostSdDisableScrollToTopAfterFiltered&&e)){if(e){const t=document.querySelector(".boost-sd-right");if(!t)return;const e=t.getBoundingClientRect()?.top,n=e+window.scrollY-(window.boostSdScrollTopSticky||150);window.scrollY>e&&n>0&&(o=n)}window.scrollTo({top:o,behavior:t})}}const me=t=>t?.toString()?.replace(/<.*?>/gi,"").replaceAll("&#36;","$"),ge=t=>{if(!t)return"/";return`${window?.Shopify?.routes?.root||"/"}${t}`},fe=t=>t.toString().normalize("NFKD").toLowerCase().trim().replace(/[\s/]+/g,"-").replace(/[`~!@#$%^&*()|+\-=?;:'",.<>{}[\]\\/]/g,"-").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),_e=()=>{let t=window.Shopify?.shop;const e=window.boostWidgetIntegration.env||"production",o=window.boostWidgetIntegration?.app?.[e]?.shop?.domain;return window.boostWidgetIntegration&&!t&&o&&(t=o),t},ye=(t,e)=>{let o=t?.target?.closest(e)?.getAttribute("href");if(o){t.preventDefault();const e=window?.Shopify?.routes?.root||"/";if(o?.startsWith("https://")||o.startsWith(e))v(o);else{"/"===o[0]&&(o=o.replace("/",""));const t=ge(o);v(t)}}},he=t=>{"function"==typeof t.app?.customization[t.blockType]?.afterRender&&t.app.customization[t.blockType].afterRender(),"function"==typeof t.app?.customization?.afterRender&&t.app.customization.afterRender()},we=window.Worker;if(!(new URL("file:///home/runner/work/boost-fe-lib/boost-fe-lib/packages/widget-integration/src/workers/remote-worker.js").origin===location.origin)){class t extends we{constructor(t,e){const o=String(t);super(o.includes("://")&&!o.startsWith(location.origin)?URL.createObjectURL(new Blob([`importScripts=((i)=>(...a)=>i(...a.map((u)=>''+new URL(u,"${o}"))))(importScripts);importScripts("${o}")`],{type:"text/javascript"})):t,e)}}window.Worker=t}const ve={"liquid-renderer":{worker:null,sessions:new Map,config:{createInstance:()=>new Worker(new URL(i.p+i.u(923),i.b))}},analytics:{worker:null,sessions:new Map,config:{createInstance:()=>new Worker(new URL(i.p+i.u(479),i.b))}}};function Se(t){const e=ve[t].config.createInstance();ve[t].worker=e,e.onmessage=function(e){const{data:{sessionId:o,response:n}}=e,a=ve[t].sessions,s=a.get(o);s&&(s.resolve(n),clearTimeout(s.timeout),a.delete(o))}}function ke(t){const{worker:e,sessions:o}=ve[t];e||Se(t);const n={id:Math.random().toString(36).substring(2),resolve:null,reject:null,timeout:null};return{send:t=>new Promise(((a,s)=>{n.resolve=a,n.reject=s,o.set(n.id,n),e.postMessage({sessionId:n.id,payload:t});const i=setTimeout((()=>{const t=o.get(n.id);t&&(t.reject(new Error("Worker timeout")),o.delete(n.id))}),1e4);n.timeout=i}))}}const Te="boost-sd__",xe={productItem:`.${Te}product-item, .product-item-list-view-layout, .${Te}suggestion-queries-item--product`,addToCart:`.${Te}button--purchase,.${Te}btn-add-to-cart:not(.boost-sd__button--preorder),.${Te}button--select-option[aria-label="Add to cart"], form[action="/cart/add"] *[type="submit"], form[action="/cart/add"] *[name="add"]`,buyNow:`.${Te}btn-buy-now, .shopify-payment-button__button:not(.product-recommendations .shopify-payment-button__button), .shopify-payment-button, #dynamic-checkout-cart:not(:has(shopify-accelerated-checkout-cart, shop-pay-wallet-button, shopify-google-pay-button))`,quickView:`.${Te}button--quick-view`,recommend:`.${Te}recommendation`,suggest:`.${Te}instant-search-container`,inputQuantity:".quantity__input, .quantity-selector__value, .quantity-selector__input, input#quantity, .select-popout__toggle span, .js-qty__num, .product-form__qty-input input, .product-form__quantity input, .js-qty-input",quickViewQuantityInput:`.${Te}input-number-input`,filterOption:`.${Te}filter-option-item-button`,preOrder:`.${Te}button--preorder`},Ce="staging"===window?.boostWidgetIntegration?.env?"https://lajhlox2el.execute-api.us-west-2.amazonaws.com/staging/e":"https://lambda.mybcapps.com/e",Le={VIEW_PRODUCT:"view_product",VIEW_PRODUCT_PRE_ORDER:"view_product_pre_order",QUICK_VIEW:"quick_view",ADD_TO_CART:"add_to_cart",BUY_NOW:"buy_now",ATC_PRE_ORDER:"add_to_cart_pre_order"},Ie="boostSdPreAction",Ae="boostSdDataNotSent",Ee="boostSdCurrentRecommendActive",Oe="boostSdProductIdsClicked",qe="boostSdRequestIdPreOrderView",$e=[".boost-sd__recommendation-dynamic-show-popup"],Pe="dynamic-bundle",De="popup-bundle-placement",Re={product_page:"product_page",search_page:"search_page",instant_search:"instant_search"},Ne={FILTER:"filter",SEARCH:"search",SUGGEST:"suggest",RECOMMEND:"recommend"},Me={CLICK_SEARCH_RESULT:"[Boost] Clicked Search Result",ADD_TO_CART:"[Boost] Added To Cart",VIEW_COLLECTION:"[Boost] Viewed Collection",CLICK_PRODUCT:"[Boost] Clicked Product",ADD_BUNDLE_TO_CART:"[Boost] Added Bundle To Cart",CLICK_RECOMMENDATION:"[Boost] Clicked Recommendation",SUBMIT_SEARCH:"[Boost] Submitted Search",CLICK_FILTER:"[Boost] Clicked Filter"},je={search:"Search page",suggest:"Instant search"},Be="cart",Fe={getAll:async()=>{const t=await fetch(ge("cart.js"),{method:"GET"});return await t.json()},add:async(t,e=1,o=null)=>{const n={items:[{id:t,quantity:e,selling_plan:o}]};return await fetch(ge(`${Be}/add.js`),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},addMultiProductToCart:async t=>{const e={items:t};return await fetch(ge(`${Be}/add.js`),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},change:async(t,e=0)=>{const o={id:t,quantity:e},n=await fetch(ge(`${Be}/change.js`),{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});return await n.json()},clearCart:async()=>{const t=await fetch(ge(`${Be}/clear.js`),{method:"POST"});return await t.json()}};function Ve(t,e){const o=`${e.app.b2b.current_company_id}_${e.app.b2b.current_location_id}`,n=window.Shopify?.currency,a=n?.active,s=n?.rate;t instanceof URLSearchParams?(t.set("company_location_id",o),t.set("currency",a),t.set("currency_rate",s)):(t.company_location_id=o,t.currency=a,t.currency_rate=s)}function We(t,e){const{money_format:o,money_format_with_currency:n,currency:a}=e;o&&(t.app.shop.money_format=o),n&&(t.app.shop.money_format_with_currency=n),a&&(t.app.shop.currency=a)}function He(t){const[,e]=t.useContextState("pagination ",{});e({page:1}),Kt("page",{preventPushHistory:!0}),I(1),ze(t)}const ze=(t,e)=>{t.handler(t.getFilterApi,"getFilterApi")(t.app.filterUrl,t.id,e)},Ue=async(t,e="default",o)=>{const n=t.app.templateUrl,a=Ge(t,o),s=o.filter((t=>!a[t.id]));if(0===s.length)return{templates:a};const i={shop:window.Shopify?.shop,theme_lib:e,widgets:s.map((t=>`${t.name}:${t.id}`))},r=await fetch(`${n}?${te(i)}`,{method:"GET"}),l=(await r.json()).templates;return Object.keys(l).forEach((t=>{const e=Je(t),o=JSON.stringify({time:Date.now(),template:l[t]});try{localStorage.setItem(e,o)}catch(n){Ke("WIDGET:"),localStorage.setItem(e,o)}})),{templates:{...a,...l}}},Ge=(t,e)=>{const o={},n=t?.app?.templateMetadata?.updatedAt||0;return e.forEach((t=>{const e=Je(t.id),a=localStorage.getItem(e);if(a){const s=JSON.parse(a),i=Date.now()-s.time>864e5,r=s.time/1e3<n;i||r?localStorage.removeItem(e):o[t.id]=s.template}})),o},Je=t=>`WIDGET:${t}`,Ke=t=>{for(let e=0;e<localStorage.length;e++){const o=localStorage.key(e);o.startsWith(t)&&localStorage.removeItem(o)}},Qe=async t=>{const{additionalElements:e}=ie(t);if(!e?.collectionHeader?.isEnable&&!e?.collectionHeader?.elements?.breadCrumb?.isEnable)return;const o=t.app.templateMetadata?.collectionHeader||"collection_header_id",n=Ue(t,t.app.templateMetadata.themeNameLib,[{name:"collectionHeader",id:o}]),a=Ze(t),s=Promise.all([n,a]).then((async e=>{const n=e[0].templates,a=e[1];return await t.templateRender(n[o],a)}));t.render((()=>{s.then((e=>{const o=t.$("#boost-sd__collection-header");o&&(o.innerHTML=e,(t=>{const e=ie(t)?.additionalElements?.collectionHeader?.elements?.collectionImage,{parallaxEffect:o,directionParallax:n}=e||{};if(!o)return;const a=document.querySelector(".boost-sd__header-image-inner");if(!a)return void console.log("Collection image element is not found for parallax effect.");const s=a.parentElement;if(!s)return void console.log("Parent container not found.");const i={position:"relative",overflow:"hidden"},r={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",willChange:"transform",transform:"scale(1.5)",transformOrigin:"top center",transition:"none"};Object.assign(s.style,i),Object.assign(a.style,r);const l=()=>{const t=s.getBoundingClientRect(),e=window.innerHeight,o=t.top,i=t.height;if(o>e||o+i<0)return;const r=o/e*.5*i,l="horizontal"===n?`translate3d(-${r}px, 0, 0) scale(1.5)`:`translate3d(0, -${r}px, 0) scale(1.5)`;a.style.transform=l};let c=!1;const d=()=>{c||(window.requestAnimationFrame((()=>{l(),c=!1})),c=!0)},u=()=>{Object.assign(s.style,i),l()};l(),window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",u,{passive:!0})})(t))}))}),["filterTree"])},Ze=async(t,e={})=>{const{productList:o}=ie(t),n=o?.productsPerPage||16,a=x("boostSDLimit")||n,s=x("boostSDLimitSetting")===n?parseInt(a,10):n||16,i=e.page||Xt().page||1,r=`${window.location.origin}${window.location.pathname}.json`,l=new URLSearchParams({limit:s,page:i}),{collection_id:c}=t.app?.generalSettings||{},d=t.document.querySelector(".boost-sd__product-list"),u=Number(d?.getAttribute("data-total-product"));return c?fetch(`${r}?${l.toString()}`).then((async e=>{if(200===e.status){const t=await e.json();if(t.collection.products_count=u,t.collection.image?.src){(new Image).src=t.collection.image?.src}return{...t.collection,breadcrumb_title:t.collection.title,request:{limit:s,page:i}}}return{title:t.app?.translation?.collectionHeader?.collectionAllProduct||"Products",products_count:u,breadcrumb_title:"All",request:{limit:s,page:i}}})):{title:t.app?.translation?.collectionHeader?.collectionAllProduct||"Products",products_count:u,breadcrumb_title:"All",request:{limit:s,page:i}}},Ye='<div class="boost-sd__modal" id="boost-sd__modal-card" aria-modal="true" role="dialog" aria-label="modal">\n<div class="boost-sd__modal-backdrop"></div>\n<div class="boost-sd__modal-container">\n  <div tabindex="-1" class="boost-sd__modal-wrapper">\n    <div class="boost-sd__cart {% if cartStyle == \'side\' %}boost-sd__cart--side{% endif %}">\n      <div class="boost-sd__cart-header {% if cartStyle == \'popup\' %}boost-sd__cart-header--bigger-space{% endif %}">\n        <div class="boost-sd__cart-items-count">\n          {% if item_count == 1 %}\n          {{ "cart.atcMiniCartShopingCartLabel" | translate: translations, "Your cart"  }} ({{ item_count }} {{ "cart.atcMiniCartCountItemLabel" | translate: translations, "item"  }})\n          {% else %}\n          {{ "cart.atcMiniCartShopingCartLabel" | translate: translations, "Your cart"  }} ({{ item_count }} {{ "cart.atcMiniCartCountItemLabelPlural" | translate: translations, "items" }})\n          {% endif %}\n        </div>\n      </div>\n      <div class="boost-sd__cart-body {% if cartStyle == \'popup\' %}boost-sd__cart-body--bigger-space{% endif %}">\n        {% for item in items %}\n        <div class="boost-sd__cart-item" data-product-id="{{ item.id }}">\n          <div class="boost-sd__cart-item-image">\n            <a class="boost-sd__product-link" href="/products/{{ item.handle }}">\n              <div class="boost-sd__product-image-wrapper boost-sd__product-image-wrapper--aspect-ratio-3-4">\n                <div class="boost-sd__product-image">\n                  {% if item.image %}\n                  <img\n                    id="product-image-{{ item.id }}"\n                    class="boost-sd__product-image-img boost-sd__product-image-img--main"\n                    src="{{ item.image }}"\n                    srcset="\n                    {{ item.image }}&amp;width=200   200w,\n                    {{ item.image }}&amp;width=300   300w,\n                    {{ item.image }}&amp;width=400   400w,\n                    {{ item.image }}&amp;width=500   500w"\n                    fetchpriority="auto"\n                    sizes="200px"\n                    decoding="async"\n                    loading="lazy"\n                    alt="{{ item.product_title }}"\n                  />\n                  {% else %}\n                  <img\n                    id="product-image-{{ item.id }}"\n                    class="boost-sd__product-image-img boost-sd__product-image-img--main"\n                    alt="{{ item.product_title }}"\n                    src="https://cdn.shopify.com/extensions/201f4d7b-8d39-43a4-82de-e6f412341695/0.0.0/assets/boost-pfs-no-image.jpg?v=1677838268"\n                  />\n                  {% endif %}\n                </div>\n              </div>\n            </a>\n          </div>\n          <div class="boost-sd__cart-item-content">\n            <div class="boost-sd__cart-item-info">\n              <a class="boost-sd__product-link" href="/products/{{ item.handle }}"><div class="boost-sd__cart-item-title">{{ item.product_title }}</div></a>\n              {% for option in item.options_with_values %}\n              <div class="boost-sd__cart-item-option"><span class="boost-sd__cart-item-option-title">{{ option.name }}: </span><span class="boost-sd__cart-item-option-value">{{ option.value }}</span></div>\n              {% endfor %}\n              <div class="boost-sd__cart-item-quantity">\n                <div class="boost-sd__input-number boost-sd__input-number--sm">\n                  <div class="boost-sd__input-number-btn-wrapper">\n                    <button type="button" aria-label="-" class="boost-sd__button boost-sd__button--full-width boost-sd__input-number-btn"><span>-</span></button>\n                  </div>\n                  <input type="number" aria-label="Item quantity" class="boost-sd__input-number-input" value="{{ item.quantity }}" />\n                  <div class="boost-sd__input-number-btn-wrapper">\n                    <button type="button" aria-label="+" class="boost-sd__button boost-sd__button--full-width boost-sd__input-number-btn"><span>+</span></button>\n                  </div>\n                </div>\n                <div class="boost-sd__cart-item-quantity-price"><span class="boost-sd__cart-item-quantity-character">x</span><span>{{ item.price }}</span></div>\n              </div>\n            </div>\n            <button type="button" title="Remove This Item" class="boost-sd__button boost-sd__cart-item-remove-btn">\n              <span class="boost-sd__icon" style="overflow: initial;">\n                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="24" width="24">\n                  <path\n                    fill="#31373D"\n                    d="M9.84 8.8H10.8V16.48H9.84V8.8ZM11.76 8.8H12.72V16.48H11.76V8.8ZM13.68 8.8H14.64V16.48H13.68V8.8ZM6 5.92H18.48V6.88H6V5.92ZM14.64 5.92H13.68V5.44C13.68 5.152 13.488 4.96 13.2 4.96H11.28C10.992 4.96 10.8 5.152 10.8 5.44V5.92H9.84V5.44C9.84 4.624 10.464 4 11.28 4H13.2C14.016 4 14.64 4.624 14.64 5.44V5.92Z"\n                  ></path>\n                  <path\n                    fill="#31373D"\n                    d="M15.12 19.3601H9.35996C8.59196 19.3601 7.91996 18.7361 7.82396 17.9681L6.95996 6.44805L7.91996 6.35205L8.78396 17.8721C8.78396 18.1601 9.07196 18.4001 9.35996 18.4001H15.12C15.408 18.4001 15.648 18.1601 15.696 17.8721L16.56 6.35205L17.52 6.44805L16.656 17.9681C16.56 18.7361 15.888 19.3601 15.12 19.3601Z"\n                  ></path>\n                </svg>\n              </span>\n            </button>\n          </div>\n        </div>\n        {% endfor %}\n      </div>\n      <div class="boost-sd__cart-footer {% if cartStyle == \'popup\' %}boost-sd__cart-footer--right{% endif %}">\n        <div class="boost-sd__cart-subtotal {% if cartStyle == \'popup\' %}boost-sd__cart-subtotal--right{% endif %}">\n          <span class="boost-sd__cart-label">{{ "cart.atcMiniCartSubtotalLabel" | translate: translations, "Subtotal" }}</span><span class="boost-sd__cart-price"><span>{{ items_subtotal_price }}</span></span>\n        </div>\n        <div class="boost-sd__cart-btn-group {% if cartStyle == \'popup\' %}boost-sd__cart-btn-group--right{% endif %}">\n          <button\n            type="button"\n            aria-label="{{ "cart.atcMiniCartCheckoutLabel" | translate: translations, "Checkout" }}"\n            class="boost-sd__button {% if cartStyle == \'popup\' %}boost-sd__cart-btn{% endif %} boost-sd__button--{{ shape }} boost-sd__button--border boost-sd__button--large boost-sd__btn-checkout"\n          >\n            <span class="boost-sd__button-text">{{ "cart.atcMiniCartCheckoutLabel" | translate: translations, "Checkout" }}</span>\n          </button>\n          <button\n            type="button"\n            aria-label="{{ "cart.atcMiniCartViewCartLabel" | translate: translations, "View cart" }}"\n            class="boost-sd__button {% if cartStyle == \'popup\' %}boost-sd__cart-btn{% endif %} boost-sd__button--{{ shape }} boost-sd__button--border boost-sd__button--large boost-sd__btn-view-cart"\n          >\n            <span class="boost-sd__button-text">{{ "cart.atcMiniCartViewCartLabel" | translate: translations, "View cart" }}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <button type="button" aria-label="Close" class="boost-sd__button boost-sd__button--transparent boost-sd__button--float boost-sd__modal-close-btn boost-sd__modal-close-btn--on-overlay">\n      <svg class="boost-sd__modal-close-svg" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path\n          fill-rule="evenodd"\n          clip-rule="evenodd"\n          d="M3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289L12 10.5858L19.2929 3.29289C19.6834 2.90237 20.3166 2.90237 20.7071 3.29289C21.0976 3.68342 21.0976 4.31658 20.7071 4.70711L13.4142 12L20.7071 19.2929C21.0976 19.6834 21.0976 20.3166 20.7071 20.7071C20.3166 21.0976 19.6834 21.0976 19.2929 20.7071L12 13.4142L4.70711 20.7071C4.31658 21.0976 3.68342 21.0976 3.29289 20.7071C2.90237 20.3166 2.90237 19.6834 3.29289 19.2929L10.5858 12L3.29289 4.70711C2.90237 4.31658 2.90237 3.68342 3.29289 3.29289Z"\n          fill="#31373D"\n        ></path>\n      </svg>\n    </button>\n    <div tabindex="0" class="boost-sd__modal-last-child"></div>\n  </div>\n</div>\n</div>\n',Xe="\n<li class='{{ className }}'>\n  <button\n    id='{{ actionId }}'\n    data-action='{{ dataAction }}'\n    role='checkbox'\n    aria-label='Find product with {{ label | escape }} is {{ value.label | escape | strip_html }}'\n    aria-checked='false'\n    class='boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-button'\n  >\n    <span\n      data-action='{{ dataAction }}'\n      class='boost-sd__filter-option-item-label'\n    >\n      {% if displayAllValuesInUppercaseForm %}\n        {{ value.label | escape | upcase }}\n      {% else %}\n        {{ value.label | escape }}\n      {% endif %}\n    </span>\n  </button>\n</li>",to="\n<li class='boost-sd__filter-option-item boost-sd__filter-option-list-option-item'>\n  <button\n    id='{{ actionId }}'\n    data-action='{{ dataAction }}'\n    role='checkbox'\n    aria-checked='false'\n    aria-label='Find product with {{ label | escape }} is {{ value.label | escape | strip_html }}'\n    class='{{className}}'\n  >\n    <span\n      data-action='{{ dataAction }}'\n      class='boost-sd__filter-option-item-label'\n    >\n      {% if displayAllValuesInUppercaseForm %}\n        {{ value.label | escape | upcase }}\n      {% else %}\n        {{ value.label | escape }}\n      {% endif %}\n    </span>\n    {% if showDocCount %}\n      <span\n        data-action='{{ dataAction }}'\n        role='text'\n        aria-label='Number of products: ({{ value.doc_count }})'\n        class='boost-sd__filter-option-item-amount'\n      >\n        ({{ value.doc_count }})</span\n      >\n    {% endif %}\n  </button>\n</li>",eo="\n{% assign current_locale = '' %}\n{% if locale != \"\" %}\n  {% assign current_locale = '/' | append: locale %}\n{% endif %} \n<li class='boost-sd__filter-option-item boost-sd__filter-option-item-multilevel-collections {% if option.keepValuesStatic and value.doc_count == 0 %} boost-sd__filter-option-item-multilevel-collections--disabled {% endif %}'>\n  <div class='boost-sd__filter-option-item-multilevel-collections-firstlevel'>\n    <a\n      id='{{ actionId }}'\n      metaData='{{ metaData | json }}'\n      title='Link to {{ value.displayName }}'\n      tabindex='0'\n      data-action='select-filter-item'\n      href='{{current_locale}}/collections/{{ value.handle }}'\n      class='{{ className }}'\n    >\n      <span data-metadata='{{ metaData | json }}' class='boost-sd__filter-option-item-label'>\n        {% if option.displayAllValuesInUppercaseForm %}\n          {{ value.displayName | upcase }}\n        {% else %}\n          {{ value.displayName }}\n        {% endif %}\n      </span>\n    </a>\n    {% if showDocCount %}\n      <span role='text' aria-label='Number of products: ({{ value.doc_count }})' class='boost-sd__filter-option-item-amount'>({{ value.doc_count }})</span>\n     {% endif %}\n    {% if value.existedTags %}\n      <button\n        id='{{ value.actionIdArrow }}'\n        data-metadata='{{ value.metaDataArrow | json }}'\n        type='button'\n        aria-label='Expand/Collapse {{ value.displayName }}'\n        class='boost-sd__button boost-sd__button--transparent'\n        style='padding-right: 0px;'\n      >\n        <svg\n          id='{{ value.targetIdArrow }}'\n          data-metadata='{{ value.metaDataArrow | json }}'\n          class='boost-sd__arrow-icon boost-sd__arrow-icon--right'\n          xmlns='http://www.w3.org/2000/svg'\n          width='7'\n          height='12'\n          role='img'\n          aria-label='Expand/Collapse {{ value.displayName }}'\n          viewBox='0 0 7 12'\n        >\n          <path\n            data-metadata='{{ value.metaDataArrow | json }}'\n            class=\"boost-sd__arrow-icon-path\"\n            d=\"M6.58942 0.610713C6.26398 0.285274 5.73635 0.285274 5.41091 0.610713L0.611415 5.41021C0.455135 5.56649 0.366829 5.77895 0.366829 5.99996C0.366829 6.22098 0.454629 6.43294 0.610909 6.58922L5.41091 11.3892C5.73635 11.7147 6.26398 11.7147 6.58942 11.3892C6.91486 11.0638 6.91486 10.5362 6.58942 10.2107L2.37867 5.99996L6.58942 1.78922C6.91486 1.46379 6.91486 0.936153 6.58942 0.610713Z\"\n          ></path>\n        </svg>\n      </button>\n    {% endif %}\n  </div>\n\n  {% if value.existedTags > 0 %}\n    <ul\n      id='{{ value.targetIdList }}'\n      class='boost-sd__filter-option-item-multilevel-collections-listitem boost boost-sd__g-hide'\n    >\n      {% for tag in value.tags %}\n        <li class='boost-sd__filter-option-item-multilevel-collections-secondlevel'>\n          <div class='boost-sd__filter-option-item boost-sd__filter-option-item-multilevel-collections-secondlevel-title'>\n            <a\n              id='{{ tag.actionId }}'\n              data-metadata='{{ tag.metaData | json }}'\n              title='Link to {{ tag.displayName }}'\n              tabindex='0'\n              data-action='select-filter-item'\n              href='{{current_locale}}/collections/frontpage/{{ tag.tag }}'\n              class='{{ tag.className }}'\n            >\n              <span\n                data-metadata='{{ tag.metaData | json }}'\n                class='boost-sd__filter-option-item-label'\n              >\n                {% if option.displayAllValuesInUppercaseForm %}\n                  {{ tag.displayName | upcase }}\n                {% else %}\n                  {{ tag.displayName }}\n                {% endif %}\n              </span>\n            </a>\n            {% if tag.existedSubTags %}\n              <button\n                id='{{ tag.actionIdArrow }}'\n                data-metadata='{{ tag.metaDataArrow | json }}'\n                type='button'\n                aria-label='Expand/Collapse {{ tag.displayName }}'\n                class='boost-sd__button boost-sd__button--transparent'\n                style='padding-right: 0px;'\n              >\n                <svg\n                  id='{{ tag.targetIdArrow }}'\n                  data-metadata='{{ tag.metaDataArrow | json }}'\n                  class='boost-sd__arrow-icon boost-sd__arrow-icon--right'\n                  xmlns='http://www.w3.org/2000/svg'\n                  width='7'\n                  height='12'\n                  role='img'\n                  aria-label='Expand/Collapse {{ tag.displayName }}'\n                  viewBox='0 0 7 12'\n                >\n                  <path\n                    data-metadata='{{ tag.metaDataArrow | json }}'\n                    class=\"boost-sd__arrow-icon-path\"\n                    d=\"M6.58942 0.610713C6.26398 0.285274 5.73635 0.285274 5.41091 0.610713L0.611415 5.41021C0.455135 5.56649 0.366829 5.77895 0.366829 5.99996C0.366829 6.22098 0.454629 6.43294 0.610909 6.58922L5.41091 11.3892C5.73635 11.7147 6.26398 11.7147 6.58942 11.3892C6.91486 11.0638 6.91486 10.5362 6.58942 10.2107L2.37867 5.99996L6.58942 1.78922C6.91486 1.46379 6.91486 0.936153 6.58942 0.610713Z\"\n                  ></path>\n                </svg>\n              </button>\n            {% endif %}\n          </div>\n\n          {% if tag.existedSubTags %}\n            <ul\n              id='{{ tag.targetIdList }}'\n              class='boost-sd__filter-option-item-multilevel-collections-thirdlevel boost-sd__g-hide'\n            >\n              {% for subTag in tag.subTags %}\n                <li class='boost-sd__filter-option-item boost-sd__filter-option-item-multilevel-collections-thirdlevel-title'>\n                  <a\n                    id='{{ subTag.actionId }}'\n                    data-metadata='{{ subTag.metaData | json }}'\n                    title='Link to {{ subTag.displayName }}'\n                    tabindex='0'\n                    data-action='select-filter-item'\n                    href='{{current_locale}}/collections/frontpage/{{ subTag.tag }}'\n                    class='{{ subTag.className  }}'\n                  >\n                    <span\n                      data-metadata='{{ subTag.metaData | json }}'\n                      class='boost-sd__filter-option-item-label'\n                    >\n                      {% if option.displayAllValuesInUppercaseForm %}\n                        {{ subTag.displayName | upcase }}\n                      {% else %}\n                        {{ subTag.displayName }}\n                      {% endif %}\n                    </span>\n                  </a>\n                </li>\n              {% endfor %}\n            </ul>\n          {% endif %}\n        </li>\n      {% endfor %}\n    </ul>\n  {% endif %}\n</li>\n",oo="\n<li class='boost-sd__filter-option-item boost-sd__filter-option-list-option-item'>\n  <button\n    id='{{ actionId }}'\n    data-metadata='{{ metaData | json }}'\n    aria-label='Find product with {{ label | escape }} is {{ value.displayName | escape | strip_html }}'\n    role='checkbox'\n    aria-checked='false'\n    class='{{ className }}'\n  >\n    <span\n      data-metadata='{{ metaData | json}}'\n      class='boost-sd__filter-option-item-label'\n    >\n      {% if option.displayAllValuesInUppercaseForm %}\n        {{ value.displayName | upcase }}\n      {% else %}\n        {{ value.displayName }}\n      {% endif %}\n    </span>\n  </button>\n\n  {% assign existedTags = value.subTags | size %}\n  {% if existedTags > 0 %}\n    <button\n      id='{{ value.actionIdArrow }}'\n      data-metadata='{{ value.metaDataArrow | json }}'\n      type='button'\n      aria-label='Expand/Collapse {{ value.displayName }}'\n      class='boost-sd__button boost-sd__button--transparent boost-sd__filter-option-list-option-item-collapse-btn'\n    >\n      <svg\n        id='{{ value.targetIdArrow }}'\n        data-metadata='{{ value.metaDataArrow | json }}'\n        class='boost-sd__arrow-icon boost-sd__arrow-icon--right'\n        xmlns='http://www.w3.org/2000/svg'\n        width='7'\n        height='12'\n        role='img'\n        aria-label='Expand/Collapse {{ value.displayName }}'\n        viewBox='0 0 7 12'\n      >\n        <path\n            data-metadata='{{ value.metaDataArrow | json }}'\n            class=\"boost-sd__arrow-icon-path\"\n            d=\"M6.58942 0.610713C6.26398 0.285274 5.73635 0.285274 5.41091 0.610713L0.611415 5.41021C0.455135 5.56649 0.366829 5.77895 0.366829 5.99996C0.366829 6.22098 0.454629 6.43294 0.610909 6.58922L5.41091 11.3892C5.73635 11.7147 6.26398 11.7147 6.58942 11.3892C6.91486 11.0638 6.91486 10.5362 6.58942 10.2107L2.37867 5.99996L6.58942 1.78922C6.91486 1.46379 6.91486 0.936153 6.58942 0.610713Z\"\n        ></path>\n      </svg>\n    </button>\n    {% comment %} style=\"display: none\" {% endcomment %}\n    <ul\n      id='{{ value.targetIdList }}'\n      class='boost-sd__filter-option-list-option-item-sublist boost-sd__g-hide'\n    >\n      {% for tag in value.subTags %}\n        <li class='boost-sd__filter-option-item boost-sd__filter-option-list-option-item'>\n          <button\n            id='{{ tag.actionId }}'\n            data-metadata='{{ tag.metaData | json }}'\n            aria-label='Find product with {{ label | escape }} is {{ tag.displayName | escape | strip_html }}'\n            role='checkbox'\n            aria-checked='false'\n            class='{{ tag.className }}'\n          >\n            <span\n              data-metadata='{{ tag.metaData | json }}'\n              class='boost-sd__filter-option-item-label'\n            >\n              {% if option.displayAllValuesInUppercaseForm %}\n                {{ tag.displayName | upcase }}\n              {% else %}\n                {{ tag.displayName }}\n              {% endif %}\n            </span>\n            {% if showProductCount %}\n              <span\n                data-metadata='{{ tag.metaData | json }}'\n                role='text'\n                aria-label='Number of products: ({{ tag.doc_count }})'\n                class='boost-sd__filter-option-item-amount'\n                >({{ tag.doc_count }})</span\n              >\n            {% endif %}\n          </button>\n\n          {% assign existedSubTags = tag.subTags | size %}\n          {% if existedSubTags > 0 %}\n            <button\n              id='{{ tag.actionIdArrow }}'\n              data-metadata='{{ tag.metaDataArrow | json }}'\n              type='button'\n              aria-label='Expand/Collapse {{ tag.displayName }}'\n              class='boost-sd__button boost-sd__button--transparent boost-sd__filter-option-list-option-item-collapse-btn'\n            >\n              <svg\n                id='{{ tag.targetIdArrow }}'\n                data-metadata='{{ tag.metaDataArrow | json }}'\n                class='boost-sd__arrow-icon boost-sd__arrow-icon--right'\n                xmlns='http://www.w3.org/2000/svg'\n                width='7'\n                height='12'\n                role='img'\n                aria-label='Expand/Collapse {{ tag.displayName }}'\n                viewBox='0 0 7 12'\n              >\n                <path\n                    data-metadata='{{ tag.metaDataArrow | json }}'\n                    class=\"boost-sd__arrow-icon-path\"\n                    d=\"M6.58942 0.610713C6.26398 0.285274 5.73635 0.285274 5.41091 0.610713L0.611415 5.41021C0.455135 5.56649 0.366829 5.77895 0.366829 5.99996C0.366829 6.22098 0.454629 6.43294 0.610909 6.58922L5.41091 11.3892C5.73635 11.7147 6.26398 11.7147 6.58942 11.3892C6.91486 11.0638 6.91486 10.5362 6.58942 10.2107L2.37867 5.99996L6.58942 1.78922C6.91486 1.46379 6.91486 0.936153 6.58942 0.610713Z\"\n                ></path>\n              </svg>\n            </button>\n            {% comment %} style=\"display: none\" {% endcomment %}\n            <ul\n              id='{{ tag.targetIdList }}'\n              class='boost-sd__filter-option-list-option-item-sublist boost-sd__g-hide'\n            >\n              {% for subTag in tag.subTags %}\n                <li class='boost-sd__filter-option-item boost-sd__filter-option-list-option-item'>\n                  <button\n                    id='{{ subTag.actionId }}'\n                    data-metadata='{{ subTag.metaData | json }}'\n                    aria-label='Find product with {{ label | escape }} is {{ subTag.displayName | escape | strip_html }}'\n                    role='checkbox'\n                    aria-checked='false'\n                    class='{{ subTag.className }}'\n                  >\n                    <span\n                      data-metadata='{{ subTag.metaData | json }}'\n                      class='boost-sd__filter-option-item-label'\n                    >\n                      {% if option.displayAllValuesInUppercaseForm %}\n                        {{ subTag.displayName | upcase }}\n                      {% else %}\n                        {{ subTag.displayName }}\n                      {% endif %}\n                    </span>\n                    {% if showProductCount %}\n                      <span\n                        data-metadata='{{ subTag.metaData | json }}'\n                        role='text'\n                        aria-label='Number of products: ({{ subTag.doc_count }})'\n                        class='boost-sd__filter-option-item-amount'\n                        >({{ subTag.doc_count }})</span\n                      >\n                    {% endif %}\n                  </button>\n                </li>\n              {% endfor %}\n            </ul>\n          {% endif %}\n        </li>\n      {% endfor %}\n    </ul>\n  {% endif %}\n</li>\n",no="\n<li\n  data-value='{{ value.key }}'\n  data-action='{{ dataAction }}'\n  class='boost-sd__filter-option-item boost-sd__filter-option-rating-item'\n>\n  <button\n    id='{{ actionId }}'\n    data-action='{{ dataAction }}'\n    role='checkbox'\n    aria-checked='false'\n    aria-label='{{ value.key }} Stars. Number of products: {{value.doc_count}}'\n    class='{{ className }}'\n  >\n    <span\n      data-action='{{ dataAction }}'\n      role='presentation'\n      class='boost-sd__filter-option-rating-item-presentation'\n    >\n      {% for i in (0..4) %}\n        {% if i < value.from %}\n          <i\n            data-action='{{ dataAction }}'\n            class='boost-sd__filter-option-rating-item-icon-star boost-sd__filter-option-rating-item-icon-star--active'\n            style='color: {{ starColor }} ;'\n          ></i>\n        {% else %}\n          <i\n            data-action='{{ dataAction }}'\n            class='boost-sd__filter-option-rating-item-icon-star'\n            style='color: {{ starColor }} ;'\n          ></i>\n        {% endif %}\n      {% endfor %}\n\n      {% if showExactRating == false %}\n        <span data-action='{{ dataAction }}'>{{ \"ratingUp\" | translate: translations, \"& Up\" }}</span>\n      {% endif %}\n    </span>\n    <span\n      data-action='{{ dataAction }}'\n      role='text'\n      aria-label='Number of products: ({{ value.doc_count }})'\n      class='boost-sd__filter-option-item-amount'\n      >({{ value.doc_count }})</span\n    >\n  </button>\n</li>",ao="\n<li\n  data-action='{{ dataAction }}'\n  class='boost-sd__filter-option-item boost-sd__filter-option-swatch-item'\n>\n  <button\n    id='{{ actionId }}'\n    data-action='{{ dataAction }}'\n    title='Find product with {{ label | escape }} is {{ value.label | escape | strip_html }}'\n    role='checkbox'\n    aria-checked='false'\n    class='{{classButton}}'\n  >\n    {% if swatchValue.backgroundColor == nil %}\n      {% assign swatch_background_color = \"none\" %}\n    {% else %}\n      {% assign swatch_background_color = swatchValue.backgroundColor | strip_html %}\n    {% endif %}\n    {% if swatchValue.backgroundImage == nil %}\n      {% assign swatch_background_image = \"none\" %}\n    {% else %}\n      {% assign swatch_background_image = swatchValue.backgroundImage | strip_html %}\n    {% endif %}\n    <span\n      data-action='{{ dataAction }}'\n      class='{{ className }}'\n      style='background-color: {{ swatch_background_color }}; background-image: {{ swatch_background_image }}'\n    ></span>\n    \n    {% assign swatchListStyle = option.swatchStyle == 'circle-list' or option.swatchStyle == 'square-list' %}\n    {% if swatchListStyle %}\n      <span data-action='{{ dataAction }}' class='boost-sd__filter-option-item-label'>\n        {% if option.displayAllValuesInUppercaseForm %}\n          {{ value.label | escape | upcase }}\n        {% else %}\n          {{ value.label | escape }}\n        {% endif %}\n      </span>\n      {% if showDocCount %}\n        <span\n          data-action='{{ dataAction }}'\n          role='text'\n          aria-label='Number of products: ({{ value.doc_count }})'\n          class='boost-sd__filter-option-item-amount'\n          >({{ value.doc_count }})</span\n        >\n      {% endif %}\n    {% endif %}\n  </button>\n</li>",so='<div class="boost-sd__product-form boost-sd__product-form--default">\n\x3c!-- Quantity Input --\x3e\n<div class="boost-sd__product-form-quantity">\n  <p id="quantity-title" class="boost-sd__product-form-quantity-title">\n    {{ "quickView.qvQuantity" | translate: translations, \'Quantity\' }}\n  </p>\n  <div class="boost-sd__input-number boost-sd__input-number--md" role="group" aria-labelledby="quantity-title">\n    <div class="boost-sd__input-number-btn-wrapper">\n      <button\n        type="button"\n        aria-label="Decrease quantity"\n        aria-controls="item-quantity"\n        class="boost-sd__button boost-sd__button--full-width boost-sd__input-number-btn">\n        <span aria-hidden="true">-</span>\n      </button>\n    </div>\n    <input\n      id="item-quantity"\n      type="number"\n      aria-labelledby="quantity-title"\n      aria-describedby="quantity-error"\n      class="boost-sd__input-number-input"\n      value="1"\n      min="1" />\n    <div class="boost-sd__input-number-btn-wrapper">\n      <button\n        type="button"\n        aria-label="Increase quantity"\n        aria-controls="item-quantity"\n        class="boost-sd__button boost-sd__button--full-width boost-sd__input-number-btn">\n        <span aria-hidden="true">+</span>\n      </button>\n    </div>\n  </div>\n  <div id="quantity-error" class="boost-sd__product-form-quantity-error" aria-live="assertive">\n    {{ "quickView.qvQuantityError" | translate: translations, \'Please input quantity\' }}\n  </div>\n</div>\n\n<div class="boost-sd__preorder-options">\n\x3c!-- TEMPLATE PRE_ORDER WITH PAYMENT --\x3e\n{% comment %} TODO check preorder {% endcomment %}\n{% if product.variants %}\n  {% assign variants = product.variants %}\n{% else %}\n  {% assign variants = variants %}\n{% endif %}\n\n{% for variant in variants %}\n  {% if variant.preorder %}\n    {% assign paymentType = variant.preorder.payment.type %}\n    {% assign discountType = variant.preorder.payment.discountType %}\n    {% assign discountValue = variant.preorder.payment.discountValue %}\n    {% assign originalPrice = variant.price %}\n\n    {% assign paymentLabel = \'\' %}\n    {% if paymentType == \'full\' %}\n      {% assign paymentLabel = \'Full payment\' %}\n    {% endif %}\n    {% if paymentType == \'partial\' %}\n      {% assign paymentLabel = \'Partial payment\' %}\n    {% endif %}\n    {% if paymentType == \'none\' %}\n      {% assign paymentLabel = \'No payment\' %}\n    {% endif %}\n\n    {% assign money_format = request.money_format | strip_html -%}\n    {% assign money_rate = request.currency_rate | strip_html -%}\n\n    {% if discountType == \'percentage\' %}\n      {% assign percentNum = originalPrice | times: discountValue | divided_by: 100 %}\n      {% assign discountedPrice = originalPrice | times: 1.0 | minus: percentNum %}\n    {% elsif discountType == \'amount\' %}\n      {% assign discountValue =  discountValue | times: money_rate %}\n      {% assign discountedPrice = originalPrice | times: 1.0 | minus: discountValue %}\n    {% else %}\n      {% assign discountedPrice = originalPrice %}\n    {% endif %}\n\n    {% assign removePriceDecimal = false -%}\n    {% assign showCentAsSuperscript = false -%}\n    {% assign decimalDelimiter = \'\' -%}\n    {% assign withoutTrailingZeros = true -%}\n\n    {% assign originalPriceFormat = originalPrice | format_currency: money_format, showCentAsSuperscript, removePriceDecimal, decimalDelimiter, withoutTrailingZeros -%}\n    {% assign discountedPriceFormat = discountedPrice | format_currency: money_format, showCentAsSuperscript, removePriceDecimal, decimalDelimiter, withoutTrailingZeros -%}\n    {% assign discountValueFormat = discountValue | format_currency: money_format, showCentAsSuperscript, removePriceDecimal, decimalDelimiter, withoutTrailingZeros %}\n\n    <div class="boost-sd__preorder" tabindex="0" data-variant-id="{{ variant.id }}" role="region" aria-labelledby="preorder-title" aria-describedby="preorder-description">\n      <div class="boost-sd__preorder-option">\n        <h2 id="preorder-title" class="boost-sd__preorder-title">{{ paymentLabel }}</h2>\n        <div id="preorder-description" class="boost-sd__preorder-discount" aria-live="polite">\n          {% if discountType == \'percentage\' %}\n            <span class="boost-sd__preorder-save">Save {{ discountValue }}%</span>\n          {% elsif discountType == \'amount\' %}\n            <span class="boost-sd__preorder-save">Save {{ discountValueFormat }}</span>\n          {% endif %}\n          <div class="boost-sd__preorder-price">\n            {% if discountType != \'none\' %}\n              <span class="boost-sd__preorder-original-price" aria-label="Original Price: {{ originalPriceFormat }}">{{ originalPriceFormat }}</span>\n            {% endif %}\n            <span class="boost-sd__preorder-discounted-price" aria-label="Discounted Price: {{ discountedPriceFormat }}">{{ discountedPriceFormat }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  {% endif %}\n{% endfor %}\n\n{% assign button_label = \'Pre-Order\' %}\n\n<button\n  type="button"\n  aria-label="{{ button_label }}"\n  class="boost-sd__button boost-sd__button--border boost-sd__button--rounded boost-sd__button--large boost-sd__button--preorder">\n  <span class="boost-sd__button-text" aria-hidden="true">\n    {{ button_label }}\n  </span>\n</button>\n<p tabindex="0" class="boost-sd__preorder-note">\n  <strong class="boost-sd__preorder-note-title">Please note:</strong> This is a pre-order. Items will ship based on the estimated delivery date.\n</p>\n\n</div>\n<div class="boost-sd__purchase-options">\n  <button\n    type="button"\n    class="boost-sd__button boost-sd__button--border boost-sd__button--rounded boost-sd__button--large boost-sd__button--purchase">\n    <span class="boost-sd__button-text">\n      {{ "productItem.atcAvailableLabel" | translate: translations, \'Add to cart\' }}\n    </span>\n  </button>\n\n  <button\n    type="button"\n    class="boost-sd__button boost-sd__button--border boost-sd__button--rounded boost-sd__button--large boost-sd__btn-buy-now">\n    <span class="boost-sd__button-text">{{ "quickView.buyItNowBtnLabel" | translate: translations, \'Buy it now\' }}</span>\n  </button>\n</div>\n</div>',io='\n{% if compareAtPricePosition == \'top\' or compareAtPricePosition == \'bottom\' %}\n  <div\n    class="boost-sd__product-price-content \n    boost-sd__product-price-content--column{% if compareAtPricePosition == \'top\' %}-reverse{% endif %}"\n  >\n    <div class="boost-sd__product-price-content boost-sd__product-price-content--text-align-{{ textAlign }}">\n      <span\n        class="{% if isSale %}boost-sd__product-price--sale{% else %}boost-sd__product-price--default{% endif %}">\n        <span class="boost-sd__format-currency">{{ priceValueWithFormat }}</span></span\n      >\n      \n      {% if savingPriceWithFormat %}\n        <span class="boost-sd__product-price--saving"><span class="boost-sd__format-currency">{{ savingPriceWithFormat }}</span></span>\n      {% endif %}\n    </div>\n\n    {% if compareAtPriceWithFormat %}\n      <div class="boost-sd__product-price--compare">\n        <span\n          class="boost-sd__format-currency boost-sd__format-currency--price-compare"\n        >\n          <span class="">{{ compareAtPriceWithFormat }}</span>\n        </span>\n      </div>\n    {% endif %}\n  </div>\n\n{% else %}\n  <div class="boost-sd__product-price-wrapper">\n    <span\n      class="boost-sd__product-price-content {% if compareAtPricePosition == \'left\' %}boost-sd__product-price-content--row-reverse{% endif %}  boost-sd__product-price-content--text-align-{{ textAlign }}"\n    >\n      <span\n        class="{% if isSale %}boost-sd__product-price--sale{% else %}boost-sd__product-price--default{% endif %}"\n        >\n        <span class="boost-sd__format-currency">{{ priceValueWithFormat }}</span>\n      </span>\n      \n      {% if compareAtPriceWithFormat %}\n        <span\n          class="boost-sd__format-currency boost-sd__format-currency--price-compare boost-sd__product-price--compare"\n          > {{ compareAtPriceWithFormat }}\n        </span>\n      {% endif %}\n    </span>\n\n    {% if savingPriceWithFormat %}\n      <span class="boost-sd__product-price--saving"><span class="boost-sd__format-currency">{{ savingPriceWithFormat }}</span></span>\n    {% endif %}\n  </div>\n{% endif %}',ro="\n<div class='boost-sd__refine-by-horizontal-refine-by'>\n  <div class='boost-sd__refine-by-horizontal-refine-by-title'>\n    <div class='boost-sd__refine-by-horizontal-refine-by-heading' role='heading' aria-level='2'>\n    {{ \"refine\" | translate: translations, \"Refine By\" }}\n    </div>\n    <div class='boost-sd__refine-by-horizontal-refine-by-list'>\n      {% for refineByOption in refineBy.options %}\n        <button\n          aria-label='Clear filter'\n          id='{{ refineByOption.data.value | downcase | replace: \" \", \"-\" | append: \"-clear-filter\" | simpleMd5 | escape }}'\n          class='boost-sd__refine-by-horizontal-refine-by-item'\n          metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n        >\n          <span\n            class='boost-sd__refine-by-horizontal-refine-by-type'\n            metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n          >\n            <span\n              metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n              class='boost-sd__refine-by-horizontal-refine-by-value'\n            >\n              <span\n                metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n                class='boost-sd__refine-by-horizontal-refine-by-value'\n              >\n                {% if refineByOption.type == 'range' %}\n                  {% if refineByOption.data.key == 'pf_p_price' or refineByOption.data.key == 'pf_vp_variants_price' %}\n                    {{\n                      refineByOption.data.value.lower\n                      | currency_format: refineByOption.data.moneyFormatValue\n                    }}\n                    -\n                    {{\n                      refineByOption.data.value.upper\n                      | currency_format: refineByOption.data.moneyFormatValue\n                    }}\n                  {% else %}\n                    {{ refineByOption.data.value.lower }} - {{ refineByOption.data.value.upper }}\n                  {% endif %}\n                {% else %}\n                  {{ refineByOption.data.valueDisplay | escape }}\n                {% endif %}\n              </span>\n            </span>\n          </span>\n          <svg\n            xmlns='http://www.w3.org/2000/svg'\n            width='12'\n            height='12'\n            viewBox='0 0 12 12'\n            fill='#222'\n            role='img'\n            aria-label='Clear filter'\n            class='boost-sd__refine-by-horizontal-refine-by-clear'\n            metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n          >\n            <path metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }' fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.41401 6.00001L11.707 1.70701C12.098 1.31601 12.098 0.684006 11.707 0.293006C11.316 -0.0979941 10.684 -0.0979941 10.293 0.293006L6.00001 4.58601L1.70701 0.293006C1.31601 -0.0979941 0.684006 -0.0979941 0.293006 0.293006C-0.0979941 0.684006 -0.0979941 1.31601 0.293006 1.70701L4.58601 6.00001L0.293006 10.293C-0.0979941 10.684 -0.0979941 11.316 0.293006 11.707C0.488006 11.902 0.744006 12 1.00001 12C1.25601 12 1.51201 11.902 1.70701 11.707L6.00001 7.41401L10.293 11.707C10.488 11.902 10.744 12 11 12C11.256 12 11.512 11.902 11.707 11.707C12.098 11.316 12.098 10.684 11.707 10.293L7.41401 6.00001Z\" fill=\"#3D4246\"></path>\n          </svg>\n        </button>\n      {% endfor %}\n    </div>\n    <button\n      type='button'\n      aria-label='Clear all filters'\n      id='boost-sd__button--clear-all-filters'\n      class='boost-sd__button boost-sd__reset-filter-option-button'\n      metadata='{ \"action\": { \"clearAllFilter\": \"\" } }'\n    >\n      <span metadata='{ \"action\": { \"clearAllFilter\": \"\" } }'>{{ \"clearAll\" | translate: translations, \"Clear All\" }}</span>\n    </button>\n  </div>\n</div>",lo="\n<div class='boost-sd__refine-by-vertical-refine-by'>\n  <div class='boost-sd__refine-by-vertical-refine-by-title'>\n    <div class='boost-sd__refine-by-vertical-refine-by-heading'>\n      {{ 'refine' | translate: translations, 'Refine By' }}\n    </div>\n    <button\n      type='button'\n      aria-label='Clear all filters'\n      id='boost-sd__button--clear-all-filters'\n      class='boost-sd__button boost-sd__button--clear'\n      data-metadata='{ \"action\": { \"clearAllFilter\": \"\" } }'\n    >\n      <span class='boost-sd__button-text' data-metadata='{ \"action\": { \"clearAllFilter\": \"\" } }'>\n        {{- 'clearAll' | translate: translations, 'Clear All' -}}\n      </span>\n    </button>\n  </div>\n  <div class='boost-sd__refine-by-vertical-refine-by-list'>\n    {% for refineByOption in refineBy.options %}\n      <button\n        aria-label='Clear filter'\n        data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n        class='boost-sd__refine-by-vertical-refine-by-item'\n      >\n        <div\n          data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n          class='boost-sd__refine-by-vertical-refine-by-type'\n        >\n          <span\n            data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n            class='boost-sd__refine-by-vertical-refine-by-option'\n          >\n            {{ refineByOption.data.label | escape }}:\n          </span>\n          <span\n            data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n            class='boost-sd__refine-by-vertical-refine-by-value'\n          >\n            {% if refineByOption.type == 'range' %}\n              {% if refineByOption.data.key == 'pf_p_price' or refineByOption.data.key == 'pf_vp_variants_price' %}\n                {{\n                  refineByOption.data.value.lower\n                  | currency_format: refineByOption.data.moneyFormatValue\n                }}\n                -\n                {{\n                  refineByOption.data.value.upper\n                  | currency_format: refineByOption.data.moneyFormatValue\n                }}\n              {% else %}\n                {{ refineByOption.data.value.lower }} - {{ refineByOption.data.value.upper }}\n              {% endif %}\n            {% else %}\n              {{ refineByOption.data.valueDisplay }}\n            {% endif %}\n          </span>\n        </div>\n        <svg\n          data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n          class='boost-sd__refine-by-vertical-refine-by-clear'\n          xmlns='http://www.w3.org/2000/svg'\n          width='12'\n          height='12'\n          viewBox='0 0 12 12'\n          role='img'\n          aria-label='Clear filter'\n          fill='#222'\n        >\n          <path\n          data-metadata='{\"action\": { \"removeFilterFromRefineBy\": {{ refineByOption.metaData | json | escape }} } }'\n          fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.41401 6.00001L11.707 1.70701C12.098 1.31601 12.098 0.684006 11.707 0.293006C11.316 -0.0979941 10.684 -0.0979941 10.293 0.293006L6.00001 4.58601L1.70701 0.293006C1.31601 -0.0979941 0.684006 -0.0979941 0.293006 0.293006C-0.0979941 0.684006 -0.0979941 1.31601 0.293006 1.70701L4.58601 6.00001L0.293006 10.293C-0.0979941 10.684 -0.0979941 11.316 0.293006 11.707C0.488006 11.902 0.744006 12 1.00001 12C1.25601 12 1.51201 11.902 1.70701 11.707L6.00001 7.41401L10.293 11.707C10.488 11.902 10.744 12 11 12C11.256 12 11.512 11.902 11.707 11.707C12.098 11.316 12.098 10.684 11.707 10.293L7.41401 6.00001Z\" fill=\"#3D4246\">\n          </path>\n        </svg>\n      </button>\n    {% endfor %}\n  </div>\n</div>",co='<div class="boost-sd__search-result-panel-content">\n{% for collection in collections %}\n  <a href="/collections/{{ collection.handle }}" class="boost-sd__search-result-panel-content-item">\n\n    {% if displayImage %}\n      {% if collection.image.src %}\n        <div class="boost-sd__search-result-panel-content-item-image">\n          <img src="{{ collection.image.src }}">\n        </div>\n      {% endif %}\n    {% endif %}\n\n    <div class="boost-sd__search-result-panel-content-item-text">\n      <p class="boost-sd__search-result-panel-content-item-title">{{ collection.title }}</p>\n\n      {% if displayDescription and collection.body_html != "" %}\n        <div class="boost-sd__search-result-panel-content-item-description">{{ collection.body_html }}</div>\n      {% endif %}\n    </div>\n  </a>\n{% endfor %}\n\n\n{% assign pageSize = pageSize | plus: 0 %}\n\n{% if pageSize  < totalCollection %}\n{% assign totalPage = totalCollection | divided_by: pageSize | ceil %}\n\n{% assign pagination = currentPage | pagination_list: totalPage | split: "," %}\n{% assign to_product = currentPage | times: pageSize %}\n<div class="boost-sd__pagination boost-sd__pagination--{{ paginationAlignment }}">\n  {% if currentPage != 1 %}\n    <button\n      type="button"\n      aria-label="previous page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{ paginationButtonShape }} boost-sd__pagination-button--previous"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--left">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path d="M6.80474 0.528514C6.54439 0.268165 6.12228 0.268165 5.86193 0.528514L0.861929 5.52851C0.601579 5.78886 0.601579 6.21097 0.861929 6.47132L5.86193 11.4713C6.12228 11.7317 6.54439 11.7317 6.80474 11.4713C7.06509 11.211 7.06509 10.7889 6.80474 10.5285L2.27614 5.99992L6.80474 1.47132C7.06509 1.21097 7.06509 0.788864 6.80474 0.528514Z" clip-rule="evenodd" fill-rule="evenodd"></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n  {% for page_string in pagination %}\n    {% assign page = page_string | plus: 0 %}\n    {% if page == 0 %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--disabled boost-sd__pagination-number--{{ paginationNumberShape }}">...</button>\n    {% elsif page == currentPage %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{ paginationNumberShape }} boost-sd__pagination-number--active" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;" data-page={{ page }}>{{ page }}</button>\n    {% else %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{ paginationNumberShape }}" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;" data-page={{ page }}>{{ page }}</button>     \n    {% endif %}\n  {% endfor %}\n  {% if currentPage != totalPage %}\n    <button\n      type="button"\n      aria-label="next page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{ paginationButtonShape }} boost-sd__pagination-button--next"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--right">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path\n            d="M0.195262 0.528514C0.455612 0.268165 0.877722 0.268165 1.13807 0.528514L6.13807 5.52851C6.39842 5.78886 6.39842 6.21097 6.13807 6.47132L1.13807 11.4713C0.877722 11.7317 0.455612 11.7317 0.195262 11.4713C-0.0650874 11.211 -0.0650874 10.7889 0.195262 10.5285L4.72386 5.99992L0.195262 1.47132C-0.0650874 1.21097 -0.0650874 0.788864 0.195262 0.528514Z"\n            clip-rule="evenodd"\n            fill-rule="evenodd"\n          ></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n</div>\n\n{% endif %}\n</div>',uo='<div class="boost-sd__search-result-panel-content">\n{% for page in pages %}\n  <a href="{{ page.url }}" class="boost-sd__search-result-panel-content-item">\n    {% if displayImage and page.image != null %}\n      <div class="boost-sd__search-result-panel-content-item-image">\n        <img src="{{ page.image.src }}">\n      </div>\n    {% endif %}\n\n    <div class="boost-sd__search-result-panel-content-item-text">\n      <p class="boost-sd__search-result-panel-content-item-title">{{ page.title }}</p>\n\n      {% if displayDescription and page.body_html != "" %}\n        <div class="boost-sd__search-result-panel-content-item-description">{{ page.body_html }}</div>\n      {% endif %}\n\n    </div>\n  </a>\n{% endfor %}\n\n{% assign pageSize = pageSize | plus: 0 %}\n\n{% if pageSize  < totalPageTab %}\n{% assign totalPage = totalPageTab | divided_by: pageSize | ceil %}\n\n{% assign pagination = currentPage | pagination_list: totalPage | split: "," %}\n{% assign to_product = currentPage | times: pageSize %}\n<div class="boost-sd__pagination boost-sd__pagination--{{ paginationAlignment }}">\n  {% if currentPage != 1 %}\n    <button\n      type="button"\n      aria-label="previous page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{ paginationButtonShape }} boost-sd__pagination-button--previous"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--left">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path d="M6.80474 0.528514C6.54439 0.268165 6.12228 0.268165 5.86193 0.528514L0.861929 5.52851C0.601579 5.78886 0.601579 6.21097 0.861929 6.47132L5.86193 11.4713C6.12228 11.7317 6.54439 11.7317 6.80474 11.4713C7.06509 11.211 7.06509 10.7889 6.80474 10.5285L2.27614 5.99992L6.80474 1.47132C7.06509 1.21097 7.06509 0.788864 6.80474 0.528514Z" clip-rule="evenodd" fill-rule="evenodd"></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n  {% for page_string in pagination %}\n    {% assign page = page_string | plus: 0 %}\n    {% if page == 0 %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--disabled boost-sd__pagination-number--{{ paginationNumberShape }}">...</button>\n    {% elsif page == currentPage %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{ paginationNumberShape }} boost-sd__pagination-number--active" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;" data-page={{ page }}>{{ page }}</button>\n    {% else %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{ paginationNumberShape }}" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;" data-page={{ page }}>{{ page }}</button>     \n    {% endif %}\n  {% endfor %}\n  {% if currentPage != totalPage %}\n    <button\n      type="button"\n      aria-label="next page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{ paginationButtonShape }} boost-sd__pagination-button--next"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--right">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path\n            d="M0.195262 0.528514C0.455612 0.268165 0.877722 0.268165 1.13807 0.528514L6.13807 5.52851C6.39842 5.78886 6.39842 6.21097 6.13807 6.47132L1.13807 11.4713C0.877722 11.7317 0.455612 11.7317 0.195262 11.4713C-0.0650874 11.211 -0.0650874 10.7889 0.195262 10.5285L4.72386 5.99992L0.195262 1.47132C-0.0650874 1.21097 -0.0650874 0.788864 0.195262 0.528514Z"\n            clip-rule="evenodd"\n            fill-rule="evenodd"\n          ></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n</div>\n\n{% endif %}\n</div>\n',po='{% assign pagination = request.page | pagination_list: totalPage | split: "," %}\n{% assign to_product = request.page | times: request.limit %}\n<div class="boost-sd__pagination boost-sd__pagination--{{settings themeSettings.additionalElements.pagination.alignment}}">\n  {% if request.page != 1 %}\n    <button\n      type="button"\n      aria-label="previous page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{settings themeSettings.additionalElements.pagination.button.shape}} boost-sd__pagination-button--next"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--left">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path d="M6.80474 0.528514C6.54439 0.268165 6.12228 0.268165 5.86193 0.528514L0.861929 5.52851C0.601579 5.78886 0.601579 6.21097 0.861929 6.47132L5.86193 11.4713C6.12228 11.7317 6.54439 11.7317 6.80474 11.4713C7.06509 11.211 7.06509 10.7889 6.80474 10.5285L2.27614 5.99992L6.80474 1.47132C7.06509 1.21097 7.06509 0.788864 6.80474 0.528514Z" clip-rule="evenodd" fill-rule="evenodd"></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n  {% for page_string in pagination %}\n    {% assign page = page_string | plus: 0 %}\n    {% if page == 0 %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--disabled boost-sd__pagination-number--{{settings themeSettings.additionalElements.pagination.number.shape}}">...</button>\n    {% elsif page == request.page %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{settings themeSettings.additionalElements.pagination.number.shape}} boost-sd__pagination-number--active" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;">{{ page }}</button>\n    {% else %}\n        <button class="boost-sd__pagination-number boost-sd__pagination-number--{{settings themeSettings.additionalElements.pagination.number.shape}}" style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit;">{{ page }}</button>     \n    {% endif %}\n  {% endfor %}\n  {% if request.page != totalPage %}\n    <button\n      type="button"\n      aria-label="next page"\n      class="boost-sd__pagination-button boost-sd__pagination-button--{{settings themeSettings.additionalElements.pagination.button.shape}} boost-sd__pagination-button--next"\n      style="color: rgb(122, 122, 122); background-color: rgba(0, 0, 0, 0); font-size: inherit; text-transform: none; border-color: transparent; border-width: 1px; border-style: solid;"\n    >\n      <span class="boost-sd__pagination-button-icon boost-sd__pagination-button-icon--right">\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 7 12" height="12" width="7">\n          <path\n            d="M0.195262 0.528514C0.455612 0.268165 0.877722 0.268165 1.13807 0.528514L6.13807 5.52851C6.39842 5.78886 6.39842 6.21097 6.13807 6.47132L1.13807 11.4713C0.877722 11.7317 0.455612 11.7317 0.195262 11.4713C-0.0650874 11.211 -0.0650874 10.7889 0.195262 10.5285L4.72386 5.99992L0.195262 1.47132C-0.0650874 1.21097 -0.0650874 0.788864 0.195262 0.528514Z"\n            clip-rule="evenodd"\n            fill-rule="evenodd"\n          ></path>\n        </svg>\n      </span>\n    </button>\n  {% endif %}\n</div>',bo={refineByTemplate:"refineBy",filterOptionListTemplate:"filterOptionListItem",filterOptionBoxTemplate:"filterOptionBoxItem",filterOptionSwatchTemplate:"filterOptionSwatchItem",filterOptionMultiLevelCollection:"filterOptionMultiLevelCollectionItem",filterOptionMultiLevelTagTemplate:"filterOptionMultiLevelTagItem",filterOptionRatingItemTemplate:"filterOptionRatingItem",cartTemplate:"cart",productPriceTemplate:"productPrice",searchTabCollectionsTemplate:"searchTabCollectionsContent",searchTabPagesTemplate:"searchTabPagesContent",searchTabPaginationTemplate:"searchTabCollectionsContentPagination",preOrderTemplate:"preOrder"};function mo(t,e,o){const n=bo[e],a=t?.app?.templateParsed||{},s=t.app?.template||void 0;return n&&a&&a[n]?a[n]:n&&s&&s[n]?s[n]:o}function go(t){return{refineByTemplate:mo(t,"refineByTemplate",lo),refineByHorizontalTemplate:mo(t,"refineByHorizontalTemplate",ro),filterOptionListTemplate:mo(t,"filterOptionListTemplate",to),filterOptionBoxTemplate:mo(t,"filterOptionBoxTemplate",Xe),filterOptionSwatchTemplate:mo(t,"filterOptionSwatchTemplate",ao),cartTemplate:mo(t,"cartTemplate",Ye),productPriceTemplate:mo(t,"productPriceTemplate",io),filterOptionRatingTemplate:mo(t,"filterOptionRatingTemplate",no),filterOptionMultiLevelTagTemplate:mo(t,"filterOptionMultiLevelTagTemplate",oo),filterOptionMultiLevelCollection:mo(t,"filterOptionMultiLevelCollection",eo),searchTabCollectionsTemplate:mo(t,"searchTabCollectionsTemplate",co),searchTabPagesTemplate:mo(t,"searchTabPagesTemplate",uo),searchTabPaginationTemplate:mo(t,"searchTabPaginationTemplate",po),preOrderTemplate:mo(t,"preOrderTemplate",so)}}const fo="boost-sd__filter-option-box-item--selected";async function _o(t,e,o,n){if(!e)return;if(0===o.values.length)return;const a=ln(t),s="boost-sd__filter-option-item boost-sd__filter-option-box-item",i=`${s} ${fo}`,[r,l]=t.useContextState("actionMapping",{}),c=r()||{};let d="";const u=n&&o.values.length>n?n:o.values.length,p=t.app?.xss?.filter?.disabled;let b=p?xt(o,u):Tt(o,u);const m=o.label;"function"==typeof window.boostCustomSortOptionValues&&(b=window.boostCustomSortOptionValues(o,u));for(const f of b){let e=s;a[`${o.filterOptionId}-${f.key?.toString()?.toLowerCase()}`]&&(e=i),f.label=vt(o,f);const n=pe(`${o.filterOptionId}-${f.key}`),r=`${o.filterOptionId}.${n}`,l={optionList:{key:o.filterOptionId,value:f.key,label:o.label,filterType:o.filterType,selectType:o.selectType,displayType:o.displayType,valueDisplay:f.label||""}};c[o.filterOptionId]=c[o.filterOptionId]||{},c[o.filterOptionId][n]=l,d+=await t.templateRender(go(t).filterOptionBoxTemplate,{actionId:n,dataAction:r,value:f,label:m,className:e,displayAllValuesInUppercaseForm:o.displayAllValuesInUppercaseForm})}l(c),e.innerHTML=d;const g=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(g)}function yo(t,e,o,n){t.filterTreeViewPort&&t.filterTreeViewPort[o]&&t.filterTreeViewPort[o].loaded<t.filterTreeViewPort[o].total&&"box"===t.filterTreeViewPort[o].displayType&&(_o(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})}const ho={ONE_COLOR:"one_color",TWO_COLORS:"two_colors",IMAGE:"image"},wo="boost-sd__filter-option-swatch-item-img--selected";async function vo(t,e,o,n){if(!e)return;const a=ln(t),[s,i]=(o.swatchStyle||"circle-grid")?.split("-")||[],r=`boost-sd__filter-option-swatch-item-img boost-sd__filter-option-swatch-item-img--${i} boost-sd__filter-option-swatch-item-img--${s}`,l=`${r} ${wo}`;let c="";const d=n&&o.values.length>n?n:o.values.length,[u,p]=t.useContextState("actionMapping",{}),b=u()||{},m=t.app?.xss?.filter?.disabled,g=m?xt(o,d):Tt(o,d),f=o.label,{showFilterOptionCount:_}=Hn(t);for(const h of g){let e=r,n="boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-button ";a[`${o.filterOptionId}-${h.key}`?.toString()?.toLowerCase()]&&(n+="boost-sd__filter-option-item-button--selected",e=l);const d=So(t,o,h.key),u=pe(`${o.filterOptionId}-${h.key}`),p=`${o.filterOptionId}.${u}`;h.label=vt(o,h);const m={optionList:{key:o.filterOptionId,value:h.key,label:o.label,filterType:o.filterType,selectType:o.selectType,displayType:o.displayType,valueDisplay:h.label||""}};b[o.filterOptionId]=b[o.filterOptionId]||{},b[o.filterOptionId][u]=m,c+=await t.templateRender(go(t).filterOptionSwatchTemplate,{option:o,actionId:u,value:h,label:f,className:e,classButton:n,dataAction:p,swatchValue:d,swatchShape:s,swatchType:i,showDocCount:_})}p(b),e.innerHTML=c;const y=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(y)}function So(t,e,o){let n=function(t,e){const{swatch_settings:o}=Hn(t);if(!o)return{};let n={hasSwatchSetting:!1};const a=Object.keys(o);if(Array.isArray(a)&&a.length>0){a.forEach((function(t){if(t.toString().trim()!==t.toString()){var e=t.toString().trim(),n=o[t];n.name=e,o[e]=n,a.push(e)}}));const t=a.find((t=>t.replace("pfs-swatch-","")===e||t.replace("pfs-swatch-","").toLowerCase()===e.toLowerCase()));n=o[t]}if(o&&n&&Object.keys(n).length>1)switch(n.type){case ho.ONE_COLOR:n.colorCodes.length>0&&n.colorCodes[0]&&(n.backgroundImage="none",n.backgroundColor=n.colorCodes[0],n.hasSwatchSetting=!0);break;case ho.TWO_COLORS:n.colorCodes.length>1&&n.colorCodes[0]&&n.colorCodes[1]&&(n.backgroundImage="linear-gradient(to top left, "+n.colorCodes[1]+" 50%, "+n.colorCodes[0]+" 50%);",n.backgroundColor="transparent",n.hasSwatchSetting=!0);break;case ho.IMAGE:n.imageUrl&&(n.backgroundImage="url("+n.imageUrl+");",n.backgroundColor=ko(n.key),n.hasSwatchSetting=!0)}return n}(t,o);return n?.hasSwatchSetting||(n={},n.backgroundColor=ko(o)),n.swatchBorder=["white","#FFFFFF"].includes(n.backgroundColor)?"has-border":"",n}function ko(t){if(void 0===t)return"";var e=t.split("-");return e[e.length-1]}const To=(t,e,o,n)=>{t.filterTreeViewPort&&t.filterTreeViewPort[o]&&t.filterTreeViewPort[o].loaded<t.filterTreeViewPort[o].total&&"swatch"===t.filterTreeViewPort[o].displayType&&(vo(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})},xo="boost-sd__filter-option-item-button--selected";async function Co(t,e,o,n){if(!e)return;if(0===o.values.length)return;const{precisionFormatLabelPriceList:a}=Hn(t),s=ln(t);t.app.generalSettings.collection_id&&(s[`${o.filterOptionId}-${t.app.generalSettings.collection_id}`]=!0);const i="boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-button "+("multiple"===o.selectType?"boost-sd__filter-option-item-button--with-checkbox":""),r=i+" boost-sd__filter-option-item-button--selected";let l="";const c=n&&o.values.length>n?n:o.values.length,[d,u]=t.useContextState("actionMapping",{}),p=d()||{},b=t.app?.xss?.filter?.disabled;let m=b?xt(o,c):Tt(o,c);const g=o.label;"function"==typeof window.boostCustomSortOptionValues&&(m=window.boostCustomSortOptionValues(o,c));const{showFilterOptionCount:f}=Hn(t);let _=f;if("collection"===o.filterType){if(o.activeCollectionAll){const t=x(lt)||0,e=window.boostSdCustomCollectionALl||{key:t,label:"All",displayName:"All",handle:"all"};m?.unshift(e)}o.keepValuesStatic&&(_=!1)}for(const h of m){let e=i;["percent_sale","price","variants_price"].includes(o.filterType)&&(h.from||(h.from=0),h.key=wt(h.from,h.to));const n=`${o.filterOptionId}-${h.key?.toString()}`?.toLowerCase();s[n]&&(e=r),h.doc_count||(h.doc_count=0),h.label=vt(o,h),["price","variants_price"].includes(o.filterType)&&(h.label=ht(t,h.to,h.from,a)),"percent_sale"===o.filterType&&(h.label=_t(t,h.from,h.to));const c=pe(`${o.filterOptionId}-${h.key}`),d=`${o.filterOptionId}.${c}`,u={optionList:{key:o.filterOptionId,value:h.key,label:o.label,filterType:o.filterType,selectType:o.selectType,displayType:o.displayType,valueDisplay:h.label||"",handle:h.handle||""}};p[o.filterOptionId]=p[o.filterOptionId]||{},p[o.filterOptionId][c]=u,l+=await t.templateRender(go(t).filterOptionListTemplate,{actionId:c,dataAction:d,value:h,label:g,className:e,showDocCount:"all"!==h.handle&&_,displayAllValuesInUppercaseForm:o.displayAllValuesInUppercaseForm})}u(p),e.innerHTML=l;const y=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(y)}function Lo(t,e){const{filterLayout:o,requestInstantly:n}=Hn(t);let a=!0;if("collection"===e?.filterType)return No(t,e);if("horizontal"===o&&!n&&!S(t.app.generalSettings.isTabletPortraitMax)){const[o,n]=t.useContextState("filterOptionItemSelecting",{}),s=o();s[`${e.key}-${e.value}`]?delete s[`${e.key}-${e.value}`]:s[`${e.key}-${e.value}`]=!0,n(s),a=!1}a&&be({isFilter:!0});const{key:s,value:i,selectType:r}=e,[l]=t.useContextState("filter",[]);l().filter((t=>t&&t.data)).some((t=>t.data.key===s&&t.data.value===i))?Cn(t,e):("multiple"===r?Io(t,e):Ao(t,e),a&&He(t),Oo(t))}const Io=(t,e)=>{const{key:o,value:n,displayType:a}=e,[s,i]=t.useContextState("filter",[]),r=s();qo(t,o,n,a);i([...r,Ro(t,o,n,e)]),((t,e)=>{const o=new URL(window.location?.href);o.searchParams.append(t,e),o.searchParams.sort(),window.history.pushState({},"",o.href)})(o,n)},Ao=(t,e)=>{const{key:o,value:n,displayType:a}=e,[s,i]=t.useContextState("filter",[]),r=s();r.filter((t=>t.data.key===o)).forEach((e=>{$o(t,e.data.key,e.data.value,a)}));const l=r.filter((t=>t.data.key!==o));qo(t,o,n,a),l.push(Ro(t,o,n,e)),i(l),Gt(o,n)};const Eo=(t,e,o,n)=>{t.filterTreeViewPort&&t.filterTreeViewPort[o]&&t.filterTreeViewPort[o].loaded<t.filterTreeViewPort[o].total&&"list"===t.filterTreeViewPort[o].displayType&&(Co(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})};function Oo(t){const[e]=t.useContextState("filter",[]);(e()||[]).filter((t=>t&&t.data&&t.data.key)).forEach((e=>qo(t,e.data.key,e.data.value,e.metaData?.type)))}const qo=(t,e,o,n="list")=>"box"===n?((t,e,o)=>{const n=pe(`${e}-${o}`),a=t.$(`#${n}`);a&&a.parentElement.classList.add(fo)})(t,e,o):"swatch"===n?((t,e,o)=>{Po(t,e,o);const n=pe(`${e}-${o}`),a=t.$(".boost-sd__filter-option-swatch-item-img",t.$(`#${n}`));a&&a.classList.add(wo)})(t,e,o):void Po(t,e,o),$o=(t,e,o,n)=>"box"===n?((t,e,o)=>{const n=pe(`${e}-${o}`),a=t.$(`#${n}`);a&&a.parentElement.classList.remove(fo)})(t,e,o):"swatch"===n?((t,e,o)=>{Do(t,e,o);const n=pe(`${e}-${o}`),a=t.$(".boost-sd__filter-option-swatch-item-img",t.$(`#${n}`));a&&a.classList.remove(wo)})(t,e,o):void Do(t,e,o),Po=(t,e,o)=>{const n=pe(`${e}-${o}`),a=t.$(`#${n}`,fn(t));a&&a.classList.add(xo)},Do=(t,e,o)=>{const n=pe(`${e}-${o}`),a=t.$(`#${n}`,fn(t));a&&a.classList.remove(xo)},Ro=(t,e,o,n)=>{if(["variants_price","price"].includes(n.filterType)){const[e,a]=o.split(":");n.valueDisplay=ht(t,a,e)}if("percent_sale"===n.filterType){const[e,a]=o.split(":");n.valueDisplay=_t(t,Number(e)||0,a)}return{data:{label:n.label,value:o,key:e,valueDisplay:n.valueDisplay||o,selectType:n.selectType},metaData:{key:e,value:o,type:n.displayType},type:n.displayType}};function No(t,e){be({isFilter:!0}),Ct()?jo(t,e):Bo(t,e)}const Mo=(t,e)=>{const o=k(rt)||{};o[t]=e,T(rt,o)},jo=(t,e)=>{const{key:o,value:n,handle:a,collectionTag:s}=e;qo(t,o,n),$o(t,o,t.app.generalSettings.collection_id);let i=ge(`collections/${a}`);t.app.generalSettings.collection_id=n,t.app.generalSettings.collection_handle=a,s?(((t,e)=>{const o=k(it)||{};o[t]=e,T(it,o)})(fe(s),s),qo(t,N,s),i=`${i}/${fe(s)}`,t.app.generalSettings.collection_tags=[s]):t.app.generalSettings.collection_tags=null,history.pushState({},"",i),Qe(t),Tn(t,{preventPushHistory:!0}),window.dispatchEvent(new CustomEvent("re-view-collection"))},Bo=(t,e)=>{const{key:o,value:n,handle:a,collectionTag:s,displayName:i,valueDisplay:r}=e,l=r||i,[c,d]=t.useContextState("filter",[]),u=[...c().filter((t=>t.data.key!==o&&t.data.key!==N))],p={data:{label:"Collection",value:n,key:o,valueDisplay:l,handle:a},metaData:{key:o,value:n},type:"list"};if(s){const t={data:{label:"Collection Tag",value:s,key:N,valueDisplay:s},metaData:{key:N,value:s,dependencies:[{key:o,value:n}]},type:"list"};p.metaData.dependencies=[{key:N,value:s}],u.push(p),u.push(t)}else u.push(p);d(u),Gt(o,n),s?Gt(N,s,{preventPushHistory:!0}):Kt(N,{preventPushHistory:!0}),He(t),t.render((()=>{Oo(t)}),["filter","filterTree"])};async function Fo(t,e,o,n){if(!e)return;const a=ln(t);t.app.generalSettings.collection_id&&(a[`${o.filterOptionId}-${t.app.generalSettings.collection_id}`]=!0),t.app.generalSettings?.collection_tags?.length>0&&(a[`${N}-${t.app.generalSettings?.collection_tags[0]}`]=!0);const s="boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-link",i=s+" boost-sd__filter-option-item-button--selected";let r="";const l=n&&o.values.length>n?n:o.values.length,c=t.app?.xss?.filter?.disabled,d=c?xt(o,l):Tt(o,l),u=Hn(t)?.showFilterOptionCount;if("collection"===o.filterType&&o.activeCollectionAll){const t=x(lt)||0,e=window.boostSdCustomCollectionALl||{key:t,label:"All",displayName:"All",handle:"all"};d?.unshift(e)}for(const b of d){const e=pe(`${o.filterOptionId}-${b.key}`),n=o.keepValuesStatic&&0===b.doc_count;let l=s;b.isDisabled=n,a[`${o.filterOptionId}-${b.key}`]&&(l=i);const c={action:{optionCollection:{key:o.filterOptionId,value:b.key,label:o.label,filterType:o.filterType,displayName:b.displayName||b.label,handle:b.handle,actionId:e}}};if(b.tags?.length>0){b.existedTags=!0;const t=pe(`${o.filterOptionId}-arrow-${b.key}`),e=pe(`${o.filterOptionId}-target-${b.key}`),n=pe(`${o.filterOptionId}-target-arrow-${b.key}`);b.actionIdArrow=t,b.targetIdList=e,b.targetIdArrow=n,b.metaDataArrow={action:{expandCollapseMultiLevel:{actionId:t,targets:[{targetId:e,classToggle:"boost-sd__g-hide",shouldAddClass:!0},{targetId:n,classToggle:"boost-sd__arrow-icon--down",shouldAddClass:!1}]}}},b.tags.forEach((t=>{if(t.actionId=pe(`${N}-${t.tag}`),t.targetId=pe(`${N}-target-${t.tag}`),t.metaData={action:{optionCollection:{key:o.filterOptionId,value:b.key,displayName:b.displayName,collectionTag:me(t.tag),label:o.label,handle:b.handle,tagDisplayName:t.displayName,filterType:o.filterType,valueDisplay:t.label||"",actionId:t.actionId}}},t.className=s,a[`${N}-${t?.tag?.toLowerCase()}`]&&(t.className=i),t.subTags?.length>0){t.existedSubTags=!0;const e=pe(`${o.filterOptionId}-arrow-level2-${t.tag}`),n=pe(`${o.filterOptionId}-target-level2-${t.tag}`),r=pe(`${o.filterOptionId}-target-arrow-level2-${t.tag}`);t.actionIdArrow=e,t.targetIdList=n,t.targetIdArrow=r,t.metaDataArrow={action:{expandCollapseMultiLevel:{actionId:e,targets:[{targetId:n,classToggle:"boost-sd__g-hide",shouldAddClass:!0},{targetId:r,classToggle:"boost-sd__arrow-icon--down",shouldAddClass:!1}]}}},t.subTags.forEach((t=>{t.actionId=pe(`${N}-${t.tag}`),t.targetId=pe(`${N}-target-${t.tag}`),t.metaData={action:{optionCollection:{key:o.filterOptionId,value:b.key,displayName:b.displayName,collectionTag:me(t.tag),label:o.label,handle:b.handle,tagDisplayName:t.displayName,filterType:o.filterType,valueDisplay:t.label||"",actionId:t.actionId}}},t.className=s,a[`${N}-${t?.tag?.toLowerCase()}`]&&(t.className=i)}))}}))}const d=(window?.Shopify?.routes?.root||"/")?.replace(/\//g,"");r+=await t.templateRender(go(t).filterOptionMultiLevelCollection,{option:o,actionId:e,metaData:c,value:b,className:l,locale:d,showDocCount:u})}e.innerHTML=r;const p=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(p)}function Vo(t,e,o,n){t.filterTreeViewPort&&t.filterTreeViewPort[o]&&t.filterTreeViewPort[o].loaded<t.filterTreeViewPort[o].total&&"list"===t.filterTreeViewPort[o].displayType&&(Fo(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})}function Wo(t){if(null===t||"object"!=typeof t)return t;const e=Array.isArray(t)?[]:{};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=Wo(t[o]));return e}function Ho(t,e){if(e&&t?.subTags?.length>0){const e=Wo(t);return e.subTags=[t[0]],e}return t}async function zo(t,e,o,n,a=!1){if(!e)return;const s=ln(t),i="boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-button "+("multiple"===o.selectType?"boost-sd__filter-option-item-button--with-checkbox":""),r=i+" boost-sd__filter-option-item-button--selected";let l="";const c=n&&o.values.length>n?n:o.values.length,d=t.app?.xss?.filter?.disabled,u=d?xt(o,c):Tt(o,c),p=o.label;for(const m of u){const e=pe(`${o.filterOptionId}-${m.tag}`);let n=i;s[`${o.filterOptionId}-${m.tag?.toLowerCase()}`]&&(n=r);const c={action:{optionList:{key:o.filterOptionId,value:m.tag,label:o.label,filterType:o.filterType,selectType:o.selectType,valueDisplay:m.displayName||""}}};if(m.subTags?.length>0&&!a){const t=pe(`${o.filterOptionId}-arrow-${m.tag}`),e=pe(`${o.filterOptionId}-target-${m.tag}`),n=pe(`${o.filterOptionId}-target-arrow-${m.tag}`);m.actionIdArrow=t,m.targetIdList=e,m.targetIdArrow=n,m.metaDataArrow={action:{expandCollapseMultiLevel:{actionId:t,targets:[{targetId:e,classToggle:"boost-sd__g-hide",shouldAddClass:!0},{targetId:n,classToggle:"boost-sd__arrow-icon--down",shouldAddClass:!1}]}}},m.subTags.forEach((t=>{if(t.actionId=pe(`${o.filterOptionId}-${t.tag}`),t.targetId=pe(`${o.filterOptionId}-target-${t.tag}`),t.metaData={action:{optionList:{key:o.filterOptionId,value:t.tag,label:o.label,filterType:o.filterType,selectType:o.selectType,valueDisplay:t.displayName||""}}},t.className=i,s[`${o.filterOptionId}-${t.tag?.toLowerCase()}`]&&(t.className=r),t.subTags?.length>0){const e=pe(`${o.filterOptionId}-arrow-level2-${t.tag}`),n=pe(`${o.filterOptionId}-target-level2-${t.tag}`),a=pe(`${o.filterOptionId}-target-arrow-level2-${t.tag}`);t.actionIdArrow=e,t.targetIdList=n,t.targetIdArrow=a,t.metaDataArrow={action:{expandCollapseMultiLevel:{actionId:e,targets:[{targetId:n,classToggle:"boost-sd__g-hide",shouldAddClass:!0},{targetId:a,classToggle:"boost-sd__arrow-icon--down",shouldAddClass:!1}]}}},t.subTags.forEach((t=>{t.actionId=pe(`${o.filterOptionId}-${t.tag}`),t.targetId=pe(`${o.filterOptionId}-target-${t.tag}`),t.metaData={action:{optionList:{key:o.filterOptionId,value:t.tag,label:o.label,filterType:o.filterType,selectType:o.selectType,valueDisplay:t.displayName||""}}},t.className=i,s[`${o.filterOptionId}-${t.tag?.toLowerCase()}`]&&(t.className=r)}))}}))}l+=await t.templateRender(go(t).filterOptionMultiLevelTagTemplate,{option:o,actionId:e,metaData:c,value:Ho(m,a),label:p,className:n})}e.innerHTML=l;const b=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(b),a&&Uo(t,e,o.filterOptionId,o)}function Uo(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),Go(t,e,o,n),a.removeEventListener("mousemove",s),a.removeEventListener("touchstart",s,{passive:!0})}),200);a&&a.addEventListener("mousemove",s),a&&a.addEventListener("touchstart",s,{passive:!0})}const Go=(t,e,o,n)=>{t.filterTreeViewPort&&t.filterTreeViewPort[o]&&"list"===t.filterTreeViewPort[o].displayType&&(zo(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})};function Jo(t,e,o){const{$:n}=t;let{sliderStep:a,sliderRange:s}=o;const{min:i,max:r}=o.values;if(i===r)return;const[l,c]=t.useContextState("rangeFilter",{}),[d,u]=t.useContextState("filter",[]),p=d(),b=l(),m=r-i;isNaN(a)&&(a=1),isNaN(s)&&(s=1),a=Math.min(a,(r-i)/s);const{filterLayout:g,requestInstantly:f}=Hn(t),_="horizontal"!==g||S(t.app.generalSettings.isTabletPortraitMax),y="horizontal"===g&&!f&&!S(t.app.generalSettings.isTabletPortraitMax),h=n(".boost-sd__filter-option-range-slider-slider",e);if(!h)return;const w=n(".noUi-base",e),v=n(".noUi-handle-lower",e),k=n(".noUi-handle-upper",e),T=n('.boost-sd__filter-option-range-slider-input[aria-label="Min value"]',e),x=n('.boost-sd__filter-option-range-slider-input[aria-label="Max value"]',e),C=tn(o,p,T,x);function L({key:e="lower",value:n}){C.action.value[e]=n;const a=100-100*((n-i)/m);"lower"===e?(T.value=n,v.parentNode.style.transform=`translate(-${a}%, 0px)`):"upper"===e&&(x.value=n,k.parentNode.style.transform=`translate(-${a}%, 0px)`),t.updatedParams&&delete t.updatedParams[C.action.key],_&&be({isFilter:!0}),C.action.display[e]=a,b[o.filterOptionId]=C,C.status="selected",c(b);const s=Ko(t,d(),o,{key:o.filterOptionId,value:C.action.value},y);s&&(u(s),_&&He(t),vi({label:o.label,min:T.value,max:x.value}))}T&&(T.addEventListener("change",(function(t){let e=Number(t.target.value);(e>C.action.value.upper||e<i||e>r)&&(e=C.action.value.lower||i,T.value=e),L({key:"lower",value:e})})),T.value=C.action.value.lower||i),x&&(x.addEventListener("change",(function(t){let e=Number(t.target.value);(e<C.action.value.lower||e<i||e>r)&&(e=C.action.value.upper||r,x.value=e),L({key:"upper",value:e})})),x.value=C.action.value.upper||r),v.parentNode.style.transform=`translate(-${Math.abs(C.action.display.lower)}%, 0px)`,k.parentNode.style.transform=`translate(-${C.action.display.upper}%, 0px)`;let I=!1,A=null,E=null;const O=t=>{t.target===v&&(I=!0,A=t.target,E="minHandle"),t.target.parentNode===v&&(I=!0,A=t.target.parentNode,E="minHandle"),t.target===k&&(I=!0,A=t.target,E="maxHandle"),t.target.parentNode===k&&(I=!0,A=t.target.parentNode,E="maxHandle")},q=t=>{const e=window.boostWidgetIntegrationConfig?.filter?.rangeSlider?.removeDecimal;if(I){let o=t.clientX||t.pageX;!o&&t.touches&&(o=t.touches[0].clientX);const n=w.getBoundingClientRect().left,a=n+w.offsetWidth;if(o<n-2||o>a+2)return;const s=(o-n)/w.offsetWidth;let l=s*m+i;l=Dt(parseFloat(l).toFixed(e?0:2)),l=Math.min(Math.max(l,i),r);let c=100;"minHandle"===E&&(C.action.value.lower=l,T&&(T.value=l),c=100-100*s,C.action.display.lower=c),"maxHandle"===E&&(C.action.value.upper=l,x&&(x.value=l),c=100-100*s,C.action.display.upper=c),C.status="selected",A.parentNode.style.transform=`translate(-${c}%, 0px)`}},$=e=>{if(I){I=!1,A=null;let e=null;const n=C.action.value;if(n.lower>n.upper)return;"selected"!==C.status||zt(b[o.filterOptionId],C)&&_||null===n.lower||null===n.upper||(t.updatedParams&&delete t.updatedParams[C.action.key],_&&be({isFilter:!0}),b[o.filterOptionId]=C,c(b),e=Ko(t,d(),o,{key:o.filterOptionId,value:C.action.value},y)),n.lower===i&&n.upper===r&&(C.status="unselected",_&&be({isFilter:!0}),b[o.filterOptionId]=C,c(b),e=Qo(d(),{key:o.filterOptionId,value:n})),e&&(u(e),_&&He(t),vi({label:o.label,min:n.lower,max:n.upper}))}};h.addEventListener("mousedown",O),h.addEventListener("touchstart",O,{passive:!0}),h.addEventListener("mousemove",q),h.addEventListener("touchmove",q,{passive:!0}),document.addEventListener("mouseup",$),document.addEventListener("touchend",$,{passive:!0})}const Ko=(t,e,o,n,a)=>{const{key:s,value:i}=n,r=Yo(i),l=e?.filter((t=>t?.data?.key===s));if(l?.length>0)l.forEach((t=>{t.data.value=i,t.metaData={...t.metaData||{},value:r}}));else{const t=Zo(s,i,o);e.push(t)}if(Gt(s,r),a){const[e,n]=t.useContextState("filterOptionItemSelecting",{}),a=e();a[`${o.filterOptionId}`]||(a[`${o.filterOptionId}`]=!0),n(a)}return e},Qo=(t,e)=>{const{key:o,value:n}=e?.action||{};if(!o||!n)return t;const a=Yo(n);return((t,e)=>{Jt([{key:t,value:e}])})(o,a),t.filter((t=>t.data.key!==o))},Zo=(t,e,o)=>({data:{key:t,value:Xo(e),label:o.label,moneyFormatValue:o?.moneyFormatValue||""},metaData:{key:t,value:Yo(e),type:o.displayType||"range"},type:o.displayType||"range"}),Yo=t=>"string"==typeof t?t:`${t.lower}:${t.upper}`,Xo=t=>{if("string"==typeof t){const e=t.split(":");return{lower:e[0],upper:e[1]}}return t},tn=(t,e,o={},n={})=>{const{min:a,max:s}=t.values,i={action:{key:t.filterOptionId,value:{lower:a,upper:s},range:{lower:a,upper:s},display:{lower:-100,upper:0},label:t.label,position:t.position,moneyFormatValue:t.moneyFormatValue,actionId:"slider"},type:"range",status:"unselected"},r=e?.filter((e=>e?.data?.key===t.filterOptionId));if(r?.length>0){const t=r[0]?.data?.value;t?.lower<a&&(i.action.value.lower=a,o&&(o.value=a)),t?.upper>s&&(i.action.value.upper=s,n&&(n.value=s)),i.action.value=Xo(r[0].data.value);const e=s-a,l=100-(i.action.value.lower-a)/e*100,c=100-(i.action.value.upper-a)/e*100;i.action.display={lower:Math.min(l,100),upper:Math.max(c,0)}}return i};async function en(t,e,o,n){if(!e)return;const a=ln(t),s="boost-sd__filter-option-item-button boost-sd__filter-option-item-button--as-button "+("multiple"===o.selectType?"boost-sd__filter-option-item-button--with-checkbox":""),i=`${s} boost-sd__filter-option-item-button--selected`,[r,l]=t.useContextState("actionMapping",{}),c=r()||{};let d="";const u=n&&o.values.length>n?n:o.values.length,p=t.app?.xss?.filter?.disabled,b=p?xt(o,u):Tt(o,u);for(const g of b){const e=pe(`${o.filterOptionId}-${g.key}`);let n=s;a[`${o.filterOptionId}-${g.key}`]&&(n=i);const r=`${o.filterOptionId}.${e}`,l={optionList:{key:o.filterOptionId,value:g.key,label:o.label,actionId:e,filterType:o.filterType,selectType:o.selectType,valueDisplay:g.label}};c[o.filterOptionId]=c[o.filterOptionId]||{},c[o.filterOptionId][e]=l,d+=await t.templateRender(go(t).filterOptionRatingTemplate,{starColor:o.starColor,showExactRating:o.showExactRating,actionId:e,dataAction:r,value:g,className:n})}l(c),e.innerHTML=d;const m=new CustomEvent("afterRenderHtmlForFilter");window.dispatchEvent(m)}const on=(t,e,o,n)=>{t.filterTreeViewPort&&t.filterTreeViewPort[o]&&t.filterTreeViewPort[o].loaded<t.filterTreeViewPort[o].total&&"list"===t.filterTreeViewPort[o].displayType&&(en(t,e,n,t.filterTreeViewPort[o].total),t.filterTreeViewPort[o]={loaded:t.filterTreeViewPort[o].total,total:n.values.length,displayType:"list"})};function nn(t){const{filterLayout:e,showRefineBy:o}=Hn(t);if(!o)return;const n=cn(t);if(n&&n?.length>0){const o={refineBy:{title:"REFINE BY",options:n}};"horizontal"===e?async function(t,e){const o=t.$("#boost-sd__refine-by-horizontal-place");if(!o)return;o.innerHTML=e?await t.templateRender(go(t).refineByHorizontalTemplate,e):""}(t,o):async function(t,e){const o=t.$("#bc-refine-by");if(!o)return;o.innerHTML=e?await t.templateRender(go(t).refineByTemplate,e):""}(t,o),async function(t,e){const o=t.$("#bc-refine-by-mobile");let n="";const a=document.querySelectorAll(".boost-sd__custom-refine-by-mobile");e&&(a.length||o)&&(n=await t.templateRender(go(t).refineByTemplate,e));if(a?.forEach((t=>{t.innerHTML=n})),o)o.innerHTML=n;else{const o={};e?.refineBy?.options?.forEach((e=>{if(!e.metaData)return;const n=e.metaData.key;if(n&&e.metaData.value){let a=e.data?.valueDisplay||e.data?.value||e.metaData?.value;if("range"===e?.type&&a?.lower&&a?.upper){const{lower:o,upper:n}=a;if(!isNaN(o)&&!isNaN(n)){const s=e.data?.moneyFormatValue||"{{amount}}";a=`${Rt(t,o,s,!1)} - ${Rt(t,n,s,!1)}`}}o[n]?o[n]=[...o[n],a]:o[n]=[a]}})),Object.keys(o)?.forEach((e=>{const n=t.$(`${M} #${e?.replace(/::/g,"__")}-toggle-target-label .boost-sd__filter-option-mobile-items-selected`);n&&(n.innerHTML=o[e]?.toString())}))}}(t,o)}}const an=30,sn="collapseState";function rn(t){window.addEventListener("resize",gt((function(){mn(t)}),100)),t.render((function(){if(!t.state.filterTree||!t.state.filterTree?.options)return;On(t),Lt()&&zs(t);const{collection_handle:e,collection_id:o,page:n}=window.boostWidgetIntegration?.generalSettings||{};"collection"===n&&Mo(e,o),Qe(t)}),[]),t.render((()=>{nn(t)}),["filter"]),window.addEventListener("afterRenderHtmlForFilter",(function(e){const[o]=t.useContextState(Y.CURRENT_FOCUS,""),n=o(),a=document.getElementById(n),{filterLayout:s,filterTreeHorizontalStyle:i}=Hn(t);"horizontal"===s&&"style-expend"!==i?a?.closest(".boost-sd__filter-option")?.querySelector(".boost-sd__filter-option-title")?.focus():!function(t){const[e]=t.useContextState(Y.KEY_CODE,""),o=e();return 32===o||13===o}(t)?a?.closest(".boost-sd__filter-tree-wrapper")?.focus():(a?.setAttribute("tabindex","0"),a?.focus())}))}const ln=t=>{const[e]=t.useContextState("filter",[]);let o=e();o=Array.isArray(o)?o:[];return o.reduce(((t,e)=>({...t,[`${e.data.key}-${e.data.value}`.toLowerCase()]:!0})),{})},cn=t=>{const[e]=t.useContextState("filter",[]);let o=e();return o=Array.isArray(o)?o?.filter((t=>t&&t.data)):[],o},dn=t=>["list","box","swatch","range","rating","multi_level_collections"].includes(t),un=(t,e,o,n)=>{switch(!0){case"multi_level_collections"===o.displayType:Fo(t,e,o,n);break;case"list"===o.displayType&&"multi_level_tag"===o.filterType:zo(t,e,o,n,!0);break;case"list"===o.displayType&&"multi_level_tag"!==o.filterType:Co(t,e,o,n);break;case"box"===o.displayType:_o(t,e,o,n);break;case"swatch"===o.displayType:vo(t,e,o,n);break;case"rating"===o.displayType:en(t,e,o,n);break;case"range"===o.displayType:Jo(t,e,o);break;default:console.log("renderFilterOption not cover",o)}},pn=(t,e,o)=>{switch(!0){case"multi_level_collections"===o.displayType:!function(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),Vo(t,e,o,n),a.removeEventListener("mousemove",s),a.removeEventListener("touchstart",s)}),200);a&&a.addEventListener("mousemove",s,{passive:!0}),a&&a.addEventListener("touchstart",s,{passive:!0})}(t,e,o.filterOptionId,o);break;case"list"===o.displayType&&"multi_level_tag"===o.filterType:Uo(t,e,o.filterOptionId,o);break;case"list"===o.displayType&&"multi_level_tag"!==o.filterType:!function(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),Eo(t,e,o,n),a.removeEventListener("mousemove",s),a.removeEventListener("touchstart",s,{passive:!0})}),200);a&&a.addEventListener("mousemove",s),a&&a.addEventListener("touchstart",s,{passive:!0})}(t,e,o.filterOptionId,o);break;case"box"===o.displayType:!function(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),yo(t,e,o,n),a.removeEventListener("mousemove",s),a.removeEventListener("touchstart",s,{passive:!0})}),200);a&&a.addEventListener("mousemove",s),a&&a.addEventListener("touchstart",s,{passive:!0})}(t,e,o.filterOptionId,o);break;case"swatch"===o.displayType:!function(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),To(t,e,o,n),a.removeEventListener("mousemove",s),a.removeEventListener("touchstart",s,{passive:!0})}),200);a&&a.addEventListener("mousemove",s),a&&a.addEventListener("touchstart",s,{passive:!0})}(t,e,o.filterOptionId,o);break;case"rating"===o.displayType:!function(t,e,o,n){const a=e?.closest(V),s=gt((()=>{ft(t),on(t,e,o,n),a.removeEventListener("mousemove",s)}),200);a&&a.addEventListener("mousemove",s)}(t,e,o.filterOptionId,o);break;case"range"===o.displayType:Jo(t,e,o);break;default:console.log("renderLazyFilterOption not cover",o.displayType)}},bn=(t,e="clearAll",o)=>{const n=document.createElement("button");return n.type="button",n.id="boost-sd__button-toolbar-mobile-clear",n.className="boost-sd__button boost-sd__button--clear","clear"===e&&o?(n.textContent=de(t,"clear","Clear"),n.setAttribute("data-metadata",`{ "action": { "resetFilterOption": { "key": "${o}" }}}`)):(n.textContent=de(t,"clearAll","Clear All"),n.setAttribute("data-metadata",'{ "action": { "clearAllFilter": "" }}')),n};const mn=t=>{const e=t.$(M),o=t.$(j),{filterLayout:n,filterTreeHorizontalStyle:a,filterTreeMobileStyle:s}=Hn(t);if(!e||!o)return;const i=S(t.app.generalSettings.isTabletPortraitMax);i&&o&&"none"!==o?.style?.display&&(o.style.display="none"),!i&&o&&"none"===o?.style?.display&&(hn(t),o.style.display="unset",window.renderFilterTreeFirstLoad||(On(t),window.renderFilterTreeFirstLoad=!0));const r="style1"===s,l="style2"===s||"style2-fullwidth"===s,c="style3"===s||"style3-fullwidth"===s,d=!i&&"horizontal"===n,u=".boost-sd__filter-tree-horizontal-option-list",p="#boost-sd_filter-tree-mobile .boost-sd__filter-tree-vertical-option-list",b=e?.querySelector(".boost-sd__filter-option-itemwrapper--full-height");(c||r)&&i&&gn(t,"remove",p),l&&i&&(gn(t,"add",p),b?.classList?.remove(W)),d&&gn(t,"style-expand"===a?"remove":"add",u)},gn=(t,e,o)=>{null!==t.$(o)&&Array.from(t.$(o)?.querySelectorAll(".boost-sd__filter-option-itemwrapper"))?.forEach((t=>{"add"===e&&t?.classList?.add(W),"remove"===e&&t?.classList?.remove(W)}))},fn=t=>S(t?.app?.generalSettings?.isTabletPortraitMax)?t.$(M):t.$(j),_n=t=>{const{filterTreeMobileStyle:e}=Hn(t),o=t.$(M);"none"===o.style.display?o.style.display="block":o.style.display="none","style1"!==e?document.body.classList.add("boost-sd__g-no-scroll"):yn(t),On(t)};function yn(t){const e=S(t?.app?.generalSettings?.isTabletPortraitMax)?t.$(".boost-sd__toolbar-top-mobile .boost-sd__filter-tree-toggle-button"):t.$(".boost-sd__filter-tree-toggle-button--expand");e?.classList?.toggle("boost-sd__filter-tree-toggle-button--active");const o=document.querySelectorAll(".boost-sd__toolbar [tabindex]");o.length>0&&o.forEach((function(t){const o=t.getAttribute("tabindex");"0"===o?(t.setAttribute("tabindex","-1"),e?.removeAttribute("tabindex")):"-1"===o&&(t.setAttribute("tabindex","0"),e?.setAttribute("tabindex","0"),e?.focus())}))}const hn=t=>{const e=t.$(M);e&&(e.style.display="none"),document.body?.classList?.remove("boost-sd__g-no-scroll")};function wn(t){t?.state?.filterTree?.options?vn(t):t.render((()=>{t.state.filterTree&&t.state.filterTree.options&&vn(t)}),["filterTree"])}const vn=t=>{const[,e]=t.useContextState("filter",[]),{showOutOfStockOption:o,showSingleOption:n}=Hn(t),a={showOutOfStockOption:o,hideSingleOption:n},s=St(t.state.filterTree.options,a,t);e(kn(t,s,t.state.filter))},Sn=t=>{const e={};return t.forEach((t=>{e[t.tag]=t.displayName,t.subTags&&Object.assign(e,Sn(t.subTags))})),e},kn=(t,e,o)=>{const n=e.reduce(((t,e)=>({...t,[e.filterOptionId]:e})),{});let a=!1;const s=o.map((e=>{let{valueDisplay:o}=e.data;const{key:s,value:i}=e.data;if(e.type)return e;if(s===N)return a=!0,{data:{label:"Collection Tag",value:i,key:s,valueDisplay:i},metaData:{key:s,value:i},type:"tag"};if("range"===n[s].displayType)return Zo(s,i,n[s]);const r=n[s];if("multi_level_tag"===r.filterType&&!o){o=Sn(r.values)[i]}if("multi_level_tag"===r.filterType)r.valueDisplay=o;else if(r.values&&r.values.length>0&&r.values[0].label){const t=r.values.find((t=>String(t.key)===String(i)));t&&(r.valueDisplay=t.label)}return Ro(t,s,i,r)})),i=Gn(e);if(a){const t=s.find((t=>t.data.key===N)),e=s.find((t=>t.data.key===i)),o={...t.metaData};t.metaData.dependencies=[{...e.metaData}],e.metaData.dependencies=[o]}return s};function Tn(t,{preventPushHistory:e=!1}){const[,o]=t.useContextState("filter",[]);o([]),He(t),Zt({preventPushHistory:e}),be({isFilter:!0})}function xn(t,e){Cn(t,e,!0)}function Cn(t,e,o=!1){const{filterLayout:n}=Hn(t);let a=!0;o||"horizontal"!==n||(a=!1);const s=e.dependencies?[e,...e.dependencies]:[e],[i,r]=t.useContextState("filter",[]);let l=i();s.forEach((e=>{const{key:o,value:n,type:a,displayType:s}=e;l=l.filter((t=>t&&(t.metaData.key!==o||t.metaData.key===o&&t.metaData.value!==n))),$o(t,o,n,a||s)})),Jt(s),r(l),a&&He(t)}const Ln=(t={})=>{const{paramList:e,sort:o,pagination:n}=Xt();if(o){const[,e]=t.useContextState("sort",{});e({sort:o})}if(n.page){const[,e]=t.useContextState("pagination ",{});e({page:n.page})}const a=[];e.forEach((t=>{t.values.forEach((e=>{a.push({data:{key:t.key,value:e}})}))}));const[,s]=t.useContextState("filter",[]);s(a),t.handler(nn,"renderRefineBy")(t)},In=t=>{const e=window.location.pathname;if(e.startsWith("/collections/")){const n=e.split("/").slice(2);if(n.length>0){const e=n[0];t.app.generalSettings.collection_id=(o=e,(k(rt)||{})[o]||0),t.app.generalSettings.collection_handle=e}if(n.length>1){const e=(t=>(k(it)||{})[t])(n[1]);t.app.generalSettings.collection_tags=[e]}else t.app.generalSettings.collection_tags=null}var o};function An(t,e,o,n){const a=t.$(`#boost-sd__search-option-${s=e.filterOptionId,s.replace(/::/g,"__")}`,n);var s;a&&a.addEventListener("input",gt((function(n){const a=JSON.parse(JSON.stringify(e)),s=n.target.value?.toLowerCase();let i="key";"collection"===e.filterType&&(i="displayName"),a.values=a.values.filter((t=>t[i]?.toString()?.toLowerCase()?.includes(s))),un(t,o,a,e.values?.length)}),200))}function En(t,e){const[o]=t.useContextState("filterOptionIdMobileSelected",""),{level:n,key:a}=o();if(a===e.filterOptionId){t.$(".boost-sd__filter-tree-vertical-toolbar-middle",M).innerHTML=e.label}const s=cn(t);let i="";if(1!==n&&n){if(2===n&&a){s.find((t=>t.metaData?.key===a))&&(i=bn(t,"clear",a))}}else i=bn(t,"clearAll");if(i)if(0===s.length&&i.classList.add("boost-sd__g-hide"),t.$(tt))t.$(tt).replaceWith(i);else{const e=t.$(X);e?.append(i)}}async function On(t){const{$:e,useContextState:o}=t,[n]=o("filterTree",{});let a=n().options;if(!a)return await new Promise((t=>setTimeout(t,50))),On(t);const{showOutOfStockOption:s,showSingleOption:i,filterLayout:r,filterTreeHorizontalStyle:l,filterTreeMobileStyle:c}=Hn(t);a=St(a,{showOutOfStockOption:s,hideSingleOption:i},t),"horizontal"===r&&function(t,e){if(["style1","style2"].includes(t)&&"horizontal"===e){const e=document.querySelectorAll(`#boost-sd__filter-tree-wrapper .boost-sd__filter-option--${t}.boost-sd__filter-option--horizontal`);if(e?.length>0){const o="style1"===t?240:532;e?.forEach((e=>{const n=e?.getBoundingClientRect(),a=e?.querySelector(`.boost-sd__filter-option-itemwrapper--${t}`);window.innerWidth/2<n?.left&&window.innerWidth-n?.left<o&&(e?.setAttribute("style","position: relative"),a?.setAttribute("style","right: 0"))}))}}}(l,r),t.filterTreeViewPort||(t.filterTreeViewPort={});for(const d of a)d.values&&dn(d.displayType)&&(t.filterTreeViewPort[d.filterOptionId]={loaded:0,total:d.values.length,displayType:d.displayType});if(Object.keys(t.filterTreeViewPort).length>0){const o=["style2","style2-fullwidth","style3","style3-fullwidth"].includes(c)&&S(t.app.generalSettings.isTabletPortraitMax),n=fn(t);for(const[s,i]of Object.entries(t.filterTreeViewPort)){if(0!==i.loaded)continue;const r=s.replace(/::/g,"__"),l=e().querySelectorAll(`#${r}`);if(!l.length)continue;const c=Array.from(l).map((t=>t.closest(`${V}`))),d=a.find((t=>t.filterOptionId===s));c&&d&&A(c,(function(e){const a=e.querySelector(`#${r}`);if(a&&dn(i.displayType)){const e=d.values.length,i=e<an?e:an;t.filterTreeViewPort[s]={loaded:i,total:e,displayType:d.displayType},q((function(){return o&&En(t,d),An(t,d,a,n),e>i&&pn(t,a,d),un(t,a,d,i)}))}}))}}}const qn=(t,e,o)=>{t.$(`${j} #${e}`)?.setAttribute("data-metadata",o),t.$(`${j} #${e} svg`)?.setAttribute("data-metadata",o),t.$(`${j} #${e} svg path`)?.setAttribute("data-metadata",o),t.$(`${M} #${e}`)?.setAttribute("data-metadata",o),t.$(`${M} #${e} svg`)?.setAttribute("data-metadata",o),t.$(`${M} #${e} svg path`)?.setAttribute("data-metadata",o)},$n=(t,e,o)=>{t.$(`${j} #${e}`)?.closest(".boost-sd__filter-option")?.setAttribute("data-filterOptionId",o.filterOptionId),t.$(`${M} #${e}-target`)?.closest(".boost-sd__filter-option")?.setAttribute("data-filterOptionId",o.filterOptionId)},Pn=(t,e,o)=>{(o.showSearchBoxFilterPC||o.showSearchBoxFilterMobile)&&(o.showSearchBoxFilterPC||t.$(`${j} #${e}-target ${U}`)?.remove(),o.showSearchBoxFilterMobile||t.$(`${M} #${e}-target ${U}`)?.remove())};function Dn(t){const{options:e}=t.state?.filterTree||{},{keepToggleState:o,filterLayout:n,filterTreeHorizontalStyle:a,filterTreeMobileStyle:s}=Hn(t);if(!e)return;const i=!S(t.app.generalSettings.breakpointtabletportraitmax);if(function(t){t.render((()=>{const[e]=t.useContextState(sn,{}),o=e(),n=Object.keys(o);n.length>0&&n.forEach((e=>{!function(t,e){if(!e)return;const o=fn(t),n=e.targets;n.length>0&&n.forEach((e=>{const n=t.$(`#${e.targetId}`,o),a=e.shouldAddClass;n&&(a?n.classList.add(e.classToggle):n.classList.remove(e.classToggle))}))}(t,o[e])}))}),[sn])}(t),["style1","style3-fullwidth","style3"].includes(s)){const e=t?.document?.querySelectorAll(`${M} .boost-sd__filter-option-itemwrapper`);e?.length>0&&e?.forEach((t=>{t?.classList?.remove(W)}))}const[r,l]=t.useContextState(sn,{}),c=r(),[d]=t.useContextState("filter",[]),u=d();e.forEach((e=>{q((()=>{const o=`${e.filterOptionId.replace(/::/g,"__")}-toggle`,s=JSON.stringify({action:{filterOptionCollapse:{actionId:o}}});if($n(t,o,e),qn(t,o,s),Pn(t,o,e),!S(t.app.generalSettings.breakpointtabletportraitmax)&&"vertical"===n){const n=t.$(`${j} #${o}-target-label .boost-sd__button--clear`);if(n){const t=u.map((t=>t.data.key));if(!n.dataset.metadata){const t=JSON.stringify({action:{resetFilterOption:{key:e.filterOptionId},from:"client"}});n.setAttribute("data-metadata",t),n.querySelector("span")?.setAttribute("data-metadata",t)}t.includes(e.filterOptionId)?n.classList?.remove("boost-sd__g-hide"):n.classList?.add("boost-sd__g-hide")}}if(!S(t.app.generalSettings.breakpointtabletportraitmax)&&"horizontal"===n){const o=pe(`${e.filterOptionId}-apply-button`),n=pe(`${e.filterOptionId}-reset-button`),s=JSON.stringify({action:{applyFilterOption:{key:e.filterOptionId,from:"client"}}}),i=JSON.stringify({action:{resetFilterOption:{key:e.filterOptionId,from:"client"}}});if("style-expand"!==a){const e=t.$(`${j} #${o}`),a=t.$(`${j} #${n}`);e&&!e.dataset.metadata&&e.setAttribute("data-metadata",s),a&&!a.dataset.metadata&&a.setAttribute("data-metadata",i)}}}))}));const p=!S(t.app.generalSettings.breakpointtabletportraitmax)&&"horizontal"===n&&"style-expand"===a;if(p){const e=t.$(".boost-sd__filter-tree-horizontal-button");e&&(e.innerHTML='\n      <button id="boost-sd__apply-all-button" metadata=\'{"action": { "applyFilterOption": "applyAll" }}\' type="button" class="boost-sd__button boost-sd__button--apply">\n        <span class="boost-sd__button-text">'+t.app?.translation?.applyAll+'</span>\n      </button>\n      <button id="boost-sd__reset-all-button" metadata=\'{"action": { "clearAllFilter": "" }}\' type="button" class="boost-sd__button boost-sd__button--clear">\n          <span class="boost-sd__button-text">'+t.app?.translation?.clearAll+"</span>\n      </button>\n      ")}if(Object.keys(c)?.length>0&&!o)return;const b={};e.forEach((e=>{const o=`${e.filterOptionId.replace(/::/g,"__")}-toggle`,s=`${o}-target`,r=`${o}-target-label`,l=o,c=!S(t.app.generalSettings.breakpointtabletportraitmax)&&"horizontal"===n&&"style-expand"!==a;if("horizontal"!==n&&(b[l]={actionId:l,filterLayout:n,targets:[{targetId:s,classToggle:H,shouldAddClass:!(!i||!e.isCollapsePC)},{classToggle:"boost-sd__filter-option-label--collapsed",targetId:r,shouldAddClass:!(!i||!e.isCollapsePC)}]}),c&&(b[l]={actionId:l,filterLayout:n,targets:[{targetId:s,classToggle:W,shouldAddClass:!0},{classToggle:z,targetId:r,shouldAddClass:!1}]}),p){const e=fn(t);t.$(`#${s}`,e)?.classList?.remove(W)}})),l(b)}function Rn(t,e){if(S(t.app.generalSettings.isTabletPortraitMax))return void Vn(t,e);const{filterLayout:o}=Hn(t),[n,a]=t.useContextState(sn,{}),s=n();"horizontal"===o&&Object.keys(s).forEach((t=>{const o=s[t].targets;o&&o.length>0&&t!==e.actionId&&!o[0].shouldAddClass&&o[1]?.shouldAddClass&&(s[t]=Nn(s[t]))})),s[e.actionId]=Nn(s[e.actionId]),a(s)}function Nn(t){let e=t?.targets||[];return e.length>0&&(e=e.map((t=>(Jn(document.getElementById(t.targetId).querySelector(".boost-sd__filter-option-title")),{...t,shouldAddClass:!t.shouldAddClass}))),t.targets=e),t}function Mn(t){const[e,o]=t.useContextState(sn,{}),n=e();Object.keys(n).forEach((t=>{const e=n[t].targets;e&&e.length>0&&!e[0].shouldAddClass&&e[1]?.shouldAddClass&&(n[t]=Nn(n[t]))})),o(n)}function jn(t,e){if("applyAll"===e){const t=document.querySelector(".boost-sd__filter-tree-toggle-button.boost-sd__filter-tree-toggle-button--expand");t?.click()}be({isFilter:!0}),Mn(t),He(t);const[,o]=t.useContextState("filterOptionItemSelecting",{});o({})}function Bn(t,e){const{key:o}=e,[n]=t.useContextState("filterTree",{}),a=n()?.options,s=o===Gn(a)?[o,N]:[o],[i,r]=t.useContextState("filter",[]);r(i().filter((t=>t&&!s.includes(t.data.key)))),Mn(t),Qt(s),He(t)}function Fn(t,e){!function(t,e,o=""){if(!e)return;const n=e.targets;n.length>0&&n.forEach((e=>{const n=t.$(`${o?o+" ":""}#${e.targetId}`);n?.classList?.toggle(e.classToggle)}))}(t,e,S()?"#boost-sd_filter-tree-mobile":"")}const Vn=(t,e)=>{const o=fn(t),n=t.$(`#${e.elementId||`${e.actionId}-target`}`,o),{filterTreeMobileStyle:a}=Hn(t),s="style2"===a||"style2-fullwidth"===a,i="style3"===a||"style3-fullwidth"===a;if("style1"!==a){const n=t.$(".boost-sd__filter-tree-vertical-toolbar-middle",o),a=t.$(`#${e.actionId}`);n&&a&&(n.innerHTML=a.firstChild?.textContent?.replace(/\\n|\s/,""))}if(s||i){const o=t.$(tt),n=cn(t),a=e.actionId?.replace("-toggle",""),s=n.find((t=>t.metaData?.key===a)),[,i]=t.useContextState("filterOptionIdMobileSelected","");if(a&&i({level:2,key:a}),s){const e=bn(t,"clear",a);o.replaceWith(e)}else o&&o?.classList?.add("boost-sd__g-hide")}if(Array.from(t.$(M)?.querySelectorAll(".boost-sd__filter-option-label"))?.forEach((t=>{s&&t?.classList?.toggle("boost-sd__filter-option-label--hidden")})),n){const e=n?.closest(".boost-sd__filter-option")?.querySelector(".boost-sd__filter-option-title");Jn(e),"style2"===a&&t.$(G)?.classList?.remove(K),s&&(n.classList?.toggle(B),n.classList?.toggle(W),n.classList?.remove(H),t.$(G)?.classList?.add(Q),t.$(G)?.classList?.remove(Z));const o=t.$(".boost-sd__filter-option-listitem",n);if(o){const e=o?.closest(".boost-sd__filter-option"),n=e?.dataset?.filteroptionid,a=Wn(t,n);a&&((t,e,o)=>{switch(!0){case"multi_level_collections"===o.displayType:Vo(t,e,o.filterOptionId,o);break;case"list"===o.displayType&&"multi_level_tag"===o.filterType:Go(t,e,o.filterOptionId,o);break;case"list"===o.displayType&&"multi_level_tag"!==o.filterType:Eo(t,e,o.filterOptionId,o);break;case"box"===o.displayType:yo(t,e,o.filterOptionId,o);break;case"swatch"===o.displayType:To(t,e,o.filterOptionId,o);break;case"rating"===o.displayType:on(t,e,o.filterOptionId,o);break;case"range"===o.displayType:Jo(t,e,o);break;default:console.log(`renderFullyFilterOption not cover type ${o.displayType}`)}})(t,o,a)}}},Wn=(t,e)=>{const{useContextState:o}=t,[n]=o("filterTree",{});return n().options.find((t=>t.filterOptionId===e))},Hn=t=>t?{...t?.templateSettings?.filterSettings||{},swatch_settings:t?.app?.filterSettings?.swatch_settings}:(console.error("context getFilterSettings null"),{}),zn=(t,e)=>{const{filterLayout:o,filterTreeVerticalStyle:n}=Hn(t),[a,s]=t.useContextState(Y.DESKTOP_OPENING,!1),i=a();if("horizontal"===o){const o="#boost-sd__filter-tree-wrapper .boost-sd__filter-tree-horizontal",n=t.$(o,e);i?n?.classList?.add("boost-sd__filter-tree-horizontal--hidden"):n?.classList?.remove("boost-sd__filter-tree-horizontal--hidden"),yn(t),s(!i)}else{if("style-expand"===n){const o=".boost-sd__filter-tree-vertical",n=t.$(o,e);i?n?.classList?.add("boost-sd__filter-tree-vertical--hidden"):n?.classList?.remove("boost-sd__filter-tree-vertical--hidden"),yn(t),s(!i)}if("style-off-canvas"===n){const o="#boost-sd__filter-tree-wrapper #boost-sd__filter-tree-vertical--style-off-canvas",n=t.$(o,e);i?n?.classList?.add("boost-sd__filter-tree-vertical--hidden"):n?.classList?.remove("boost-sd__filter-tree-vertical--hidden"),yn(t),s(!i),document.body.classList.add("boost-sd__g-no-scroll")}}};function Un(t){const[e]=t.useContextState("filterTree",{}),o=e()?.options;o?.length>0&&o.forEach((e=>{["price","variants_price"].includes(e.filterType)&&(e.moneyFormatValue=me(t?.app?.shop?.money_format))}))}const Gn=t=>t?.length>0?t.filter((t=>"collection"===t.filterType))?.[0]?.filterOptionId:"pf_c_collection";function Jn(t){if(t){const e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",e?"false":"true")}}const Kn=["Enter"," ","Spacebar"];let Qn=!1;document.addEventListener("keydown",(t=>{Kn.includes(t.key)&&(Qn=!0)})),document.addEventListener("mousedown",(()=>{Qn=!1})),document.addEventListener("touchstart",(()=>{Qn=!1}));const Zn=()=>Qn,Yn=(t,e='a[href], button:not([disabled]), input[type=number], [tabindex]:not([tabindex="-1"])')=>{const o=t.querySelectorAll(e);let n=null;const a=t.querySelector(".boost-sd__quick-view-product-image");if("true"===(a?a.getAttribute("data-disable-image"):null)){const e=t.querySelector(".boost-sd__quick-view-product-info");e&&(n=e)}else o.length>0&&(n=o[0]);n&&n.focus()},Xn=(t,e,o='a[href], button:not([disabled]), input[type=number], [tabindex]:not([tabindex="-1"])',n=".boost-sd__modal-close-btn")=>{const a=e.querySelectorAll(o),s=a[0],i=a[a.length-1];if("Tab"===t.key)t.shiftKey?document.activeElement===s&&(i.focus(),t.preventDefault()):document.activeElement===i&&(s.focus(),t.preventDefault());else if("Escape"===t.key){const t=e.querySelector(n);t?.click()}};let ta=null;const ea=t=>{if(t){const e=t.closest(".boost-sd__cart-item"),o=e?.getAttribute("data-product-id"),n="input"===t.tagName.toLowerCase();o&&(ta={productId:o,isQuantityInput:n,attributeType:t.getAttribute("aria-label")})}},oa=()=>{if(!document.querySelector("#boost-sd__modal-cart"))return;new MutationObserver(((t,e)=>{const{productId:o,isQuantityInput:n,attributeType:a}=ta||{};let s=null;var i;s=n?document.querySelector(`[data-product-id="${o}"] input[type="number"]`):document.querySelector(`[data-product-id="${o}"] button[aria-label="${a}"]`),s&&((i=s)&&!i.disabled&&null!==i.offsetParent)&&(s.focus(),e.disconnect())})).observe(document.body,{childList:!0,subtree:!0})},na=()=>new URL(window.location.href).searchParams.get("variant")||"",aa=async t=>{const e=await(async(t,e)=>{if(!e)return[];let o={product_id:e,shop:_e(),country:window.Shopify.country||""};o=Wt(o),t.app.b2b?.enabled&&Ve(o,t);let n="";Object.keys(o).forEach((t=>{n+=(n?"&":"")+t+"="+o[t]}));const a=await fetch(`${t?.app?.productUrl}?${n}`);if(200===a.status){const e=await a.json();if(e.meta){const{money_format:o,money_format_with_currency:n,currency:a}=e.meta;We(t,{money_format:o,money_format_with_currency:n,currency:a})}return e}return{}})(t,window.boostSDData.product.id);if(!e)return null;window.boostSdPreOrderData=e;const o=e.variants,n=na();return T("preVariantIdSelected",n),n?o.find((t=>String(t?.id)===String(n))):o.find((t=>t?.available))},sa=t=>{const e=document.querySelector(".boost-sd__product-form");if(!e)return;const o=e.querySelector(".boost-sd__input-number-input"),n=e.querySelector(".boost-sd__input-number-btn-wrapper:first-child"),a=e.querySelector(".boost-sd__input-number-btn-wrapper:last-child"),s=e.querySelector(".boost-sd__product-form-quantity-error"),i=e.querySelector(".boost-sd__button--purchase"),r=e.querySelector(".boost-sd__btn-buy-now"),l=e.querySelector(".boost-sd__button--preorder"),c=e.querySelector(".boost-sd__button--preorder .boost-sd__button-text"),d=e.querySelector(".boost-sd__button--purchase .boost-sd__button-text"),u=e.querySelector(".boost-sd__preorder-note"),p=e.querySelector(".boost-sd__preorder-note-text"),b=e.querySelector(".boost-sd__purchase-options"),m=e.querySelector(".boost-sd__preorder-options");Zn()&&(Yn(e),e.addEventListener("keydown",(t=>Xn(t,e)))),n?.addEventListener("click",(t=>{t.preventDefault(),o&&(o.value=Math.max(1,Number(o.value)-1),s&&(s.style.display="none"))})),a?.addEventListener("click",(t=>{t.preventDefault(),o&&(o.value=Math.max(1,Number(o.value)+1),s&&(s.style.display="none"))})),o?.addEventListener("keypress",(t=>{const e=t.which||t.keyCode;46!==e&&e>31&&(e<48||e>57)&&t.preventDefault(),s&&(s.style.display="none")})),i?.addEventListener("click",(async()=>{if(o&&Number(o.value)<=0)return void(s&&(s.style.display="block"));const[e]=t.useContextState("variant-product-page",{}),n=e();t.handler(ua,"addToCart")(t,{productId:n.id,quantity:Number(o.value)},i,!1,(()=>{setTimeout((()=>{const t=document.querySelector("#boost-sd__modal-cart");t&&Yn(t)}),300)}))})),l?.addEventListener("click",(async()=>{const[e]=t.useContextState("variant-product-page",{}),n=e(),a=n?.preorder?.sellingPlan?.id||null;n&&t.handler(ua,"addToCart")(t,{productId:n.id,quantity:Number(o.value),selling_plan:a},l,!1,(()=>{setTimeout((()=>{const t=document.querySelector("#boost-sd__modal-cart");t&&Yn(t)}),300)}))})),r?.addEventListener("click",(()=>{if(o&&0===Number(o.value))return;const{value:t}=o;f&&v(`/cart/${f.id}:${t}`)}));const[g]=t.useContextState("variant-product-page",{}),f=g();if(!i||!f)return;0===Object.keys(f).length&&(l&&(l.style.display="none"),u&&(u.style.display="none"));const _=window.boostSDData?.product||{};if(!_||!Array.isArray(_.variants))return null;const y=_.variants,h=y.length>0&&!y[0].available,w=f&&0===Object.keys(f).length&&h||f&&Object.keys(f).length>0&&!f.available;if(f&&f.preorder){b&&(b.style.display="none"),m&&(m.style.display="block"),(t=>{document?.querySelectorAll(".boost-sd__preorder")?.forEach((t=>{t&&(t.style.display="none")}));const e=document.querySelector(`.boost-sd__preorder[data-variant-id="${t}"]`);e&&(e.style.display="block")})(f.id);const t=f.preorder?.settings?.buttonText,e=f.preorder?.settings?.showDeliveryText,o=f.preorder?.settings?.deliveryText;l&&t?c&&(c.textContent=t):c&&(c.textContent="Pre-Order"),u&&!0===e&&(u.style.display="block",p.textContent=o)}else m&&(m.style.display="none"),b&&(b.style.display="flex"),w?(i&&(i.setAttribute("disabled",!0),d&&(d.textContent="Sold out")),r&&r.setAttribute("disabled",!0)):(i&&(i.removeAttribute("disabled",!0),d&&(d.textContent=t.app?.translation?.productItem?.atcAvailableLabel||"Add to cart")),r&&r.removeAttribute("disabled",!0))},ia=async t=>{(t=>{document.addEventListener("click",(function(){let e=0;const o=k("preVariantIdSelected"),n=()=>{const[,a]=t.useContextState("variant-product-page",{}),s=na();if(s&&s!==o){T("preVariantIdSelected",s);const t=window.boostSdPreOrderData?.variants?.find((t=>String(t?.id)===String(s)));a(t)}else e<10?(e++,setTimeout(n,250)):console.log("Variant ID not changed after 5 retries.")};n()}))})(t),t.render((async()=>{const e=document.querySelector(".boost-sd__preOrder-container");e&&await async function(t,e){const o=window.boostSdPreOrderData||{},{template:n={}}=t.app,{preOrderTemp:a=""}=n,s=""!==a?a:go(t).preOrderTemplate,i=await t.templateRender(s,{...o,request:{money_format:t.app.shop.money_format,money_format_with_currency:t.app.shop.money_format_with_currency,currency_rate:window.Shopify?.currency?.rate}});e&&(e.innerHTML=i,sa(t))}(t,e)}),["variant-product-page"])};const ra=t=>(t?.selling_plan_allocation?.compare_at_price||0)/100,la=t=>(t?.selling_plan_allocation?.price||0)/100,ca={blockShop:{selector:".header--cart",action:t=>{const e=document.querySelector(".cart--external--icon"),o=document.querySelector(".cart--external--total-items");e&&o&&(e.setAttribute("data-item-count",t.toString()),o.innerHTML=t.toString())}},colorBlock:{theme:"abc",selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},craft:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},crave:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},dawn:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},debut:{selector:".site-header__cart",action:t=>{const e=document.querySelector(".site-header__cart");if(!e)return;document.getElementById("CartCount")?.remove();const o=document.createElement("div");o.id="CartCount",o.className=`site-header__cart-count ${t>0?"":"hide"} critical-hidden`,o.innerHTML=`<span data-cart-count="">${t}</span>\n <span class="icon__fallback-text medium-up--hide">items</span>`,e.append(o)}},default:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},ella:{selector:".cart-icon a",action:t=>{document.querySelectorAll(".cartCount").forEach((e=>e.innerHTML=t.toString()))}},empire:{selector:".site-header-cart--button",action:t=>{const e=document.querySelector(".site-header-cart--count");e&&(e.className="site-header-cart--count "+(t>0?"visible":""),e.setAttribute("data-header-cart-count",`${t||""}`))}},flex:{selector:".header-cart .header__link",action:t=>{const e=document.querySelectorAll(".header-cart__count");document.querySelectorAll(".header-cart").forEach((e=>e.className="header-cart action-area__link "+(t>0?"has-cart-count":""))),e.forEach((e=>e.innerHTML=t.toString()))}},flow:{selector:".site-header__cart-toggle",action:t=>{const e=document.querySelector(".cart-item-count-header");if(!e)return;const o="cart-item-count-header cart-item-count-header--has-label cart-item-count-header--quantity "+(t>0?"":"hide");e.className=o,e.innerHTML=t.toString()}},icon:{selector:".slideout__trigger--open a",action:t=>{document.querySelectorAll(".js-cart-count").forEach((e=>e.innerHTML=t.toString()))}},impulse:{selector:".js-drawer-open-cart",action:t=>{const e=document.querySelector(".cart-link__bubble");if(!e)return;const o="cart-link__bubble "+(t>0?"cart-link__bubble--visible":"");e.className=o}},motion:{selector:".js-drawer-open-cart",action:t=>{const e=document.querySelector(".cart-link__bubble");if(!e)return;const o="cart-link__bubble "+(t>0?"cart-link__bubble--visible":"");e.className=o}},prestige:{selector:'.Header__Wrapper [href*="cart"]',action:t=>{const e=document.querySelector(".Header__CartDot");if(e){const o="Header__CartDot "+(t>0?"is-visible":"");e.className=o}const o=document.querySelector(".Header__CartCount");o&&(o.innerHTML=t.toString())}},refresh:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},ride:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},sense:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},studio:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},superstore:{selector:".site-header-cart-button",action:t=>{const e=document.querySelector(".site-header-cart--count");e&&(e.className="site-header-cart--count "+(t>0?"visible":""),e.setAttribute("data-header-cart-count",`${t||""}`))}},symetry:{selector:"a.cart-link",action:t=>{const e=document.querySelector(".cart-link__icon");if(!e)return;if(document.querySelector(".cart-link__count")?.remove(),0===t)return;const o=document.createElement("span");o.className="cart-link__count",o.innerHTML=t.toString(),e.append(o)}},taste:{selector:".header__icon--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},testament:{selector:".js-mini-cart-trigger",action:t=>{document.querySelectorAll(".js-cart-count").forEach((e=>e.innerHTML=t.toString()))}},turbo:{selector:".header .icon-cart",action:t=>{document.querySelectorAll(".cart_count").forEach((e=>e.innerHTML=t.toString()))}},venture:{selector:".site-header__cart",action:t=>{const e=document.querySelector(".site-header__cart-indicator");if(!e)return;const o="site-header__cart-indicator "+(t>0?"":"hide");e.className=o}},venue:{selector:".header-trigger__link--cart",action:t=>{const e=document.querySelector(".header__icon--cart");if(!e)return;if(document.querySelector(".cart-count-bubble")?.remove(),0===t)return;const o=document.createElement("div");o.className="cart-count-bubble",o.innerHTML=`<span aria-hidden="true">${t}</span>\n<span class="visually-hidden">${t} item</span>`,e.append(o)}},warehouse:{selector:".header__cart-toggle",action:t=>{const e=document.querySelector(".header__cart-count");e&&(e.innerHTML=t.toString())}},expanse:{selector:"#HeaderCartTrigger",action:t=>{const e=document.querySelector(".cart-link__bubble"),o=document.querySelector(".cart-link__bubble-num");if(!e||!o)return;const n="cart-link__bubble "+(t>0?"cart-link__bubble--visible":"");e.className=n,o.innerHTML=t.toString()}}};window.boostWidgetIntegrationConfig={updateCartIconActionForThemes:ca};const da=()=>Object.values(window.boostWidgetIntegrationConfig.updateCartIconActionForThemes).find((t=>document.querySelector(t.selector))),ua=async(t,e,o,n,a,s)=>{const{productId:i,quantity:r=1,selling_plan:l=null}=e,c=o.querySelector(".boost-sd__cta-button-text, .boost-sd__btn-add-to-cart")||o;c.classList.contains("boost-sd__button--icon")||(c.textContent=t.app?.translation?.productItem?.atcAddingToCartBtnLabel||"Adding..."),c.setAttribute("disabled","true");const d={status:"",response:null};try{const o=n?await Fe.addMultiProductToCart(e):await Fe.add(i,r,l);if(200===o.status){c.classList.contains("boost-sd__button--icon")||(c.textContent=t.app?.translation?.productItem?.atcAddedToCartBtnLabel||"Added!");const{enableCart:e,autoOpenAjaxCartOnAddToCart:o=!0}=ie(t)?.cart||{},{noneCartOption:n=!1}=window.boostWidgetIntegration||{};if(e){const t=!n&&o?"boost-sd-open-cart":"boost-sd-re-render-cart";window.dispatchEvent(new CustomEvent(t))}else v("/cart");a&&setTimeout(a,300),d.status="success"}else c.textContent=t.app?.translation?.productItem?.atcFailedToCartBtnLabel||"Failed!",s&&setTimeout(s,300),d.status="failed";d.response=await o.json()}catch(u){c.textContent=t.app?.translation?.productItem?.atcFailedToCartBtnLabel||"Failed!",s&&setTimeout(s,300),d.status="failed"}return c.removeAttribute("disabled"),setTimeout((()=>{((t,e)=>{const[o]=e.useContextState("variant-product-page",{}),n=o();return!(t.classList.contains("boost-sd__button--icon")||!t?.classList.contains("boost-sd__button-text--preorder")&&!t?.classList.contains("boost-sd__button--preorder")||(t.textContent=n.preorder?.settings?.buttonText||"Pre-order",0))})(c,t)||c.classList.contains("boost-sd__button--icon")||(c.textContent=t.app?.translation?.productItem?.atcAvailableLabel||"Add to cart")}),500),d},pa=(t,e,o,n)=>{t?.contains(e.target)||n?.contains(e.target)||o(e)},ba=()=>{document.getElementById("boost-sd__modal-cart")?.remove(),document.body.classList.remove("modal-open-cart")},ma=t=>(t.final_price||t.price||0)/100,ga=async t=>{const e=await Fe.getAll(),{cartStyle:o="side",generalLayout:{shape:n="round"}}=ie(t)?.cart||{};let a="";return e?.items.forEach((e=>{e.price=Pt({context:t,value:ma(e)}),e.options_with_values=e?.options_with_values?.filter((t=>"Title"!==t.name&&"Default Title"!==t.value)),((t,e)=>{t?.selling_plan_allocation&&(t.selling_plan_allocation.price=Pt({context:e,value:la(t)}),t.selling_plan_allocation.compare_at_price=Pt({context:e,value:ra(t)}))})(e,t)})),a+=await t.templateRender(go(t).cartTemplate,{items:e.items,item_count:e.item_count,items_subtotal_price:Pt({context:t,value:(e?.items_subtotal_price||0)/100}),cartStyle:o,shape:n,locale:(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,"")}),{html:a,itemCount:e.item_count}},fa=t=>{const{elements:e}=t.app.templateSettings?.themeSettings?.productItems?.productInfo||{};if(e?.["swatches.1"]?.isEnable||e?.["swatches.2"]?.isEnable||e?.["swatches.3"]?.isEnable){const e=_a(t),o=Array.from(t.document?.querySelectorAll(".boost-sd__product-item, .boost-sd__product-item-list-view-layout"));o?.forEach(((t,o)=>{const n=Array.from(t?.querySelectorAll(".boost-sd__product-swatch")||[]).filter((t=>!t.closest(".boost-sd__popup-select-option"))),a=t?.querySelector(".boost-sd__product-image img"),s=a?a.src:null,{images:i,options_with_values:r,variantId:l}=ue(t.getAttribute("data-product"))||{};n?.forEach(((o,n)=>{const a=e[n]?.changeProductImageOn||"hover";if("none"===a)return;const c="hover"===a?"mouseenter":"click",d=l?[{src:s}]:i;"mouseenter"===c&&ha(o,t,d);const u=o?.querySelectorAll(".boost-sd__product-swatch-option");u?.forEach((e=>wa(c,t,o,e,r,i,d)))}))}))}},_a=t=>{const e=ie(t)?.productItems?.productInfo?.elements||{},o=[];return["swatches.1","swatches.2","swatches.3"].forEach((t=>{t in e&&e[t].isEnable&&o.push(e[t])})),o},ya=(t,e)=>{if(!t||!e?.length)return;const o=t.querySelectorAll(".boost-sd__product-image img");if(!o.length)return;const[n,a]=e,s=e.length>1,i=(t,e)=>{if(o[t]&&e&&!o[t].src?.includes(e.src)){o[t].src=e.src;const n=[200,300,400,500,700];o[t].srcset=((t,e)=>e.map((e=>`${t}?width=${e} ${e}w`)).join(", "))(e.src,n)}};i(0,n),o.length>1&&s&&i(1,a)},ha=(t,e,o)=>{t?.addEventListener("mouseleave",(()=>{if(window.boostSDKeepVariantOnHoverOutside)return;const n=t?.querySelector(".boost-sd__radio-label--selected");n?.classList.remove("boost-sd__radio-label--selected"),ya(e,o)}))},wa=(t,e,o,n,a,s,i)=>{let r;n?.addEventListener(t,(()=>{if(va({productItem:e,swatch:o,option:n,options_with_values:a,images:s,defaultImages:i}),"click"===t){"function"==typeof r&&r();const t=t=>{if(window.boostSDKeepVariantOnClickOutside)return;const n=o?.querySelector(".boost-sd__radio-label--selected");n?.classList.remove("boost-sd__radio-label--selected"),t?.closest(".boost-sd__radio-label")||ya(e,i)};r=((t,e)=>{const o=n=>{t.contains(n.target)||(e(n.target),document.removeEventListener("click",o))};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)})(o,t)}})),n?.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||va({productItem:e,swatch:o,option:n,options_with_values:a,images:s})}))},va=({productItem:t,swatch:e,option:o,options_with_values:n,images:a,defaultImages:s})=>{const i=o.querySelector(".boost-sd__radio-input")?.getAttribute("data-swatch-type"),r=n?.find((t=>t.name===i||t.original_name===i));if(r){const e=o.querySelector(".boost-sd__radio-input"),n=e?.getAttribute("value"),i=r?.values?.find((t=>t.title===n));i?.image?(e=>{const o=t.querySelectorAll(".boost-sd__product-image img");o&&0!==o.length&&o.forEach((t=>{const o=t.classList.contains("boost-sd__product-image-img--main")?e:e+1,n=a?.find((t=>t.position===o))?.src;n&&t.src!==n&&(t.src=n,t.srcset=n)}))})(i.image):ya(t,s)}(t=>{const o=e?.querySelector(".boost-sd__radio-label--selected");o?.classList.remove("boost-sd__radio-label--selected"),t?.classList.add("boost-sd__radio-label--selected")})(o.querySelector(".boost-sd__radio-label"))};let Sa=null;window.focusedElementBeforeMiniCart=null;const ka=(t,e,o)=>{Sa&&(Sa.style.display="none");if(!(e?.variant_id||e?.productId))return;const n=o?.closest(".boost-sd__product-item"),a=n.querySelector(".boost-sd__popup-select-option");if(a){a.style.display="block",xa(t,a),window.focusedElementBeforeMiniCart=document.activeElement,Yn(a,"label, button");const e=t=>{Xn(t,a,"label, button",".boost-sd__popup-select-option-close-btn")};a.addEventListener("keydown",e),Sa=a}},Ta=t=>{t.closest(".boost-sd__popup-select-option").style.display="none",t.closest(".boost-sd__product-item").querySelector(".boost-sd__button--select-option").focus()},xa=(t,e)=>{const o=e.querySelectorAll(".boost-sd__product-swatch"),n=e.querySelector(".boost-sd__btn-add-to-cart"),a=e.querySelector(".boost-sd__btn-add-to-cart .boost-sd__button-text"),s=e.closest(".boost-sd__product-item"),{variants:i}=ue(s.getAttribute("data-product"))||{};let r=i;if("string"==typeof i&&(r=ue(i)),!r)return;const[l,c]=t.useContextState("selection-option",{});c({selectedVariant:r[0]});(()=>{const t=e.querySelectorAll(".boost-sd__radio-label");t?.forEach((t=>{t?.classList.remove("boost-sd__radio-label--selected")}))})();const d=t=>{const o=t.parentNode.parentNode.querySelectorAll(".boost-sd__product-swatch-option");o?.forEach((t=>{const e=t.querySelector(".boost-sd__radio-label");e?.classList.remove("boost-sd__radio-label--selected")}));const n=t.querySelector(".boost-sd__radio-label");n?.classList.add("boost-sd__radio-label--selected");const a=e.querySelectorAll(".boost-sd__radio-label--selected");let s="";a?.forEach(((t,e)=>{s+=t.textContent.trim(),e<a.length-1&&(s+=" / ")}));const i=r?.find((t=>t.title===s))||{available:!1,id:"",price:null};c({selectedVariant:i})};o?.forEach((t=>{const e=t.querySelectorAll(".boost-sd__product-swatch-option");e?.forEach((t=>{(t=>{const e=t?.querySelector(".boost-sd__radio-label"),o=l().selectedVariant.title,n=e?.textContent.trim();o.split(" / ").includes(n)&&e.classList.add("boost-sd__radio-label--selected")})(t),t.addEventListener("click",(()=>{d(t)}));t.addEventListener("keyup",(e=>{Kn.includes(e.key)&&d(t)}))}))})),n?.addEventListener("click",(async()=>{const o=l().selectedVariant,a=o?.preorder?.sellingPlan?.id||null;t.handler(ua,"addToCart")(t,{productId:o.id,quantity:1,selling_plan:a},n,!1,(()=>{e&&(e.style.display="none")}))})),t.render((()=>{const e=l().selectedVariant;if(!n||!e)return;const o=!e.available;if(e.preorder){n?.classList.add("boost-sd__button--preorder"),n?.removeAttribute("disabled");const t=e.preorder?.settings?.buttonText;a&&t?a.textContent=t:a&&(a.textContent="Pre-Order")}else n?.classList.remove("boost-sd__button--preorder"),o?(n.disabled=!0,a&&!a.classList.contains("boost-sd__button--icon")&&(a.textContent=t.app?.translation?.productItem?.soldoutLabel||"Sold out")):(n?.removeAttribute("disabled"),a&&!a.classList.contains("boost-sd__button--icon")&&(a.textContent=t.app?.translation?.productItem?.atcAvailableLabel||"Add to cart"));n?.setAttribute("data-variant-id",e.id)}),["selection-option"])},Ca=(t,e,o)=>{if(o?.closest(".boost-sd__product-banner-link")){const t=o?.closest(".boost-sd__product-banner-link"),e=t.getAttribute("href");return void("_blank"===t.getAttribute("target")?window.open(e,"_blank").focus():v(e))}if(o?.closest(".boost-sd__product-item--embedded-bundle"))return;const n=o.tagName.toLowerCase(),a=o.closest("wishlist-button-collection"),s=o.dataset.noRedirect,i=o.closest("[data-no-redirect='true']");if("wishlist-button-collection"===n||a||"true"===s||i)return;const r=o.closest(".boost-sd__product-item"),{addCollectionToProductUrl:l,current_tags:c=[]}=t.app?.generalSettings||{};if(r){const{handle:e,splitProduct:o,variantId:n,variants:a}=ue(r.getAttribute("data-product"))||{},s=r.getAttribute("data-product-id"),i=Vt(t,{variants:a,variant_id:n,handle:e,split_product:o},l,c),d=Ea(t,r);Aa(t,d,s),v(i)}},La=async(t,e,o,n,{showCentAsSuperscript:a,showCurrencyCodes:s,compareAtPricePosition:i,showSavingDisplay:r,textAlign:l,productItemSavingAmountTranslation:c,productItemAmountTranslation:d})=>{let u="";const{isSale:p,salePercent:b,saleAmount:m}=(({priceMin:t,compareAtPriceMin:e})=>{t=Number(t);const o=((e=Number(e))||0)>t;return{isSale:o,salePercent:o&&e?Math.round(100*((e||0)-t)/e)+"%":void 0,saleAmount:o?(e||0)-t:void 0}})({priceMin:e,compareAtPriceMin:o}),g=Pt({context:t,value:Number(e),showCurrencyCodes:s,showCentAsSuperscript:a,removeDecimalPoint:a}),f=Pt({context:t,value:Number(n),showCurrencyCodes:s,showCentAsSuperscript:a,removeDecimalPoint:a}),_=Pt({context:t,value:m}),y=o&&"0"!==o&&p?Pt({context:t,value:Number(o),showCurrencyCodes:s,showCentAsSuperscript:a,removeDecimalPoint:a}):null,h=r&&m?ce(c,{salePercent:b,saleAmount:_}):null,w=n?ce(d,{minPrice:g,maxPrice:f}):g;return u+=await t.templateRender(go(t).productPriceTemplate,{compareAtPricePosition:i,isSale:p,textAlign:l,priceValueWithFormat:w,compareAtPriceWithFormat:y,savingPriceWithFormat:h}),u},Ia=t=>{if("filter"===t.blockType){const e=t.document?.querySelector(".boost-sd__product-list");if("true"===e?.dataset?.productPrice)return}if("recommendation"===t.blockType){const e=t.document?.querySelector(".boost-sd__recommendation");if("true"===e?.dataset?.productPrice)return}const e=t.document?.querySelectorAll(".boost-sd__product-item, .boost-sd__product-item-list-view-layout"),{showCentAsSuperscript:o,showCurrencyCodes:n,compareAtPricePosition:a,showSavingDisplay:s}=t?.templateSettings?.themeSettings?.productItems?.productInfo?.elements?.price||{},{textAlign:i}=t?.templateSettings?.themeSettings?.productItems?.productInfo||{},r=t.app.translation?.productItem?.amount,l=t.app.translation?.productItem?.savingAmount,c=new IntersectionObserver((e=>{e.forEach((async e=>{if(e.isIntersecting){const{target:d}=e,u=d.querySelector(".boost-sd__product-price");if(!u)return;const{priceMin:p,priceMax:b,compareAtPriceMin:m,compareAtPriceMax:g}=ue(d.getAttribute("data-product"))||{},f=`${p}-${m}`==`${b}-${g}`,_=/\{\{(?:\s*minPrice\s*|\bminPrice\b)\}}|{{\s*maxPrice\s*|\bmaxPrice\b}}/i,y=_?.test(r),h=f||!y,w=await La(t,p,m,h?null:b,{showCentAsSuperscript:o,showCurrencyCodes:n,compareAtPricePosition:a,showSavingDisplay:s,textAlign:i,productItemSavingAmountTranslation:l,productItemAmountTranslation:r});w&&w.match(/\d/)&&(u.innerHTML=w),c.unobserve(d)}}))}));e?.forEach((t=>{c.observe(t)}))},Aa=(t,e,o)=>{const n=Yt("page"),a=n?Number(n):1,s=t?.defaultParams?.limit||24,i=Math.ceil((e+1)/s)||1,r=k(b),l=ie(t)?.additionalElements?.pagination?.paginationType||g,c={[g]:a,[f]:r-1+i,[_]:r-1+i};if(!l)return;const d=c[l];T(u,c[l]),T(p,o),Gt("page",d.toString(),!0)},Ea=(t,e)=>{const o=t.document.querySelectorAll(".boost-sd__product-list .boost-sd__product-item");for(let n=0;n<o.length;n++)if(o[n]===e)return n;return-1},Oa=(t,e,o,n,a,s)=>{const i=()=>{if(0===t.document.querySelectorAll(".boost-sd__product-image-wrapper--auto").length)return;const i=Array.from(t.document.querySelectorAll(".boost-sd__product-item"));let r=e;window.innerWidth>a?r=o:window.innerWidth>n&&(r=s);const l=t=>{let e=0;const o=o=>{const{naturalHeight:n,naturalWidth:a}=o,s=n/a;s>e&&(e=s),t.forEach((t=>{const o=t.querySelector(".boost-sd__product-image-wrapper--auto");o&&(o.style.aspectRatio=`1/${e}`)}))};t.forEach((t=>{const e=t.querySelector(".boost-sd__product-image-wrapper--auto img");e&&(e.complete?o(e):(e.onload=()=>o(e),e.onerror=()=>{console.error("Failed to load image:",e.src)}))}))};for(let t=0;t<i.length;t+=r){l(i.slice(t,t+r))}},r=gt(i,200);window.addEventListener("resize",r),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()};let qa;async function $a(){if(qa)return qa;const{Liquid:t}=await i.e(102).then(i.bind(i,9443));return qa=new t,qa.registerFilter("currency_format",(function(t,e){function o(t,e){return void 0===t?e:t}function n(t,n,a,s){if(0!==t&&!t)return"";n=o(n,2),a=o(a,","),s=o(s,"."),t=parseFloat(`${t}`).toFixed(n);const i=(r=t.toString(),r?.replace(/[.,]00$/,"")).split(".");var r;const l=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+a),c=i[1]?s+i[1]:"";return(e||"${{amount}}").replace(/&#36;/g,"$").replace(/\{\{\s*(\w+)\s*\}\}/,l+c)}switch(e){case"amount":case"amount_with_space_separator_no_comma":default:return n(t,2);case"amount_no_decimals":return n(t,0);case"amount_with_comma_separator":return n(t,2,".",",");case"amount_no_decimals_with_comma_separator":return n(t,0,".",",");case"amount_no_decimals_with_space_separator":return n(t,0," ",".")}})),qa.registerFilter("translate",Pa),qa.registerFilter("json_parse",Ra),qa.registerFilter("compare",(function(t,e){return(t=String(t))===(e=String(e))})),qa.registerFilter("pagination_list",(function(t,e){return Da(t,e).join(",")})),qa.registerFilter("product_metafield",(function(t,e){if("object"!=typeof t)return"";if(!t.metafields||0===t?.metafields.length)return"";const[o,n]=e.split("."),a=t.metafields.find((t=>String(t.namespace)===String(o)&&String(t.key)===String(n)));if(a)return a.value;const s=t.metafields.find((t=>String(t.namespace)===String(o)));return s?s.value:""})),qa.registerFilter("format_currency",Va),qa}function Pa(t,e,o){if(!e||"object"!=typeof e||!t)return o;const n=t.split(".");let a=e;for(const s of n){if(!Object.prototype.hasOwnProperty.call(a,s))return o;a=a[s]}return"string"!=typeof a?o:void 0!==a?a:o}const Da=(t,e)=>e<6?[...Array(e).keys()].map((t=>t+1)):t<5?[1,2,3,4,5,0,e]:e-t<4?[1,0,e-4,e-3,e-2,e-1,e]:[1,0,t-1,t,t+1,0,e];function Ra(t){try{return JSON.parse(t)}catch(e){return console.log(e),t}}const Na=t=>{const e=(t||"${{amount}}").match(/\{\{\s*(\w+)\s*\}\}/);return e&&e.length>1?e[1]:""},Ma=(t,e)=>{function o(t,e){return void 0===t?e:t}function n(t,e,n,a){if(0!==t&&!t)return"";e=o(e,2),n=o(n,","),a=o(a,".");const s=(t=parseFloat(`${t}`).toFixed(e)).toString().split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(s[1]?a+s[1]:"")}switch(t){case"amount":case"amount_with_space_separator_no_comma":default:return n(e,2);case"amount_no_decimals":return n(e,0);case"amount_with_comma_separator":return n(e,2,".",",");case"amount_no_decimals_with_comma_separator":return n(e,0,".",",");case"amount_no_decimals_with_space_separator":return n(e,0," ",".")}},ja=(t,e)=>{let o=e||"${{amount}}";return o=o.replace(/&#36;/g,"$").replace(/\{\{\s*(\w+)\s*\}\}/,t),o},Ba=(t,e,o)=>{const n=(t=>{switch(t){case"amount":case"amount_with_space_separator_no_comma":return".";case"amount_with_comma_separator":return",";default:return null}})(e);if(!n)return[`${t}`];const[a,s]=`${t}`.split(n);return s?[a,o?`${s}`:`${n}${s}`]:[a]},Fa=(t,e)=>{const o=new RegExp("(\\"+e+"\\d+)+","gi");return(""+t).replace(o,"")},Va=(t,e,o,n,a,s)=>{const i=Na(e);let r=Ma(i,t);if(s&&(r=r.replace(/((,00)|(\.00))$/g,"")),n&&(r=Fa(r,a)),o){const[t,e]=Ba(r,i,o);e&&(r=`${t}<sup>${e}</sup>`)}return ja(r,e)};async function Wa(t){if(t.app.templateMetadata){const e=["collectionHeader","cart","collectionFilters","quickView","recommendation","searchPage"],o=Object.keys(t.app?.template),n=[];if(e.filter((t=>!o.includes(t))).forEach((e=>{t.app?.templateMetadata[e]&&n.push({name:e,id:t.app.templateMetadata[e]})})),n.length>0){const o=await Ue(t,t.app.templateMetadata.themeNameLib,n);await $a(),o&&o.templates&&Object.keys(o.templates).length>0&&(e.forEach((e=>{const n=t.app.templateMetadata[e];n&&o.templates[n]&&(t.app.template[e]=o.templates[n])})),t.app.templateParsed={},t?.app?.template&&t?.app?.template.length>0&&Object.keys(t.app.template).forEach((async e=>{t.app.templateParsed[e]=await async function(t){return(await $a()).parse(t)}(t.app.template[e])})))}}}const Ha=(t,e)=>{const o=t.app?.templateMetadata;if(!o)return null;let n=null;for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===e&&(n=i);if(!n)return n;const a=t.app?.templateParsed||{};if(a[n])return a[n];const s=t.app?.template;return s[n]?s[n]:null};async function za(t){try{return await t.json()}catch(e){return t}}const Ua=(t,e,o)=>{const[n]=t.useContextState("filter",[]),[a]=t.useContextState("sort",{}),[s]=t.useContextState("pagination ",{}),[i]=t.useContextState("filter-toggle-button",{}),r=ee(n()),[l]=t.useContextState("filterTree",{}),c=l().options;let d={...t.defaultParams,...r};if(c?.forEach((t=>{t.useAndCondition&&(d[`${t.filterOptionId}_and_condition`]=!0)})),a&&a().sort&&(d.sort=a().sort),s&&s().page&&(d.page=s().page),d.isMobile=S(t.app.generalSettings.isTabletPortraitMax||575),d.isTabletPortraitMax=S(t.app.generalSettings.isTabletPortraitMax),d.first_load=!1,e&&(d={...d,...e}),i()&&i().showFilterTree&&(d.showFilterTree=!0),d.pf_tag&&(d.tag=d.pf_tag,delete d.pf_tag),0!==Object.keys(r).length?d.filter=!0:delete d.filter,qt()){const t=new URL(window.location.href).searchParams.get("q");t&&(d.vendor=t)}else if(Ot()){const t=new URL(window.location.href).searchParams.get("q");t&&(d.product_type=t)}return o?o(d):d};function Ga(t="filter",e,o=[]){if(!e)return;const n=x(d)||{};n[t]=e,o&&Array.isArray(o)&&o.forEach((o=>{const a="search"===t?Re.search_page:"suggest"===t?Re.instant_search:Re.product_page;n[`${o.widgetId}_${a}`]=e})),C(d,n)}const Ja=(t,e)=>{let o=t.$(M);if(o?.style&&"none"!==o?.style?.display){const n=t.$(F,o);if(n){const a=n.innerHTML,s=n.id;e(),o=t.$(M),Vn(t,{elementId:s}),t.$(`#${s}`,o)&&(t.$(`#${s}`,o).innerHTML=a)}else e();t.$(M)&&(t.$(M).style.display="unset"),On(t)}else e()},Ka=(t,e,o)=>{const n=t.document.querySelector(".boost-sd__product-list");e=e?.replace(/loading="lazy"/g,"");const a=document.createElement("div");a.innerHTML=e;const s=a?.querySelector(".boost-sd__product-list"),i=s?.innerHTML;if("previous"===o){const t=n.querySelector(".boost-sd__product-item");t&&t.insertAdjacentHTML("beforebegin",i)}else if("more"===o){const t=n.querySelector(".boost-sd__product-item:last-child");t&&t.insertAdjacentHTML("afterend",i)}Ia(t)},Qa="dynamicBundleKey",Za="boost-sd__dynamic-bundle-modal-",Ya=".boost-sd__modal-wrapper",Xa=".boost-sd__recommendation",ts="boost-sd__dynamic-bundle-search-page",es=".boost-sd__recommendation-bundle-image-item",os=".boost-sd__btn-add-to-cart",ns="init-data",as="change-variant",ss="click-checkbox",is="boost-sd__dropdown-option-list",rs="boost-sd__dropdown-option-list--open",ls="boost-sd__dropdown-selected-option",cs="boost-sd__dropdown-option--selected",ds={titleName:"Buy more and save",templateType:"default",titleAlignment:"center",titleTextColor:"#3D4246",titleFont:"Poppins",titleTextTransform:"capitalize",titleFontStyle:"regular",titleFontSize:14,buttonBackgroundColor:"#111111",buttonText:"Add bundle to cart",buttonTextColor:"#FFFFFF",isDefault:!1},us="recommendationDynamicBundle",ps="recommendationEmbeddedBundle",bs="DynamicBundleDataSession",ms="DynamicBundleOpening",gs="DynamicBundleCheckBox",fs="DynamicBundleComboBox",_s=(t,e)=>{const{showCentAsSuperscript:o,showCurrencyCodes:n}=t.templateSettings?.themeSettings?.productItems?.productInfo?.elements?.price||{};return Pt({context:t,value:Number(e),showCurrencyCodes:n,showCentAsSuperscript:o,removeDecimalPoint:o})},ys=async(t,e="recommendationDynamicBundle")=>{const{templates:o={}}=await Ue(t,t.app.templateMetadata?.themeNameLib,[{name:e,id:t.app.templateMetadata?.[e]}]);return o[t.app.templateMetadata?.[e]]||""},hs=(t,e,o)=>{const[n]=t.useContextState(`${Qa}-${e}`,{});return{...n(),isPopupDynamicBundleOpening:o}},ws=async(t,e,o,n,a,s)=>{const i=await ys(t,a),r=await t.templateRender(i,{bundle:o,...js(t,e),locale:(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,"")});if(n){n.innerHTML=r;const e=document?.getElementById(`${Za}${t.blockType}`)?.querySelector(Ya);e&&Js(e,t,!0)}else if(o?.isPopupDynamicBundleOpening){const e=document?.getElementById(`${Za}${t.blockType}`)?.querySelector(Ya);e&&(e.innerHTML=r,e.style.display="block",Js(e,t,!0))}else{const e=Ss(t);e&&(e.innerHTML=r,Js(e,t,!1))}"function"==typeof s&&s()},vs=async(t,e)=>{const o=e?.closest(Xa)?.dataset?.widgetId,n=hs(t,o),a=[],s=n?.products?.map((t=>t.selectedOption.id)).join(",");if(n?.products)for(const d of n.products){if(!d.checked)continue;const{id:t,rawPrice:e}=d.selectedOption;a.push({id:t,quantity:1,properties:{BoostBundle:"",_boostBundleId:n.widgetId,_boostBundleType:n.bundle_type,_boostItemPrice:e,_boostBundleProducts:s}})}const i=e?.closest(os),r=i?.querySelector("span"),l=r.innerText||"Add bundle to cart",c=r||e;c.textContent=t.app?.translation?.productItem?.atcAddingToCartBtnLabel||"Adding...",i.setAttribute("disabled",!0);try{if(200===(await Fe.addMultiProductToCart(a)).status){c.textContent=t.app?.translation?.productItem?.atcAddedToCartBtnLabel||"Added!";const{enableCart:e,autoOpenAjaxCartOnAddToCart:o=!0}=ie(t)?.cart||{},{noneCartOption:n=!1}=window.boostWidgetIntegration||{};if(e){const e=!n&&o?"boost-sd-open-cart":"boost-sd-re-render-cart";window.dispatchEvent(new CustomEvent(e)),xs(t)}else v(ge("cart"))}else c.textContent=t.app?.translation?.productItem?.atcFailedToCartBtnLabel||"Failed!",i.removeAttribute("disabled")}catch{c.textContent=t.app?.translation?.productItem?.atcFailedToCartBtnLabel||"Failed!",i.removeAttribute("disabled")}setTimeout((function(){c.textContent=l}),500)},Ss=t=>{let e=null;return"instantSearch"===t.blockType?e=document?.getElementById(`${Za}${t.blockType}`)?.querySelector(Ya):Lt(t)&&(e=document?.getElementById(ts)),e},ks=(t,e,o,n,a)=>{const[s]=t.useContextState(`${Qa}-${e}`,{}),i=s();if(i)return Bs(t,i,o,n,a);console.error("Bundle data not found")},Ts=async(t,e)=>{const o=document.getElementById(`${Za}${t.blockType}`),n=o?.querySelector(Ya),a=hs(t,e,!0);T(ms,e),ws(t,e,a,n,us,(function(){if(n){o.style.display="flex";const t=o?.querySelector('[tabindex="0"]')||o?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&t.focus()}}))},xs=t=>{const e=k(ms),o=document.getElementById(`${Za}${t.blockType}`);if(o&&(o.style.display="none",Zn())){const t=document?.querySelector(`.boost-sd__product-bundle[data-widget-id = "${e}"]`);t?.focus()}},Cs=t=>t?.classList?.remove(rs),Ls=()=>{const t=document?.querySelectorAll(`.${is}.${rs}`);t?.forEach(Cs)},Is=t=>{const e=t?.closest(".boost-sd__dropdown-dynamic"),o=e?.querySelector(`.${rs}`);Ls(),o||e?.querySelector(`.${is}`)?.classList?.add(rs)},As=async(t,e,o)=>{const n=e?.closest(".boost-sd__dropdown-dynamic-item"),a=e?.closest(".boost-sd__dropdown-dynamic"),s=a?.querySelector(".boost-sd__dropdown-selected-option"),i=s?.getAttribute("id");if(i&&T(fs,i),n){const a=n.dataset?.variantId,s=e?.closest(es)?.dataset?.productId,i=e?.closest(Xa)?.dataset?.widgetId,r=ks(t,i,{variantId:a,productId:s},as,e);ws(t,i,r,o,us,(function(){if(Zn()){const t=k(fs),e=document?.querySelector(`#${t}`);e?.focus()}})),e?.closest(`.${rs}`)?.classList?.remove(rs)}},Es=(t,e,o,n)=>{As(t,e,n),(async(t,e,o)=>{const n=e?.closest(".boost-sd__recommendation-bundle-checkbox"),a=e?.closest(".boost-sd__recommendation-bundle-checkbox-box"),s=a?.getAttribute("id");if(s&&T(gs,s),n){const n=e?.closest(es)?.dataset?.productId,a=e?.closest(Xa)?.dataset?.widgetId,s=await ks(t,a,{productId:n},ss,e);ws(t,a,s,o,us,(function(){if(Zn()){const t=k(gs),e=document?.querySelector(`#${t}`);e?.focus()}}))}})(t,e,n),e?.closest(`.${ls}`)?Is(e):Ls(),(!e?.closest(Xa)&&!e?.closest(".boost-sd__product-bundle")||e?.closest(".boost-sd__modal-close-btn--dynamic-bundle"))&&xs(t);ye(o,"a.boost-sd__recommendation-bundle-link, a.boost-sd__recommendation-bundle-link-image")},Os=t=>t?.available,qs=t=>t?.checked,$s=(t,e)=>String(t.id)===String(e.selectedOption?.id),Ps=()=>"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(t){return(6*Math.random()|0).toString(16)})),Ds=(t,e,o)=>{const n=t.target,a=n?.closest(".boost-sd__dropdown-dynamic");if(!a)return;const s="true"===a.getAttribute("aria-expanded"),i=a?.querySelector('[role="listbox"]'),r=i?.querySelectorAll('[role="option"]');let l=Array.from(r).findIndex((t=>t.classList.contains(cs)));const c="ArrowUp"===t.key,d="ArrowDown"===t.key,u="Escape"===t.key||27===t.keyCode;s&&(c||d)&&(t.preventDefault(),l=d?(l+1)%r.length:(l-1+r.length)%r.length,r.forEach((t=>t.classList.remove(cs))),r[l].classList.add(cs),a.setAttribute("aria-activedescendant",r[l].id),r[l].scrollIntoView({block:"nearest"}),r[l].focus()),s&&Kn.includes(t.key)&&As(e,n,o),s&&u&&(a.setAttribute("aria-expanded","false"),Ls())},Rs=(t,e)=>{t?.closest(`.${ls}`)?(e?.setAttribute("aria-expanded","true"),Is(t)):(e?.setAttribute("aria-expanded","false"),Ls())},Ns=(t,e)=>{e.addEventListener("click",(o=>{const n=o.target;Es(t,n,o,e),n?.closest(os)&&vs(t,n)})),e.addEventListener("keydown",(o=>{Ds(o,t,e);const n=o.target;if(Kn.includes(o.key)){n?.closest(os)&&vs(t,n);const e=n?.closest(".boost-sd__dropdown-dynamic");Rs(n,e)}}))},Ms=(t,e)=>{Vs(t),e?.addEventListener("click",(function(e){const o=e.target;if(Es(t,o,e),o?.closest(".boost-sd__recommendation-dynamic-show-popup")){const e=o?.closest(Xa)?.dataset?.widgetId;Ts(t,e)}}))},js=(t,e)=>{let o=t?.app?.recommendationWidgets?.["dynamic-bundle"]?.[e]?.widgetDesignSettings||{};o={...t?.app?.recommendationWidgets?.dynamicBundleDefaultSettings||ds,...o};const{titleFontStyle:n}=o,{fontWeight:a,fontStyle:s}=le(n);return{widgetDesignSettings:{...o,titleFontStyle:s,titleFontWeight:a}}},Bs=(t,e,o,n,a)=>{const[s,i]=t.useContextState(`${Qa}-${e.widgetId}`,{}),r=s();let{products:l=e.products}=r;e.bundle_type?.startsWith("ai_")&&(l=e.products);let c=0,d=0;for(const m of l){let e=m;m.id=Number(m.id),m.available?n&&n!==ns?n===ss&&String(m.id)===String(o.productId)&&(m.checked=!m.checked):m.checked=!0:m.checked=!1,m.variants.length>0&&(m.variants=m.variants.filter(Os),e=m.selectedOption?.id?m.variants.find((t=>$s(t,m))):m.variants[0]),n===as&&o?.productId&&o.variantId&&m.variants.length>0&&String(o?.productId)===String(m.id)&&(e=m.variants.find((t=>String(t.id)===String(o.variantId))));const{price:a=0,title:s,id:i}=e;m.selectedOption={rawPrice:Number(a||0),title:s,price:_s(t,a),originPrice:_s(t,a),id:i},m.checked&&(c+=+a)}if(l.every(qs)&&e.discount_value>0){const t=Number(window.Shopify?.currency?.rate||1);d="percent"===e.discount_type?c-c*e.discount_value/100:c>=e.discount_value*t?Math.abs(c-e.discount_value*t):0}else d=c;const u=l.length>0&&l.filter(Os).length>0;if(e.currentProductId){const t=l.findIndex((t=>t.id===e.currentProductId));if(-1!==t){const[e]=l.splice(t,1);l.unshift(e)}}e.products=l,e.rawTotalPrice=c,e.rawTotalBundlePrice=d,e.totalPrice=_s(t,c),e.totalBundlePrice=_s(t,d);const p=Number(window.Shopify?.currency?.rate||1);e.amountValueDisplay="percent"===e.discount_type?e.discount_value+"%":0===e.discount_value?0:_s(t,Math.abs(e.discount_value*p)),e.hasSelectedProduct=u,e.bundleStyle="style2",i(e),a?.closest(`#${Za}${t.blockType}`)&&(e.isPopupDynamicBundleOpening=!0);const b={...k(bs)||{},[e.widgetId]:{widgetId:e.widgetId,bundle_type:e.bundle_type,recommendationType:e.recommendation_type,primary_algorithm:e.primary_algorithm||"",secondary_algorithm:e.secondary_algorithm||"",amountValueDisplay:e.amountValueDisplay||"",totalBundlePrice:e.totalBundlePrice||0,bundleProductIds:e?.products?.map((t=>t.id))}};return T(bs,b),e};function Fs(t,e){xs(t),"boost-sd__dynamic-bundle-modal-instantSearch"===e&&function(){const t=document?.querySelector('\n    .logo-area__right .show-search-link,\n    .header__icon--search,\n    .header__icon-wrapper,\n    .js-search-sidebar-link,\n    .js-search-header,\n    .header__secondary-nav a[href="/search"],\n    .site-header__links .search-button,\n    .header-navs .js-search-trigger,\n    .header--search,\n    .navlink--search,\n    .js-modal-open-search-modal,\n    .slideout__trigger-search\n  '),e=document?.querySelector(".boost-sd__search-form-input"),o=document?.querySelector('.boost-sd__search-widget-init-input[aria-expanded="true"]');if(e)e.focus();else if(o)o.focus();else if(t)t?.focus();else{window.scrollTo({top:10,behavior:"smooth"});const t=Array.from(document?.querySelectorAll("a")).find((t=>t.textContent.includes("Skip to content")));t&&t.focus()}}()}const Vs=t=>{const e=`${Za}${t.blockType}`;let o=document.getElementById(e);if(!o){const t=document.createElement("div");t.id=e,t.className="boost-sd__modal",t.setAttribute("ariaModal","true"),t.setAttribute("role","dialog"),t.setAttribute("ariaLabel","modal");const n=document.createElement("div");n.className="boost-sd__modal-backdrop";const a=document.createElement("div");a.className="boost-sd__modal-container",a.style.maxWidth="1000px";const s=document.createElement("div");s.className="boost-sd__modal-wrapper",s.setAttribute("tabIndex","-1"),a.appendChild(s),t.appendChild(n),t.appendChild(a),t.style.display="none",document.body.appendChild(t),o=t}o?.addEventListener("click",(function(e){((t,e)=>{const o=t.target;Es(e,o,t),o?.closest(os)&&vs(e,o),(!o?.closest(Xa)&&!o?.closest(".boost-sd__product-bundle")||o?.closest(".boost-sd__modal-close-btn--dynamic-bundle"))&&xs(e)})(e,t)})),o?.addEventListener("keydown",(o=>{const n=o.target,a=n?.closest(".boost-sd__dropdown-dynamic");if(a){const e="true"===a?.getAttribute("aria-expanded"),n=a?.querySelector('[role="listbox"]'),s=n?.querySelectorAll('[role="option"]');let i=Array?.from(s)?.findIndex((t=>t.classList?.contains(cs)));const r="ArrowUp"===o.key,l="ArrowDown"===o.key,c="Escape"===o.key||27===o.keyCode;if(e&&(r||l)&&(o.preventDefault(),l?i=(i+1)%s.length:r&&(i=(i-1+s.length)%s.length),s.forEach((t=>t.classList.remove(cs))),s[i].classList.add(cs),a.setAttribute("aria-activedescendant",s[i].id),s[i].scrollIntoView({block:"nearest"}),s[i].focus()),e&&Kn.includes(o.key)){const e=o.target;Es(t,e,o)}e&&c&&(a.setAttribute("aria-expanded","false"),Ls())}Kn.includes(o.key)&&(n?.closest(os)&&vs(t,n,t.document),Rs(n,a),n?.closest(".boost-sd__modal-close-btn--dynamic-bundle")&&Fs(t,e)),"Escape"===o.key&&Fs(t,e)}))},Ws=t=>{if(!(t=>{if(!t||!t.widgetId||""===t.widgetId)return!1;const e=t.app?.recommendationWidgets;if(!e||0===Object.keys(e).length)return!1;const o=e?.["dynamic-bundle"];return!(!o||0===Object.keys(o).length)})(t))return;"instantSearch"===t.blockType&&Ms(t,t.document)},Hs=async(t,e,o)=>{const n=Bs(t,o||t?.dynamicBundles[0],{},ns),a=await ys(t);e&&(e.innerHTML=await t.templateRender(a,{bundle:n,...js(t,n?.widgetId),locale:(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,"")}),Ns(t,e),Js(e,t,!1))},zs=async t=>{const e=document?.getElementById(ts);if(e&&t?.dynamicBundles?.length>0)if(window.boostSdMultipleBundle)e.innerHTML="",t?.dynamicBundles.forEach((o=>{if("bottom"===o?.bundle_display_type||!o?.bundle_display_type){const n=document.createElement("div");n.id=`boost-sd__bundle-search-page-${o.widgetId}-${Ps()}`,e?.appendChild(n),Hs(t,n,o)}}));else{const o=t?.dynamicBundles?.find((t=>"bottom"===t?.bundle_display_type||!t?.bundle_display_type));o&&Hs(t,e,o)}const o=document?.getElementById("boost-sd__embedded-bundle-product"),n=t?.dynamicBundles?.find((t=>"product"===t?.bundle_display_type));if(o&&n){const e=Bs(t,n,{},ns),a=await ys(t,ps);o.innerHTML=await t.templateRender(a,{bundle:e,...js(t,e?.widgetId)}),Ms(t,o),Oa(t,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnMobile||2,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnDesktop||3,t.app.generalSettings?.breakpointmobile||575,t.app.generalSettings?.breakpointtabletportraitmax||991,3)}},Us=async(t,e)=>{t.widgetId="bc-predictive-bundle";const o=document?.querySelectorAll(".boost-sd-widget-predictive-bundle");if(!o.length)return;const n=await(async(t,e)=>{if(!e)return[];let o={product_id:e,shop:_e(),country:window.Shopify.country||""};o=Wt(o),t.app.b2b?.enabled&&Ve(o,t);let n="";Object.keys(o).forEach((t=>{n+=(n?"&":"")+t+"="+o[t]}));const a=await fetch(`${t?.app?.bundleUrl}?${n}`);if(200===a.status){const e=await a.json();if(e.meta){const{money_format:o,money_format_with_currency:n,currency:a}=e.meta;We(t,{money_format:o,money_format_with_currency:n,currency:a})}return Ga("product_page_bundle",e.meta?.rid,e?.bundles),e?.bundles||[]}return[]})(t,e);if(n.length)if(!0===window.boostSdMultipleBundle)o.forEach((e=>{n.forEach((o=>{const n=document.createElement("div");n.id=`boost-sd__bundle-predictive-${o.widgetId}-${Ps()}`,e.appendChild(n),Hs(t,n,o)}))}));else{n[0].currentProductId=e;const a=Bs(t,n[0],{},ns),s=await ys(t),i=await t.templateRender(s,{bundle:a,...js(t,a.widgetId),locale:(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,"")});o.forEach((e=>{e.innerHTML=i,Ns(t,e),((t,e)=>{t.addEventListener("keydown",(o=>Ds(o,e,t)))})(e,t),Js(e,t,!1)}))}},Gs=(t,e)=>{const o=e?.closest(".boost-sd__product-bundle")?.getAttribute("data-widget-id");o&&Ts(t,o)};function Js(t,e,o){const n=t?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=n[0],s=n[n.length-1];t.addEventListener("keydown",(function(t){const e="Tab"===t.key;o&&e&&(t.shiftKey?document.activeElement===a&&(s.focus(),t.preventDefault()):document.activeElement===s&&(a.focus(),t.preventDefault()))}))}function Ks(){return{ANALYTICS_URL:Ce,productIdsClicked:k(Oe)||{},cartUrl:window.location.origin+ge("cart.js")}}function Qs(){return"rid-xxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}async function Zs(t="",e={}){const o=k(Oe)||{};if(!e.rid||e.pid&&e.u===Le.ADD_TO_CART&&!o[e.pid])return;e=function(t){t.pid&&isNaN(t.pid)&&(t.pid="");return t}(e);return(await fetch(t,{method:"POST",body:JSON.stringify(e)})).json()}window.addEventListener("boost-sd-open-dynamic-bundle",(function(t){t?.detail?.widgetId&&t?.detail?.context&&Ts(t.detail.context,t.detail.widgetId)}));let Ys=0;const Xs=5;async function ti(t){try{C(Ae,t),setTimeout((async()=>{const e=await Fe.getAll();if(e?.token?.length<56&&Ys<Xs)return Ys++,ti(t);e.token&&(t.ct=e.token,Zs(Ce,t,Ks()),L(Ae))}),1500)}catch(e){console.log("refreshCartTokenSendEvent")}}async function ei(){try{const t=x(Ae);if(t){const e=await fetch("/cart.js"),o=await(e?.json());o.token&&(t.ct=o.token,Zs(Ce,t),L(Ae))}}catch(t){console.log("error checkSendEventWhenLoadPage",t)}}function oi(t){t=t||window.location;const e=new URL(t),{searchParams:o}=e,n=new URLSearchParams,a=o.get("sort"),s=o.get("q"),i=window.boostWidgetIntegration?.generalSettings?.collection_id||0;a&&n.set("sort",a),s&&n.set("q",s),n.set("collection_scope",i);for(const r of o.keys())r.startsWith("pf_")&&!n[r]&&n.set(r,o.getAll(r));return`${n}`}function ni(){let t="collection_page";switch(!0){case Ct():t="collection_page";break;case Lt():t="search_page";break;case At():t="product_page";break;case It():t="cart_page";break;case Et():t="home_page"}return t}function ai(t){"number"==typeof t&&(t=t.toString());const e=/^\d+$/.test(t),o=t.length>0&&t.length<=19;return e&&o?t:""}function si(t,e,o="other"){T(Oe,{...k(Oe)||{},[t]:e,[`${t}_action`]:o})}function ii(t={},e={}){let o=oi();const n=x(d)||{},a=t.pid||"",s=t.vid&&a!==t.vid?t.vid:new URL(window.location.href).searchParams.get("variant")||"",i=t.u||Le.VIEW_PRODUCT,r=t.a;let c=e?.wid&&t.actionBundle?n[`${e.wid}_${e.placement}`]:n[r];i===Le.VIEW_PRODUCT&&c&&si(a,c,r),c||i!==Le.ATC_PRE_ORDER||(c=k(qe)||Qs()),r===Ne.SUGGEST||r===Ne.SEARCH?o+=`&${x(l)}`:r===Ne.FILTER&&(o=oi(document.referrer));let u="";return a&&i===Le.VIEW_PRODUCT&&T(a,r),t.actionBundle&&e?.wid&&(u=function(t){if(!t)return"";const e=k("DynamicBundleDataSession");return e&&e[t]&&e[t]?.bundleProductIds&&Array.isArray(e[t].bundleProductIds)?e[t].bundleProductIds.join(","):""}(e?.wid),a&&i===Le.VIEW_PRODUCT&&T(a,e)),{tid:window.Shopify.shop||_e(),qs:o,eid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),rid:c||"",pid:a,t:(new Date).toISOString(),u:i,a:r||"other",r:document.referrer,sid:window.boostWidgetIntegration.getSessionId(),cid:window?.__st?.cid||window?.meta?.page?.customerId||window?.ShopifyAnalytics?.meta?.page?.customerId||window?.ShopifyAnalytics?.lib?.user()?.traits()?.uniqToken,pg:ni(),vid:ai(s),bpids:u,...e}}function ri(t){if(!t)return null;const e=t.closest("#boost-sd__modal-quickview");if(e){if(e.dataset.productId)return e.dataset.productId;if(e.dataset.product)return JSON.parse(e.dataset?.product||"{}")?.id}return null}function li(){return document.getElementById("boost-sd__modal-quickview")}function ci(t){const e={};if(t?.dataset?.widgetId){e.wid=t?.dataset?.widgetId;const o=k(bs);o[e.wid]&&(e.bt=o[e.wid]?.bundle_type,e.bt.startsWith("ai")&&(e.palg=o[e.wid]?.primary_algorithm,e.salg=o[e.wid]?.secondary_algorithm)),e.rt=o[e.wid]?.recommendationType||Pe}return e}function di(t){return $e.some((e=>t.closest(e)))}function ui(t,e){return!(!t||!Array.isArray(e))&&e?.some((e=>t.closest(e)))}function pi(t){return t||k(De)}const bi=t=>!t?.className?.includes?.(`${Te}button--purchase`)&&!t?.className?.includes?.(`${Te}button--preorder`)&&t?.className?.includes?.(Te);function mi(t){if(!t)return!1;if(!At()||bi(t))return!1;const e=window.boostSDData?.product?.id,o=k(Oe)||{};if(e&&!o[e])return!1;const n=t?.innerHTML?.toLowerCase()||"";return["add to cart","add-to-cart","add to bag","add_to_cart","addtocart","data-product-form-add",'name="add"'].some((t=>n.includes(t)))}function gi(){Ct()&&window.klaviyo&&window.klaviyo.push(["track",Me.VIEW_COLLECTION,{timestamp:(new Date).valueOf(),sessionId:window.boostWidgetIntegration.getSessionId(),collectionId:window.boostWidgetIntegration?.generalSettings?.collection_id,collectionName:window.boostWidgetIntegration?.generalSettings?.collection_handle}])}function fi(){let t,e=0;const o=t=>{if("Enter"===t.key&&t.target.value&&window.klaviyo){const e={timestamp:(new Date).valueOf(),sessionId:window.boostWidgetIntegration.getSessionId(),searchQuery:t.target.value};window.klaviyo.push(["track",Me.SUBMIT_SEARCH,e])}};window.boostWidgetIntegration?.taeSettings?.instantSearch?.enabled&&(t=setInterval((()=>{if(10!==e)if(document.querySelector(".boost-sd__search-widget-init-enabled")){clearInterval(t);document.querySelectorAll(".boost-sd__search-widget-init-input").forEach((t=>{t.addEventListener("keyup",o)}))}else e+=1;else clearInterval(t)}),[4e3]))}function _i(t){if(t&&window.klaviyo){const e=t.closest(".boost-sd__filter-option");if(e){const o=e.querySelector(".boost-sd__filter-option-title");if(o){const e={timestamp:(new Date).valueOf(),sessionId:window.boostWidgetIntegration.getSessionId(),filterOptionName:o.innerText?.trim(),filterOptionValue:t.innerText?.trim(),collectionId:window.boostWidgetIntegration?.generalSettings?.collection_id};window.klaviyo.push(["track",Me.CLICK_FILTER,e])}}}}function yi(t){if(t?.detail?.searchTerm&&window.klaviyo){const e={timestamp:(new Date).valueOf(),sessionId:window.boostWidgetIntegration.getSessionId(),searchQuery:t.detail.searchTerm};window.klaviyo.push(["track",Me.SUBMIT_SEARCH,e])}}function hi(t){if(t?.detail?.min&&t?.detail?.max&&window.klaviyo){const e={timestamp:(new Date).valueOf(),sessionId:window.boostWidgetIntegration.getSessionId(),filterOptionName:t?.detail?.label,filterOptionValueMin:t.detail.min,filterOptionValueMax:t.detail.max,collectionId:window.boostWidgetIntegration?.generalSettings?.collection_id};window.klaviyo.push(["track",Me.CLICK_FILTER,e])}}async function wi(){if(window.klaviyo){!await window.klaviyo.isIdentified()&&window.boostWidgetIntegration?.app?.staging?.user?.email&&window.klaviyo.identify({email:window.boostWidgetIntegration?.app?.staging?.user?.email,$first_name:window.boostWidgetIntegration?.app?.staging?.user?.first_name||"",$last_name:window.boostWidgetIntegration?.app?.staging?.user?.last_name||""})}}function vi({label:t,min:e,max:o}){window.dispatchEvent(new CustomEvent("change-range-slider",{detail:{label:t,min:e,max:o}}))}function Si(t){t.closest(window.boostAnalytic.filterOptionItemButton||xe.filterOptionItemButton)&&(t.classList.contains("boost-sd__filter-option-item-button")?setTimeout((()=>{t.classList.contains("boost-sd__filter-option-item-button--selected")&&_i(t.querySelector(".boost-sd__filter-option-item-label"))}),0):setTimeout((()=>{t.parentNode.classList.contains("boost-sd__filter-option-item-button--selected")&&_i(t)}),0))}function ki(t,e){const o=t.closest(".boost-sd__product-item");if(o)try{const t=o.querySelector(".boost-sd__product-title"),n=o.querySelector(".boost-sd__product-link"),a=n?n.getAttribute("href"):"",s=o.getAttribute("data-product")?JSON.parse(o.getAttribute("data-product")):null;e.product_name=t?.innerText||"",e.product_link=`https://${_e()}${a}`,s&&(e.product_price=Number(s.priceMin),e.product_category=s.category||"",e.product_tags=s.tags||[])}catch(n){console.log("error",n)}!function(t){switch(t.u){case Le.VIEW_PRODUCT:if(t.pid)if(t.a===Ne.RECOMMEND&&t.wid){const e={timestamp:new Date(t.t).valueOf(),sessionId:t.sid,productId:t.pid,variantId:t.vid,widgetType:t.rt,widgetContext:t.pg,productName:t.product_name,productPrice:t.product_price,productUrl:t.product_link,productCategory:t.product_category,productTags:t.product_tags};window.klaviyo.push(["track",Me.CLICK_RECOMMENDATION,e])}else if("collection_page"!==t.pg){let e="";if(t.a===Ne.SUGGEST){const t=document.querySelectorAll(".boost-sd__search-widget-init-input");for(let o=0;o<t.length;o++){const n=t[o];if(n?.value){e=n.value;break}}}else t.a===Ne.SEARCH&&(e=new URLSearchParams(window.location.search).get("q"));const o={searchQuery:e,timestamp:new Date(t.t).valueOf(),sessionId:t.sid,productId:t.pid,pathClick:je[t.a],productName:t.product_name,productPrice:t.product_price,productUrl:t.product_link,productCategory:t.product_category,productTags:t.product_tags};window.klaviyo.push(["track",Me.CLICK_SEARCH_RESULT,o])}else{const e={timestamp:new Date(t.t).valueOf(),sessionId:t.sid,productId:t.pid,variantId:t.vid,productName:t.product_name,productPrice:t.product_price,productUrl:t.product_link,productCategory:t.product_category,productTags:t.product_tags};window.klaviyo.push(["track",Me.CLICK_PRODUCT,e])}break;case Le.ADD_TO_CART:if(t.actionBundle)try{const e=JSON.parse(sessionStorage.DynamicBundleDataSession);if(e[t.wid]){const o={timestamp:new Date(t.t).valueOf(),sessionId:t.sid,pageType:t.pg,bundlePrice:e[t.wid]?.totalBundlePrice,bundleDiscount:e[t.wid]?.amountValueDisplay,bundleProductIds:e[t.wid]?.bundleProductIds};window.klaviyo.push(["track",Me.ADD_BUNDLE_TO_CART,o])}}catch(n){console.log("Error parsing dynamic bundle")}else if(t.pid){const e={timestamp:new Date(t.t).valueOf(),sessionId:t.sid,productId:t.pid,variantId:t.vid,addToCartContext:t.a===Ne.RECOMMEND?t.wid:t.pg};t.product_name&&(e.productName=t.product_name),t.product_price&&(e.productPrice=t.product_price),t.product_link&&(e.productUrl=t.product_link),t.product_category&&(e.productCategory=t.product_category),t.product_tags&&(e.productTags=t.product_tags),window.klaviyo.push(["track",Me.ADD_TO_CART,e])}}}(e)}function Ti(t,e){if("worker"===(window.boostWidgetIntegrationConfig?.analytics?.runtime||"worker"))try{ke("analytics").send({action:"sendEvent",data:t,extraData:Ks()})}catch(o){console.log("error sendEvent",o)}else{if(!t.pid&&t.u===Le.VIEW_PRODUCT)return;if(t.a===Ne.RECOMMEND&&(t.actionBundle||(t.qs=null)),t.a===Ne.RECOMMEND){const e=x(Ee)||{};t={...t,...e}}C(Ie,t.a),[Le.ADD_TO_CART,Le.BUY_NOW].includes(t.u)?ti(t):Zs(Ce,t)}}function xi(t=0){let e=t;if(At()&&(e=window.boostWidgetIntegration?.generalSettings?.product_id||window.__st?.rid),!e)return;let o=0;const n=setInterval((()=>{if(document.querySelector(".boost-sd__preorder-option .boost-sd__preorder-title")){clearInterval(n);const t=ii({u:Le.VIEW_PRODUCT_PRE_ORDER,pid:e}),o=k(Oe)||{};o[e]&&"none"!==o[e]?(t.rid=o[e],t.a=o[`${e}_action`]):(t.rid=Qs(),T(qe,t.rid),t.a="other"),Ti(t)}o++,o>=100&&clearInterval(n)}),100)}function Ci(t){if(!t||!t.target)return;let e={};const o=t.target;let n=Lt()?Ne.SEARCH:Ct?Ne.FILTER:"",a="",s=!1,i="";if(At()&&(n=x(Ie)||Ne.FILTER,a=window.boostWidgetIntegration?.generalSettings?.product_id||"",i=Re.product_page),Lt()&&(i=Re.search_page),o.closest(window.boostAnalytic.suggest||xe.suggest)&&(n=Ne.SUGGEST,i=Re.instant_search),o.closest(window.boostAnalytic.recommend||xe.recommend)){n=Ne.RECOMMEND;const t=o.closest(window.boostAnalytic.recommend||xe.recommend);if(t&&t.id){if(e=x(`boostSdRecommend-${t.id}`)||{},o.closest(`.${Te}recommendation--dynamic`)){s=!0;const n=ci(t);e={...e,...n,placement:pi(i)};const r=o.closest(`.${Te}recommendation-bundle-image-item`),l=ui(o,[".boost-sd__recommendation-bundle-item-title",".boost-sd__recommendation-bundle-link-image"]);r&&r?.dataset?.productId&&l&&(a=r?.dataset?.productId)}C(Ee,e)}}const r=x(Ee);x(Ie)===Ne.RECOMMEND&&r.rt===Pe&&(s=!0,e=r);const l={a:n,pid:a,actionBundle:s};window.addEventListener("boost-sd-open-quick-view",(function t(e){const o=li();o?.setAttribute("data-action-analytic",l?.a),e?.detail?.pid&&o?.setAttribute("data-product-id",e?.detail?.pid),window.removeEventListener("boost-sd-open-quick-view",t),xi(e?.detail?.pid)}));let c=!1;if(di(o)||!o.closest(window.boostAnalytic.addToCart||xe.addToCart)&&!mi(o)){if(o.closest(window.boostAnalytic.buyNow||xe.buyNow)){c=!0,l.pid||(l.pid=ri(o));const t=li()?.dataset.actionAnalytic;t&&(l.a=t),l.u=Le.BUY_NOW}else if(o.closest(window.boostAnalytic.quickView||xe.quickView))c=!0,l.u=Le.QUICK_VIEW;else if(o.closest(window.boostAnalytic.recommend||xe.recommend))c=!0;else if(o.closest(window.boostAnalytic.preOrder||xe.preOrder)){c=!0,l.pid||(l.pid=ri(o)),l.u=Le.ATC_PRE_ORDER;const t=li()?.dataset.actionAnalytic;t&&(l.a=t)}}else{c=!0,l.pid||(l.pid=ri(o)),l.u=Le.ADD_TO_CART;const t=li()?.dataset.actionAnalytic;t&&(l.a=t)}if(o.closest(window.boostAnalytic.productItem||xe.productItem)){c=!0;const t=o.closest(window.boostAnalytic.productItem||xe.productItem),e=t?.dataset?.id||t?.getAttribute("id"),n=t?.dataset?.productId;l.pid=e,l.vid=n||"",si(e,"none")}!l.pid&&window.boostSDData?.product?.id&&(l.pid=window.boostSDData?.product?.id);if((o.closest(".boost-sd__recommendation-dynamic-show-popup")||o.closest(".boost-sd__product-item--embedded-bundle")||o.closest(".boost-sd__suggestion-queries-item--embedded-bundle"))&&(s=!0),s){if(n=Ne.SUGGEST){const t=Re.instant_search;T(De,t)}l.placementBundle=pi(i)}if(Si(o),c&&c){const t=ii(l,{...e,actionBundle:s});Ti(t),window.klaviyo&&ki(o,t)}}window.boostAnalytic=xe;const Li=async t=>{const e=document.querySelectorAll(".boost-sd__bulk-quantity"),o=await Fe.getAll(),[n,a]=t.useContextState("force-render",!1),s=async(t,e)=>{const o=(await Fe.getAll()).items.find((e=>e.variant_id===parseInt(t,10)));0!==e&&o?await Fe.change(t,e):await Fe.add(t,e),a(!n)},i=(t,e,o,n,a,i)=>async r=>{const l=parseInt(t.value,10);"decrease"===i?t.value=l>=n?l-n:0:"increase"===i&&(t.value=l+n),e.classList.remove("boost-sd__progress-bar-container--hidden"),0===l?(o.disabled=!0,o.setAttribute("disabled","disabled")):(o.disabled=!1,o.removeAttribute("disabled")),await s(a,parseInt(t.value,10)),e.classList.add("boost-sd__progress-bar-container--hidden")};e.forEach((t=>{const e=t.querySelector(".boost-sd__bulk-quantity-button--decrease"),n=t.querySelector(".boost-sd__bulk-quantity-button--increase"),a=t.querySelector(".boost-sd__bulk-quantity-field"),r=t.querySelector(".boost-sd__progress-bar-container"),l=parseInt(a.getAttribute("step"),10),c=parseInt(a.getAttribute("min"),10),d=t.getAttribute("data-quantity-variant-id"),u=o.items.find((t=>t.variant_id===parseInt(d,10)));a.value=u?u.quantity:0,"0"===a.value?(e.disabled=!0,e.setAttribute("disabled","disabled")):(e.disabled=!1,e.removeAttribute("disabled")),((t,e,o,n)=>{t.addEventListener("change",(async()=>{const a=parseInt(t.value,10);a<o?(t.setCustomValidity(`Please enter a quantity of at least ${o}`),t.reportValidity()):t.setCustomValidity(""),e.classList.remove("boost-sd__progress-bar-container--hidden"),Number.isInteger(a)&&a>0&&await s(n,a),e.classList.add("boost-sd__progress-bar-container--hidden")}))})(a,r,c,d),e.addEventListener("click",i(a,r,e,l,d,"decrease")),n.addEventListener("click",i(a,r,e,l,d,"increase"))})),t.render((async()=>{const t=await Fe.getAll(),o=t.items.reduce(((t,e)=>t+e.quantity),0),n=da();n?.action(o),e.forEach((e=>{const o=e.getAttribute("data-quantity-variant-id"),n=t.items.find((t=>t.variant_id===parseInt(o,10)));if(n){e.querySelector(".boost-sd__bulk-quantity-field").value=n.quantity}}))}),["force-render"])},Ii=(t,e)=>{const[,o]=t.useContextState("pagination ",{});var n;o({page:1}),e.delete("page"),window.history.replaceState({},"",`${window.location.pathname}?${e}`),t.getFilterApi(t.app.filterUrl,t.id,{additionParams:{inCollectionSearchFocusing:!0}}),n=e.get("q"),window.dispatchEvent(new CustomEvent("debounce-in-collection-search",{detail:{searchTerm:n}}))},Ai=t=>{t.render((()=>{const e=document.querySelector(".boost-sd__in-collection-search-input");if(e){const o=new URLSearchParams(window.location.search),n=e.hasAttribute("data-input-focusing"),a=document.querySelector(".boost-sd__in-collection-search-clear-btn");if(n){const t=e.value.length;e.setSelectionRange(t,t),(t=>{if(!t)return;const e=t?.getBoundingClientRect()||{top:0,left:0,bottom:0,right:0};return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&e.focus()}const s=t.app?.generalSettings?.inCollectionSearchDelay||500;e?.addEventListener("keyup",gt((e=>{""===e.target.value?o.delete("q"):o.set("q",e.target.value),Ii(t,o)}),s)),a?.addEventListener("click",(()=>{o.delete("q"),Ii(t,o)}))}}),["filterTree"])},Ei="boostPFSRecentSearches",Oi=(t=10)=>{let e;try{const t=localStorage.getItem(Ei);e=t&&JSON.parse(t)}catch{e=[]}Array.isArray(e)?t>0&&(e=e.slice(0,t)):e=[];const o=[];return e.forEach((t=>{""!==t.title&&o.push(t)})),o},qi=(t,e="",o="")=>{if("string"!=typeof t||""===t.trim())return;t=t.trim();let n=Oi();const a=n.findIndex((o=>o.title===t&&o.extraParam===e));a>=0?(n.splice(a,1),n.unshift({title:t,extraParam:e,scope:o})):(n.unshift({title:t,extraParam:e,scope:o}),n=n.slice(0,10));try{localStorage.setItem(Ei,JSON.stringify(n))}catch{}},$i=t=>{if(!t||!t.target)return;const e=t.target,o=e?.closest(".boost-sd__suggestion-queries-item--suggestion"),n=e?.closest(".boost-sd__no-search-result-page-suggestion-item");if(o){const t=o?.querySelector(".boost-sd__suggestion-queries-link")?.innerText?.trim();t&&qi(t)}n&&qi(n?.innerText?.trim())},Pi="en",Di=t=>new Promise((e=>{(window.Weglot?.initialized&&"function"==typeof window.Weglot?.getCurrentLang&&window.Weglot.getCurrentLang()||Pi)===Pi&&e(t),window.Weglot?.search(t,(function(t){e(t)}))})),Ri=t=>{const e=new URLSearchParams;e.sort();for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];Array.isArray(o)?o.forEach((t=>{e.append(`${n}`,t)})):e.set(n,o)}const o=window.boostSdCustomParams;if(o&&Object.keys(o).length>0)for(const n in o)e.set(n,o[n]);return e},Ni=async(t,e,o={})=>{try{const n=t.app.searchUrl,{suggestionDymLimit:a,enableDefaultResult:s,enableFuzzySearch:i,productAvailable:r,suggestionMode:c,skipFields:d,reduceMinMatch:u,fullMinMatch:p,enablePlusCharacterSearch:b,suggestionBlocks:m,showVariantsAsProduct:g}=t.app?.searchSettings||{};let f={t:Date.now(),shop:_e(),locale:t.app?.generalSettings?.current_locale||"en",q:me(e),re_run_if_typo:!0,event_type:"suggest",pg:$t()};"weglot"===window.boostWidgetIntegration?.integration?.languages&&(f.q=await Di(f.q)),f=Wt(f),Array.isArray(m)&&m.forEach((t=>{const e=t.type.slice(0,-1);f[`${e}_limit`]=t.number}));const _=Oi();_.length>0&&(f.recent_search=_.map((t=>t.title)).join(",")),c&&(f.suggestionMode=c),d&&d.length>0&&(f.skipFields=d),a&&(f.dym_limit=a),!0!==i&&(f.fuzzy=i),!1!==u&&(f.reduce_min_match=u),p&&(f.full_min_match=!0),b&&(f.enable_plus_character_search=!0),s||(f.enable_default_result=!1),g&&(f.variants_as_products=!0),r&&(f.product_available=!0),t.app.b2b?.enabled&&Ve(f,t),o&&Object.keys(o)?.length>0&&(f={...f,...o});const y=await fetch(`${n}/suggest?${Ri(f)}`,{method:"GET"}),h=await y.json();Ga("suggest",await(h.meta?.rid),h.bundles),C(l,`q=${me(e)}`);const w=window.boostWidgetIntegration.generateUuid();if(t.state.latestInstantSearchRequest=w,h.meta){const{money_format:e,money_format_with_currency:o,currency:n}=h.meta;We(t,{money_format:e,money_format_with_currency:o,currency:n})}return h}catch(n){return console.log("Can not get suggestion data",n),{query:e}}},Mi="boost-sd__suggestion-queries-item--bottom-bundle",ji="boost-sd__suggestion-queries-item--embedded-bundle",Bi="boost-sd__suggestion-queries-item-selected";let Fi=-1,Vi="";const Wi=async t=>{const[e]=t.useContextState("instant-search",{}),o={promise:null,resolver:null,rejecter:null};o.promise=new Promise(((t,e)=>{o.resolver=t,o.rejecter=e})),t.render((async function(){const o=e();if(o&&t.templateISW){const e=t?.app?.translation||{},{send:n}=ke("liquid-renderer"),{html:a}=await n({template:t.templateISW,data:{...o,translations:e,locale:(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,"")},options:{removeWhitespace:!0}});t.document.querySelector(".boost-sd__instant-search-container")?Xi(t,a):t.document.innerHTML=a;t.document.querySelectorAll(".boost-sd__suggestion-queries-list li.boost-sd__suggestion-queries-item--suggestion").forEach((t=>{t.addEventListener("click",(e=>{C("boostSDClickSuggestionTerm",t.getAttribute("data-title"))}))}));const s=window.boostWidgetIntegration.generateUuid();t.state.latestInstantSearchRequest=s,Hi(t)}}),["instant-search"]),zi(t)},Hi=t=>{const e=new URLSearchParams(window.location.search).get("q"),o=document?.querySelectorAll('input[name="q"]:not([data-disable-instant-search])');o.forEach(((o,n)=>{o.id=`boost-sd__search-widget-init-input-${n}`,o.classList.add("boost-sd__search-widget-init-input"),o.setAttribute("aria-expanded","false"),o.setAttribute("autocomplete","off"),o.setAttribute("data-search-box",`boost-sd__search-widget-init-input-${n}`),o.setAttribute("role","combobox"),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-autocomplete","list"),o.setAttribute("autocorrect","off"),o.setAttribute("aria-owns","boost-sd__search-widget-init-wrapper"),o.setAttribute("aria-controls","boost-sd__search-widget-init-wrapper"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-label",""),o.setAttribute("maxlength","150"),o.setAttribute("placeholder",t.app?.translation?.suggestion?.searchBoxPlaceholder||"Search"),o.setAttribute("value",e?me(e):""),o.addEventListener("input",(e=>{tr(t,e,o)})),o.addEventListener("click",(async e=>{er(t,e,o)})),o.addEventListener("focus",(async e=>{er(t,e,o)})),window.boostSdDisableISWKeyDown||o.addEventListener("keydown",(e=>{or(t,e,o)}));const a=o.closest("form");if(a){const n=a?.querySelector('[type="submit"], .search__button');n&&(n.addEventListener("click",(e=>{nr(t,e,o)})),n.addEventListener("keydown",(t=>{Kn.includes(t.key)&&(n.classList.add("keyboard-activated"),sessionStorage.setItem("keyboardActivatedSearch","true"))})));const s=a?.querySelector('[type="reset"], .reset__button, .boost-sd__button-text-x--clear');s&&(e&&s.classList.remove("boost-sd__g-hide"),s.addEventListener("click",(()=>{ar(o,s)})));const i=a?.querySelector(".boost-sd__button-text-x--close");i&&i.addEventListener("click",(function(){cr(t)}))}document.activeElement===o&&er(t,null,o)}));const n=gt((e=>{const o=S(t.app.generalSettings?.isTabletPortraitMax),n=t.document?.querySelector(`.boost-sd__instant-search-container-${o?"mobile":"desktop"} > div`),a=n?.getAttribute("aria-controls"),s=document.getElementById(a);rr(n)&&mr(t,n,s,e)}),100);document.addEventListener("click",n,!0);const a=gt((async()=>{const[e,o]=t.useContextState("is-mobile",!1),n=S(t.app.generalSettings?.isTabletPortraitMax);if(e()!==n){Fi=-1;const e=document?.querySelector("input[aria-activedescendant='boost-sd__suggestion-queries-item-selected']");pr(t,e),cr(t);const a=t.document?.querySelector(`.boost-sd__instant-search-container-${n?"mobile":"desktop"} > div`);a&&a.click(),o(n)}else{const e=t.document?.querySelector(`.boost-sd__instant-search-container-${n?"mobile":"desktop"} .boost-sd__search-widget-init-wrapper`);if(e&&rr(e)){const o=e?.getAttribute("aria-controls"),n=document.getElementById(o);n&&(await P(n,100,1e3),sr(t,n))}}}),100);window.addEventListener("resize",a),document.body.classList.add("boost-sd__search-widget-init-enabled")},zi=async t=>{const[e,o]=t.useContextState("instant-search",{}),[,n]=t.useContextState("is-mobile",!1);t.templateISW=await Ji(t),t.defaultData=await Ki(t),n(S(t.app.generalSettings?.isTabletPortraitMax));const a=new URLSearchParams(window.location.search).get("q");if(a){const n=e(),{isLoading:s=!1}=n;s||o({...t.defaultData,isLoading:!0});const i=await Zi(t,a);o({...t.defaultData,...i,isLoading:!1})}else o(t.defaultData);Hi(t)},Ui=(t="",e="")=>{const o=e?`&${e.replace(/&/g,"AND")}`:"";return ge(`search?q=${encodeURIComponent(t)}${o}`).replace(/%20/g,"+")},Gi=t=>{const e=S(t.app.generalSettings?.isTabletPortraitMax),{suggestionStyle:o,suggestionMobileStyle:n}=re(t);return e&&"style1"===n||!e&&"style3"===o},Ji=async t=>{const{templates:e={}}=await Ue(t,t.app.templateMetadata?.themeNameLib,[{name:"instantSearchWidget",id:t.app.templateMetadata?.instantSearchWidget}]);return e[t.app.templateMetadata?.instantSearchWidget]||""},Ki=async t=>{let e={suggestionMobileStyle:"style1",suggestionMobileProductItemType:"grid",redirects:t.redirects,isLoading:!1,all_empty:!0,collections:[],correct_content_query:"",correct_query:"",did_you_mean:[],pages:[],query:"",suggestions:[],total_product:0};const o=re(t);t.redirects=await(async(t,e=[])=>{try{const o=t.app.searchUrl;let n={t:Date.now(),shop:_e(),locale:t.app?.generalSettings?.current_locale||"en",build_filter_tree:!0,pg:$t(),terms:e,limit:0};t.app.b2b?.enabled&&Ve(n,t),n=Wt(n);const a=await fetch(`${o}/redirects?${Ri(n)}`,{method:"GET"}),s=await a.json(),i={};if(s.data?.forEach((t=>{t?.terms?.forEach((e=>{i[e]=t.redirect_to}))})),s.meta){const{money_format:e,money_format_with_currency:o,currency:n}=s.meta;We(t,{money_format:e,money_format_with_currency:o,currency:n})}return i}catch(o){return console.log("Can not get list of redirect"),{}}})(t),e.redirects=t.redirects;let n=[];o?.searchBoxOnclick?.productSuggestion?.status&&(n=await Qi(t)),e.products=n||[];const a=Oi(o?.searchBoxOnclick?.recentSearch?.number||10);return e.recentSearches=a,e={...e,searchTermSuggestionList:o.searchBoxOnclick?.searchTermSuggestion?.data||[],searchTermSuggestionStatus:o.searchBoxOnclick?.searchTermSuggestion?.status||!1,searchTermNoResultList:o.suggestionNoResult?.search_terms?.data||[],searchTermNoResultStatus:o.suggestionNoResult?.search_terms?.status||!1,searchTermSuggestionLabel:o.searchBoxOnclick?.searchTermSuggestion?.label||"",searchTermNoResultLabel:o.suggestionNoResult?.search_terms?.label,suggestionBlocksList:o.suggestionBlocks},e},Qi=async t=>{const e=re(t),o=e?.searchBoxOnclick?.productSuggestion?.data;if(0===o.length)return[];let n=await(async(t,e)=>{try{const o=t.app.searchUrl,n=re(t),{productAvailable:a}=n;let s={shop:_e(),locale:t.app?.generalSettings?.current_locale||"en",event_type:"init",ids:e};a&&(s.product_available=a),t.app.b2b?.enabled&&Ve(s,t),s=Wt(s);const i=await fetch(`${o}/products?${Ri(s)}`,{method:"GET"}),r=await i.json();if(r.meta){const{money_format:e,money_format_with_currency:o,currency:n}=r.meta;We(t,{money_format:e,money_format_with_currency:o,currency:n})}return r}catch(o){return console.log("Can not get list suggestion product"),{}}})(t,o);return n=gr(t,n),n},Zi=async(t,e)=>{let o=await t.handler(Ni,"getSuggestionSearch")(t,e);if(o.all_empty){const e=re(t),n=e.suggestionNoResult?.products||{};if(n.status&&n.data.length>0){let e=await(async(t,e)=>{try{const o=t.app.searchUrl,n=re(t),{productAvailable:a}=n,s={shop:_e(),handle:e,locale:t.app?.generalSettings?.current_locale||"en",event_type:"init"};a&&(s.product_available=a),t.app.b2b?.enabled&&Ve(s,t);const i=await fetch(`${o}/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await i.json();if(r.meta){const{money_format:e,money_format_with_currency:o,currency:n}=r.meta;We(t,{money_format:e,money_format_with_currency:o,currency:n})}return r}catch(o){console.log("Can not get list suggestion product")}})(t,n.data);e&&(e=gr(t,e),o={...o,products:e})}}else o.products=gr(t,o.products),C("boostSDSuggestionData",{query:e,id:o.meta.rid,suggestions:o.suggestions});if(o?.bundles?.length>0){const e=o.bundles?.[0];o.bundle=Bs(t,e),o.widgetDesignSettings={...js(t,e?.widgetId)?.widgetDesignSettings}}return o},Yi=gt((async(t,e)=>{const[o,n]=t.useContextState("instant-search",{});if(e){const a=o(),{isLoading:s=!1}=a;s||n({...t.defaultData,isLoading:!0});const i=await Zi(t,e);n({...t.defaultData,...i,isLoading:!1})}else n(t.defaultData)}),300),Xi=(t,e)=>{const o=t.document?.querySelector(".boost-sd__instant-search-container");if(o){const t=(new DOMParser).parseFromString(e,"text/html"),n=".boost-sd__instant-search-container-mobile .boost-sd__instant-search-results",a=o?.querySelector(n),s=t?.querySelector(n);a&&s&&a.parentNode.replaceChild(s,a);const i=".boost-sd__instant-search-container-desktop .boost-sd__instant-search-results",r=o?.querySelector(i),l=t?.querySelector(i);r&&l&&r.parentNode.replaceChild(l,r)}},tr=(t,e,o)=>{e.preventDefault(),Fi=-1,pr(t,o),Vi=e.target.value;const n=o.closest("form");if(n){const t=n?.querySelector('[type="reset"], .reset__button, .boost-sd__button-text-x--clear');t&&(Vi?t.classList.remove("boost-sd__g-hide"):t.classList.add("boost-sd__g-hide"))}Yi(t,Vi);const a=document?.querySelectorAll('input[name="q"]:not([data-disable-instant-search])');a.forEach((t=>{t!==e.target&&(t.value=Vi)}))},er=async(t,e,o)=>{o.closest(".boost-sd__instant-search-container")||Gi(t)||await P(o,100,1e3),sr(t,o),lr(t,o)},or=(t,e,o)=>{const n=S(t.app.generalSettings?.isTabletPortraitMax),a=t.document?.querySelector(`.boost-sd__instant-search-container-${n?"mobile":"desktop"} > div`);if(e&&e.key)switch(e.key){case"Enter":{D(e);const n=me(e.target.value.trim());qi(n);const s=`\n        .${ji}.${Bi},\n        .${Mi}.${Bi}\n      `,i=a?.querySelector(s),r=a?.querySelector(':not(.boost-sd__g-hide)[data-group="clear-search-form"]'),l=a?.querySelector('.boost-sd__button-text-x--close[data-group="close-search-form"]'),c=document?.querySelector('\n        .logo-area__right .show-search-link,\n        .header__icon--search,\n        .header__icon-wrapper,\n        .js-search-sidebar-link,\n        .js-search-header,\n        .header__secondary-nav a[href="/search"],\n        .site-header__links .search-button,\n        .header-navs .js-search-trigger,\n        .header--search,\n        .navlink--search,\n        .js-modal-open-search-modal,\n        .slideout__trigger-search\n      '),d=o?.closest("form"),u=document?.querySelector(".boost-sd__search-form-submit-btn");if(i){const e=i?.querySelector(".boost-sd__recommendation--dynamic, .boost-sd__product-bundle")?.dataset?.widgetId;window.dispatchEvent(new CustomEvent("boost-sd-open-dynamic-bundle",{detail:{widgetId:e,context:t}}))}else!function(t,e){return t&&(e||!e)&&0===Fi}(r,l)?function(t,e){return t&&(e&&1===Fi||!e&&0===Fi)}(l,r)?(l.dispatchEvent(new Event("click")),document.body.click(),function(t,e,o){if(t)t.focus();else if(e)e.focus();else if(o){const t=o?.querySelector('button[type="submit"], input[type="submit"]');t&&t.focus()}else!function(){window.scrollTo({top:10,behavior:"smooth"});const t=Array.from(document?.querySelectorAll("a")).find((t=>t.textContent.includes("Skip to content")));t&&t.focus()}()}(u,c,d)):function(e,o){if(e.length>0){const n=t.redirects;if(n&&n[e.toLowerCase()])window.location.href=n[e.toLowerCase()];else{const t=br(o);window.location.href=t||Ui(e)}}else window.location.href=Ui()}(n,a):r.dispatchEvent(new Event("click"));break}case"Tab":cr(t,o);break;case"Escape":return cr(t,o);case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":if(window.boostSdDisableISWArrow)return;rr(a)&&dr(t,o,a,e)}},nr=(t,e,o)=>{e.preventDefault(),qi(me(o.value.trim()));const n=t?.redirects;if(n&&n[o.value?.toLowerCase()])return D(e),void window.location.href(n[o.value?.toLowerCase()]);window.location.href=Ui(o.value)},ar=(t,e)=>{t.value="",t.dispatchEvent(new Event("input")),t.focus(),e.classList.add("boost-sd__g-hide")},sr=(t,e)=>{const o=S(t.app.generalSettings?.isTabletPortraitMax),n=t.document?.querySelector(`.boost-sd__instant-search-container-${o?"mobile":"desktop"} .boost-sd__search-widget-init-wrapper`);if(n){const o=e.getBoundingClientRect(),a="absolute",s=window.scrollY;let i=o.height+o.top+2+4;const r=window.innerHeight-i-(Gi(t)?0:20);let l=`left: ${o.left}px`;window.innerWidth/2<o.left&&(l=`right: ${window.innerWidth-o.right}px`),i+=s,n.setAttribute("style",`position: ${a}; top: ${i}px; ${l}; z-index: 999999998;`);const c=gt((()=>{const t=document.getElementsByTagName("header"),e=document.getElementsByClassName("boost-sd__search-form");let o;o=t.length>0&&window.scrollY>0&&e[0]?.getBoundingClientRect().bottom<=t[0].getBoundingClientRect().top+t[0].clientHeight?2:999999998,n.setAttribute("style",`position: ${a}; top: ${i}px; ${l}; z-index: ${o};`)}),10);window.addEventListener("scroll",c);const d=n?.querySelector(".boost-sd__instant-search-autocomplete-results");d&&d.setAttribute("style",`max-height: ${ir(t,r)}px`)}},ir=(t,e)=>{const{suggestionStyle:o,suggestionStyle2ProductItemType:n,suggestionMobileStyle:a,suggestionMaxHeight:s=0}=re(t);let i=e;return s&&s>0&&i>=s?s:(S(t.app.generalSettings?.isTabletPortraitMax)?"style2"===a&&(i=Math.min(i,640)):i="style2"===o&&"list"===n?Math.min(i,564):Math.min(i,640),i)},rr=t=>!t?.classList?.contains("boost-sd__g-hide"),lr=(t,e)=>{const o=S(t.app?.generalSettings?.isTabletPortraitMax),n=t.document?.querySelector(`.boost-sd__instant-search-container-${o?"mobile":"desktop"} > div`);if(n){if(Gi(t)){const e=t.app?.generalSettings?.closeSearchThemeSelector,o=document?.querySelectorAll("#Search .Search__Close,\n        .live-search-takeover-cancel,\n        .js-drawer-open .page-container,\n        .menu-drawer__modal-close.modal__close".concat(""+(e?`, ${e}`:"")));o?.length>0&&o.forEach((t=>t.click()))}rr(n)||(n.classList.remove("boost-sd__g-hide"),n.setAttribute("aria-controls",e.id)),!Gi(t)&&e.classList.contains("boost-sd__search-form-input")||document.body.classList.add("boost-sd__search-opening"),e.setAttribute("aria-expanded","true")}const a=t.document?.querySelector(`.boost-sd__instant-search-container-${o?"mobile":"desktop"} .boost-sd__search-bar-input`),s=t.app?.generalSettings?.preventInfiniteISW,i=document?.querySelector(".header__icon-wrapper, .header__nav-icon.icon-search");a&&(s||i?setTimeout((()=>a.focus()),200):a.focus(),document.body.classList.add("boost-sd__g-no-scroll"))},cr=(t,e)=>{const o=()=>{const o=S(t.app?.generalSettings?.isTabletPortraitMax),n=t.document?.querySelector(`.boost-sd__instant-search-container-${o?"mobile":"desktop"} > div`);n&&(n.classList.add("boost-sd__g-hide"),n.setAttribute("aria-controls",""),document.body.classList.remove("boost-sd__g-no-scroll"),document.body.classList.remove("boost-sd__search-opening"),e&&e.setAttribute("aria-expanded","false"))};if(document.body.classList.contains("show-search"))return document.body.classList.remove("show-search"),void setTimeout(o,200);o()},dr=(t,e,o,n)=>{if(!o)return;if(!rr(o)||!n||!n.key)return;const a=o?.querySelectorAll(".boost-sd__suggestion-queries-item");if(!a||0===a.length)return;const s=o?.querySelector('[data-group="view-all-products"]'),i=o?.querySelector(':not(.boost-sd__g-hide)[data-group="clear-search-form"]'),r=o?.querySelector('.boost-sd__button-text-x--close[data-group="close-search-form"]'),l=a.length+(s?1:0)+(i?1:0)+(r?1:0);let c=!1;(n.key.includes("Down")||n.key.includes("Up"))&&(c=!0,n.key.includes("Up")?(Fi--,Fi<-1&&(Fi=l-1)):n.key.includes("Down")&&(Fi++,Fi>l-1&&(Fi=-1))),e.focus();const d=-1===Fi,u=0===Fi&&i,p=0===Fi&&r||1===Fi&&r&&i,b=s&&(!i&&!r&&Fi>a.length-1||!i&&r&&Fi>a.length||i&&r&&Fi>a.length+1);if(d)Vi&&(e.value=Vi),pr(t,e);else if(u){pr(t,e);const o="boost-sd__suggestion-queries-item-selected";e.setAttribute("aria-activedescendant",o),i.id=o,i.classList.add("boost-sd__suggestion-queries-item-selected"),i.setAttribute("aria-selected","true")}else if(p){pr(t,e);const o="boost-sd__suggestion-queries-item-selected";e.setAttribute("aria-activedescendant",o),r.id=o,r.classList.add("boost-sd__suggestion-queries-item-selected"),r.setAttribute("aria-selected","true")}else b?(pr(t,e),ur(s,e)):(pr(t,e),a.forEach(((t,o)=>{(!i&&!r&&Fi===o||!i&&r&&Fi===o+1||i&&r&&Fi===o+2)&&ur(t,e)})));(n.key.includes("Left")||n.key.includes("Right"))&&-1!==Fi&&(c=!0),c&&D(n)},ur=(t,e)=>{const o="boost-sd__suggestion-queries-item-selected";let n=t.getAttribute("data-title");(t.classList.contains(ji)||t.classList.contains(Mi))&&(n=""),e.value=n||"",e.setAttribute("aria-activedescendant",o),t.id=o,t.classList.add("boost-sd__suggestion-queries-item-selected"),t.setAttribute("aria-selected","true")},pr=(t,e)=>{const[o]=t.useContextState("is-mobile",!1);e&&e.removeAttribute("aria-activedescendant");const n=t.document?.querySelector(`.boost-sd__instant-search-container-${o()?"mobile":"desktop"} > div`);if(n){const t=n?.querySelector('.boost-sd__suggestion-queries-item-selected, [data-group="view-all-products"]');t&&(t.removeAttribute("id"),t.classList.remove("boost-sd__suggestion-queries-item-selected"),t.setAttribute("aria-selected","false"))}},br=t=>{if(!rr(t))return;const e=t?.querySelector("boost-sd__suggestion-queries-item-selected > a");if(e){const t=e.getAttribute("href");if(t&&!(t=>{try{t||(t=w().search);var e=decodeURIComponent(t).split("&"),o=!1;if(e.length>0)for(var n=0;n<e.length;n++){var a=e[n];if(o=kt(a))break}return o}catch{return!0}})(t))return t}return!1},mr=(t,e,o,n)=>{if(Gi(t)||!o)return;let a=!1;if(rr(e)&&n&&n.target){const t=n.target,e=t?.id===o?.id,s=t.closest("form")&&t.closest('[type="submit"]'),i=t.closest(".boost-sd__instant-search-container"),r=t.closest(".header__icon--search"),l=t.closest(".boost-sd__watermark-powered-by-boost"),c=o.closest(".search-modal");e||s||i||r||(a=!0),i&&c&&(a=!0),l&&!c&&(a=!1);i&&t.closest(".boost-sd__recommendation-dynamic-show-popup")&&!a&&c&&(a=!0)}else n||(a=!0);a?(cr(t,o),document.body.classList.remove("boost-sd__search-opening")):o.classList.contains("boost-sd__search-form-input")||document.body.classList.add("boost-sd__search-opening")},gr=(t,e)=>{const{showCentAsSuperscript:o,showCurrencyCodes:n}=t?.templateSettings?.themeSettings?.productItems?.productInfo?.elements?.price||{};return e?.forEach((e=>{const{price_min:a,compare_at_price_min:s}=e;e.price_min_format=Pt({context:t,value:Number(a),showCurrencyCodes:n,showCentAsSuperscript:o,removeDecimalPoint:o}),e.compare_at_price_min_format=Pt({context:t,value:Number(s),showCurrencyCodes:n,showCentAsSuperscript:o,removeDecimalPoint:o}),e.sale_amount_format=Pt({context:t,value:Number(s)>Number(a)?Number(s)-Number(a):0,showCurrencyCodes:!1,showCentAsSuperscript:o,removeDecimalPoint:o})})),e},fr=t=>{const e=document.querySelectorAll(".boost-sd__tooltip");e?.forEach((t=>{t?.addEventListener("mouseenter",(()=>{const e=t?.querySelector(".boost-sd__tooltip-content");((t,e)=>{if(!t||!e)return;const o=e.getBoundingClientRect(),n=t.closest(".slick-slide");if(n){const{height:a,y:s}=e.getBoundingClientRect(),{y:i}=n.getBoundingClientRect(),r=s-i<a?"35px":"-35px";let l=`translate(calc(-50% + ${o.width/2}px), ${r})`;Object.assign(t.style,{position:"fixed",display:"block",transform:l});const{width:c,x:d}=t.getBoundingClientRect();if(n.classList.contains("slick-current")){const{x:t}=n.getBoundingClientRect();d-t<c&&(l=`translate(0px, ${r})`)}if(n.classList.contains("slick-active")&&!n.nextElementSibling?.classList.contains("slick-active")){const{x:t,width:e}=n.getBoundingClientRect();t+e-d<c&&(l=`translate(-50%, ${r})`)}return void Object.assign(t.style,{position:"fixed",display:"block",transform:l})}let a=`${o.left}px`,s=`${o.right}px`;const i=`translate(calc(-50% + ${o.width/2}px), calc(-100% - 6px))`;Object.assign(t.style,{position:"fixed",left:a,top:`${o.top}px`,display:"block",transform:i});const r=t?.getBoundingClientRect();r.width/2>o.left&&(a=r.width/2+"px",Object.assign(t.style,{left:a})),o.right+r.width/2>window.innerWidth&&o.width<r.width&&(s=o.width/2-r.width/2+5+"px",a="auto",Object.assign(t.style,{left:a,right:s}))})(e,t)})),t?.addEventListener("mouseleave",(()=>{const e=t?.querySelector(".boost-sd__tooltip-content");e&&Object.assign(e.style,{display:"none"})}))}))};let _r=null,yr=!1,hr=!1;window.buttonQuickviewFocus=null;const wr=async(t,e,o)=>{if(hr)return;hr=!0,await vr();const{productId:n,fromSelectOptionBtn:a=!1}=e,s={shop:t?.defaultParams?.shop||t?.app?.shop?.domain,product_id:n,quickview_widget_id:t.app.templateMetadata.quickView,locale:t?.app?.generalSettings?.current_locale||"en",money_format:t.app.shop.money_format,money_format_with_currency:t.app.shop.money_format_with_currency};let i=await(async(t,e)=>{e=Wt(e),t.app.b2b?.enabled&&Ve(e,t);const o=await fetch(`${t.app.productUrl}?${te(e)}`,{method:"GET"}),n=window.boostWidgetIntegration.generateUuid();return t.state.latestQuickViewRequest=n,o.text()})(t,s);a&&(i=i.replace('class="boost-sd__quick-view-product-image"','class="boost-sd__quick-view-product-image" data-disable-image="'+a+'" style="display:none"')),document.body.insertAdjacentHTML("beforeend",i),document.body.classList.add("boost-sd__modal-open-quickview"),window.buttonQuickviewFocus=o,window.dispatchEvent(new CustomEvent("boost-sd-open-quick-view",{detail:{pid:n}})),Sr(),kr(t),fr();const r=window.boostWidgetIntegration.generateUuid();t.state.latestQuickViewRequest=r},vr=async()=>{if(yr)return;const t=await i.e(881).then(i.t.bind(i,4651,19));window.$=t.default,await Promise.all([i.e(881),i.e(997)]).then(i.t.bind(i,428,19)),yr=!0},Sr=()=>{const t="rtl"===document.documentElement.getAttribute("dir"),e=window.$(".boost-sd__quick-view .slick-slider").slick({prevArrow:!1,nextArrow:!1,useTransform:!1,rtl:t});t&&(window.$(".boost-sd__quick-view .slick-slider").css({direction:"rtl"}),window.$(".boost-sd__quick-view .slick-slider .slick-slide").css({float:"right"})),_r=e;const o=_r.slick("slickCurrentSlide");Tr("number"==typeof o?o:0),_r.on("beforeChange",((t,e,o,n)=>{Tr(n)})),document.querySelectorAll(".boost-sd__thumbs-container-thumbs-item").forEach(((t,o)=>{t.addEventListener("click",(()=>{e.slick("slickGoTo",o)})),t.addEventListener("keydown",(t=>{Kn.includes(t.key)&&e.slick("slickGoTo",o)}))})),hr=!1},kr=t=>{const e=document.getElementById("boost-sd__modal-quickview"),o=e.querySelector(".boost-sd__modal-close-btn"),n=e.querySelector(".boost-sd__input-number-input"),a=e.querySelector(".boost-sd__input-number-btn-wrapper:first-child"),s=e.querySelector(".boost-sd__input-number-btn-wrapper:last-child"),i=e.querySelector(".boost-sd__quick-view-quantity-error"),r=e.querySelector(".boost-sd__btn-add-to-cart"),l=e.querySelector(".boost-sd__btn-add-to-cart .boost-sd__button-text, .boost-sd__btn-add-to-cart span"),c=e.querySelector(".boost-sd__quick-view-btn"),d=e.querySelector(".boost-sd__quick-view-preorder"),u=e.querySelector(".boost-sd__button--preorder"),p=e.querySelector(".boost-sd__button--preorder .boost-sd__button-text"),b=e.querySelector(".boost-sd__preorder-note"),m=e.querySelector(".boost-sd__preorder-note-text"),g=e.querySelector(".boost-sd__btn-buy-now"),f=e.querySelector(".boost-sd__quick-view-details-link"),_=e.querySelector(".boost-sd__quick-view-price"),y=e.querySelector(".boost-sd__quick-view-price span"),h=e.querySelectorAll(".boost-sd__product-swatch"),w=e.querySelectorAll(".boost-sd__product-label--sale"),S=e.querySelectorAll(".boost-sd__product-label--soldout"),k=e.querySelectorAll(".boost-sd__product-label--customLabelByTag"),T=e.querySelectorAll(".boost-sd__thumbs-container-thumbs .boost-sd__thumbs-container-thumbs-item"),x=e.querySelector(".boost-sd__thumbs-container-next-button button"),C=e.querySelector(".boost-sd__thumbs-container-prev-button button"),{handle:L,splitProduct:I,variantId:A,variants:E,images:O,selectedVariantImageByFilterOption:q}=ue(e.getAttribute("data-product"))||{},[$,P]=t.useContextState("quick-view-image",0),D=E.find((t=>t.available))||E[0],[R,N]=t.useContextState("quick-view-swatch",{selectedVariant:D});N({selectedVariant:D}),q&&O?.length>0&&(O[0].src=q);const M=()=>{e.style.display="none",e.remove(),document.body.classList.remove("boost-sd__modal-open-quickview"),Zn()&&window.buttonQuickviewFocus&&window.buttonQuickviewFocus.focus()};o?.addEventListener("click",M),Yn(e);e.addEventListener("keydown",(t=>{Xn(t,e)})),a?.addEventListener("click",(t=>{t.preventDefault(),n.value=Math.max(1,Number(n.value)-1),i.style.display="none"})),s?.addEventListener("click",(t=>{t.preventDefault(),n.value=Math.max(1,Number(n.value)+1),i.style.display="none"})),n.addEventListener("keypress",(t=>{!function(t){const e=t?.which?t.which:t?.keyCode;46!==e&&e>31&&(e<48||e>57)&&t.preventDefault()}(t),i.style.display="none"})),e?.addEventListener("click",(t=>{t.target.closest(".boost-sd__modal-wrapper")||M()}));const j=t=>{const o=t.parentNode.parentNode.querySelectorAll(".boost-sd__product-swatch-option");o?.forEach((t=>{const e=t.querySelector(".boost-sd__radio-label");e?.classList.remove("boost-sd__radio-label--selected")}));const n=t.querySelector(".boost-sd__radio-label");n?.classList.add("boost-sd__radio-label--selected");const a=e.querySelectorAll(".boost-sd__radio-label--selected");let s="";a?.forEach(((t,e)=>{s+=t.textContent.trim(),e<a.length-1&&(s+=" / ")}));const i=E?.find((t=>t.title===s))||{available:!1,id:"",price:null};N({selectedVariant:i}),V(t)},B=(t,e)=>{t.classList[e?"add":"remove"]("boost-sd__radio-label--sold-out")},F=(t,e,o)=>{if(!t)return void B(e,!1);if(!t.available)return void B(e,!0);B(e,!1);((t,e)=>{t.forEach((t=>{const o=t.textContent.trim();e.includes(o)&&B(t,!1)}))})(o,t.title.split(" / ").map((t=>t.trim())))},V=t=>{if(E.every((t=>!t.available)))return void e.querySelectorAll(".boost-sd__radio-label").forEach((t=>{t.classList.add("boost-sd__radio-label--sold-out")}));const o=R()?.selectedVariant,n=t=>t.includes(" / ")?t.split(" / ").slice(0,-1).join(" / "):t,a=n(o?.title||""),s=E.filter((t=>n(t.title)===a)),i=e.querySelectorAll(".boost-sd__radio-label");if(i.forEach((t=>{const e=t.textContent.trim(),o=s.find((t=>t.title.split(" / ").includes(e)));F(o,t,i)})),0===s.length&&o.available)e.querySelectorAll(".boost-sd__radio-label--selected").forEach((t=>{t.classList.remove("boost-sd__radio-label--sold-out")}));else if(!o.available){const o=e.querySelectorAll(".boost-sd__radio-label--selected");if(Array.from(o).every((t=>!t.classList.contains("boost-sd__radio-label--sold-out")))){const e=t.querySelector(".boost-sd__radio-label");e?.classList.add("boost-sd__radio-label--sold-out")}}};h?.forEach((t=>{const e=t.querySelectorAll(".boost-sd__product-swatch-option");e?.forEach((t=>{(t=>{const e=t?.querySelector(".boost-sd__radio-label"),o=R()?.selectedVariant?.title,n=e?.textContent.trim();let a=[];if(o&&o.includes(" / ")){const t=o.split(" / ");a=[t.slice(0,t.length-1).join(" / "),t[t.length-1]]}else o&&(a=[o]);a.includes(n)&&e.classList.add("boost-sd__radio-label--selected")})(t),t.addEventListener("click",(e=>{j(t),V(t)})),t.addEventListener("keyup",(t=>e=>{Kn.includes(e.key)&&(j(t),V(t))})(t))}))})),(()=>{const t=e.querySelectorAll(".boost-sd__product-swatch-option"),o=Array.from(t).find((t=>!t.querySelector(".boost-sd__radio-label").classList.contains("boost-sd__radio-label--sold-out")));o&&j(o)})(),r?.addEventListener("click",(async()=>{Number(n.value)<=0?i.style.display="block":t.handler(ua,"addToCart")(t,{productId:R().selectedVariant.id,quantity:Number(n.value)},r,!1,(()=>{setTimeout((()=>{M();const t=document.querySelector("#boost-sd__modal-cart");t&&Yn(t)}),300)}))})),u?.addEventListener("click",(async()=>{const e=R().selectedVariant,o=e?.preorder?.sellingPlan?.id||null;t.handler(ua,"addToCart")(t,{productId:e.id,quantity:Number(n.value),selling_plan:o},u,!1,(()=>{setTimeout((()=>{M();const t=document.querySelector("#boost-sd__modal-cart");t&&Yn(t)}),300)}))})),g?.addEventListener("click",(()=>{if(0===Number(n.value))return;const{value:t}=n;v(`/cart/${R().selectedVariant.id}:${t}`)})),C?.addEventListener("click",(()=>{const o=$()-1;xr(t,o,O[o]?.src,O,T,e,P)})),x?.addEventListener("click",(()=>{const o=$()+1;xr(t,o,O[o]?.src,O,T,e,P)})),T?.forEach(((o,n)=>{o.addEventListener("click",(()=>{xr(t,n,O?.[n]?.src,O,T,e,P)}))})),xr(t,0,O[0]?.src,O,T,e,P),t.render((()=>{const{selectedVariant:o}=R(),n=Pt({context:t,value:o?.price}),a=(Number(o?.compare_at_price)||0)>(Number(o?.price)||0),{addCollectionToProductUrl:s,current_tags:i=[]}=t?.app?.generalSettings||{},h=Vt(t,{variants:E,handle:L,split_product:I,variantId:A},s,i,o.id);n&&(_&&(_.style.display="block"),y&&(y.innerHTML=n)),o?.price||_&&(_.style.display="none");const v=document.createElement("span");if(v.className="boost-sd__format-currency boost-sd__format-currency--price-compare",2===_.childElementCount&&_.lastChild.remove(),a){const e=Pt({context:t,value:o?.compare_at_price});v.innerHTML=e,_.appendChild(v)}if(!r||!o)return;const x=!o.available;if(o.preorder){c.style.display="none",d.style.display="block",function(t){document?.querySelectorAll(".boost-sd__preorder").forEach((function(t){t.style.display="none"}));const e=document.querySelector(`.boost-sd__preorder[data-variant-id="${t}"]`);e&&(e.style.display="block")}(o.id);const t=o.preorder?.settings?.buttonText,e=o.preorder?.settings?.showDeliveryText,n=o.preorder?.settings?.deliveryText;u&&t?p&&(p.textContent=t):p&&(p.textContent="Pre-Order"),b&&!0===e&&(b.style.display="block",m&&(m.textContent=n))}else d&&(d.style.display="none"),c.style.display="flex",x?(r&&(c.querySelector(".boost-sd__btn-add-to-cart").setAttribute("disabled",!0),l&&(l.textContent=t.app?.translation?.productItem?.soldoutLabel||"Sold out")),g&&(g.style.display="none")):(r&&(c.querySelector(".boost-sd__btn-add-to-cart").removeAttribute("disabled",!0),l&&(l.textContent=t.app?.translation?.productItem?.atcAvailableLabel||"Add to cart")),g&&(g.style.display="flex"));if(c.querySelector(".boost-sd__btn-add-to-cart").setAttribute("data-variant-id",o.id),g?.setAttribute("data-variant-id",o.id),f.setAttribute("href",h),o?.image){const n=o.image,a=O?.findIndex((t=>t.src===n));xr(t,a,n,O,T,e,P)}x?(S.forEach((t=>{t.style.display="flex"})),w?.forEach((t=>{t.style.display="none"})),k?.forEach((t=>{t.style.display="none"}))):a&&!x?(S.forEach((t=>{t.style.display="none"})),w?.forEach((t=>{t.style.display="flex"})),k?.forEach((t=>{t.style.display="flex"}))):(S.forEach((t=>{t.style.display="none"})),w?.forEach((t=>{t.style.display="none"})),k?.forEach((t=>{t.style.display="flex"})))}),["quick-view-swatch"]),t.render((()=>{const t=$();0===t?(C?.setAttribute("disabled",!0),x?.removeAttribute("disabled")):t===O.length-1?(x?.setAttribute("disabled",!0),C?.removeAttribute("disabled")):(C?.removeAttribute("disabled"),x?.removeAttribute("disabled"))}),["quick-view-image"])},Tr=t=>{const e="boost-sd__thumbs-container-thumbs-item--selected",o=document.querySelector(`.${e}`);o?.classList.remove(e);const n=document.querySelector(`.boost-sd__thumbs-container-thumbs-item:nth-child(${t+1})`);n?.classList.add(e)},xr=(t,e,o,n,a,s,i)=>{if(!n||!a||!s)return;const r=Math.floor((n?.length||0)/4)+1,l=Math.floor(e/4)+1,c=4*(l-1),d=c+3;if(a.forEach(((t,n)=>{const a=t.querySelector("img");t.style.display=n<c||n>d?"none":"block",a.src===o&&(i(e),_r.slick("slickGoTo",n))})),l===r&&r>1){const t=n.length%4,e=4-t;for(let o=0;o<e;o++)a[n.length-t-1-o].style.display="block"}};let Cr;const Lr=(t,e)=>{const[o]=t.useContextState("pagination ",{page:1});let n="refresh",a=o().page||1;switch(!0){case e.classList.contains("boost-sd__pagination-number"):{const t=e.textContent.trim();a=oe(a,t);break}case e.classList.contains("boost-sd__pagination-button--prev"):a=oe(a,"prev");break;case e.classList.contains("boost-sd__pagination-button--next"):a=oe(a,"next");break;case null!==e.closest(".boost-sd__pagination-button--load-previous"):case null!==e.closest(".boost-sd__pagination-infinite-scroll-container-button"):a=oe(k(b),"prev"),n="previous";break;case null!==e.closest(".boost-sd__pagination-button--load-more"):a=oe(k(m),"next"),n="more"}Ir(t,a,n)},Ir=(t,e,o)=>{const{paginationTypeAdvanced:n=!0}=t?.app?.generalSettings||{},[a,s]=t.useContextState("pagination ",{page:1}),{paginationType:i="default"}=ie(t)?.additionalElements?.pagination||{},r="default"===i?t.widgetId:t.app.templateMetadata.productList;"more"===(o="default"!==i?o:"refresh")&&T(m,e),"previous"===o&&T(b,e),e!==Number(a().page)&&(s({page:e}),1===e?Kt("page"):n&&Gt("page",e),ze(t,{additionParams:{widgetId:r,behavior:o}}),"default"===i?be():Ar(t,e))},Ar=(t,e)=>{const o=t.document.querySelector('.boost-sd__pagination-load-more-container-item[data-position="top"], .boost-sd__pagination-infinite-scroll-container-button'),n=t.document.querySelector('.boost-sd__product-count[data-position="top"]'),a=t.document.querySelector('.boost-sd__pagination-load-more-container-item[data-position="bottom"]'),s=t.document.querySelector('.boost-sd__product-count[data-position="bottom"]'),i=t?.defaultParams?.limit||24;let r=0,l=0;const c=t.document.querySelector(".boost-sd__product-list");c&&(r=Number(c.getAttribute("data-total-page")),l=Number(c.getAttribute("data-total-product")));const d=Math.min(i*k(m),l),u=(k(b)-1)*i+1;e<=1&&(o&&(o.style.display="none"),n&&(n.style.display="none")),e===r&&(a&&(a.style.display="none"),s&&(s.style.display="none"));const p=t.document.querySelectorAll(".boost-sd__product-count-pagination"),g=l>1?"productCount.textDescriptionPaginationPlural":"productCount.textDescriptionPagination",f=ce(t.translate(g,"Showing {{from}} - {{to}} of {{total}} products"),{from:u,to:d,total:l});setTimeout((()=>{p?.forEach((t=>{t&&(t.textContent=f)}))}),500)},Er=t=>{const e=window.boostWidgetIntegrationConfig?.scrollBackTopPosition||t.getBoundingClientRect().top+window.scrollY;window.scroll({top:e,behavior:"smooth"})},Or=t=>{window.history.scrollRestoration&&(window.history.scrollRestoration="manual");const e=e=>{e.persisted&&Or(t)};if(t.$(".boost-sd__product-list")){const t=k(p);if(t){const e=document.querySelector(`.boost-sd__product-item[data-product-id="${t}"]`);if(e&&!e.closest(".boost-sd__recommendation")){const t=e.querySelector(".boost-sd__product-image-wrapper--auto");let o=0;const n=20;if(t){const a=setInterval((()=>{(t.offsetHeight>0||o++>n)&&(Er(e),clearInterval(a))}),50)}else Er(e)}}T(p,null),T(u,null)}return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}},qr=t=>{const e=t.$(".boost-sd__product-list"),o=t.$(".boost-sd__product-list-list-col");e&&window.addEventListener("resize",(function(){const n=t.$(".boost-sd__view-as-icon--active"),a=t.$(".boost-sd__view-as-icon--grid"),{productsPerRowOnDesktop:s,productsPerRowOnMobile:i}=t.app.templateSettings?.themeSettings?.productList||{productsPerRowOnMobile:2,productsPerRowOnDesktop:3},{listType:r}=t.app.templateSettings?.themeSettings?.additionalElements?.toolbar?.elements?.viewAs||{listType:"grid/list"},l=S(t.app.generalSettings.breakpointtabletportraitmax||991),c=n?.getAttribute("data-value"),d="boost-sd__product-list-"+c+"-col",u="boost-sd__product-list-grid--"+i+"-col";l&&!o&&(e.classList.remove(d),e.classList.add(u),a?.setAttribute("data-value","grid--"+i)),l||o||(e.classList.remove(u),e.classList.add(d),a?.setAttribute("data-value","grid/list"===r?"grid--"+s:c))}))},$r="bundle",Pr="carousel",Dr="boost_sd__dropdown-index";let Rr=!1;const Nr=async t=>{if(!jr(t))return void(t.document.innerHTML="");if(!Jr(t))return void(t.document.innerHTML="");const[e]=t.useContextState("recommendation",{}),[o,n]=t.useContextState("loading",!0);((t,e)=>{const{inViewPortHandler:o}=window.boostSDTaeUtils;o([t.document.parentElement],(t=>{const o=t.querySelector("[id^='boost-sd-widget-']");o&&(o.removeAttribute("loading"),e())}))})(t,(async()=>{await ol(t);const{layoutDisplay:e=""}=nl(t).widgetDesignSettings;e===Pr?await Br():e===$r&&Fr(t),n(!1)})),t.render((async()=>{if(o())return;const n=e(),{products:a=[]}=n;if(!t.template||a.length<1)return void(t.document.innerHTML="");const s=await t.templateRender(t.template,{...n,request:{device:O(),money_format:t.app.shop.money_format,money_format_with_currency:t.app.shop.money_format_with_currency}});t.document.innerHTML=s;const i=window.boostWidgetIntegration.generateUuid();t.state.latestRecommendationRequest=i,Ia(t),(t=>{const e=t.document?.querySelectorAll(".boost-sd__product-item, .boost-sd__product-item-list-view-layout"),o=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const{target:e}=t;if(!e)return;const{handle:n}=ue(e.getAttribute("data-product"))||{};if(!n)return;const a=e.querySelectorAll(".boost-sd__product-link");a?.forEach((t=>{let e="";e=(window?.Shopify?.routes?.root||"/")?.replace(/\/$/,""),t.setAttribute("href",`${e}/products/${n}`),o.unobserve(t)}))}}))}));e?.forEach((t=>{o.observe(t)}))})(t),fa(t),fr(),Wr(t),Oa(t,2,nl(t).widgetDesignSettings.numberOfRecommendProduct,767,t.app.generalSettings.breakpointtabletportraitmax||991,nl(t).widgetDesignSettings.numberOfRecommendProduct),"subLayout_bulk"===t.app.templateSettings?.themeSettings?.productItems?.general?.subLayout&&Li(t)}),["loading","recommendation"]),window.addEventListener("resize",(()=>{document.querySelectorAll(".boost-sd__slider-container .slick-slide").forEach((t=>{t.style.display="block"})),Mr(t)})),window.addEventListener("scroll",(()=>{Mr(t)}))},Mr=t=>{const e=document.body.querySelector(zr(t.widgetId));if(!e)return;const o=t.document.querySelectorAll(`.boost-sd__recommendation-bundle-item-info-content ${Ur(t.widgetId)}]`);if(!o)return;const n=+e.getAttribute(Dr);e.setAttribute("style",sl(o[n].getBoundingClientRect()))},jr=t=>{if(!t.widgetId||""===t.widgetId)return!1;const e=Kr(t);if(""===e)return!1;const o=t.app?.recommendationWidgets;if(!o||0===Object.keys(o).length)return!1;const n=o[e];if(!n||0===Object.keys(n).length)return!1;const a=n[t.widgetId];if(!a||0===Object.keys(a).length)return!1;const s={...t.app?.recommendation?.defaultSettings||{},...a.widgetDesignSettings};if(!s||0===Object.keys(s).length)return!1;const i=a.params;if(!i||0===Object.keys(i).length)return!1;const r=t.app?.templateMetadata;return!(!r||0===Object.keys(r).length)&&(t.pageType=e,!0)},Br=async()=>{if(Rr)return;const t=await i.e(881).then(i.t.bind(i,4651,19));window.$=t.default,await Promise.all([i.e(881),i.e(997)]).then(i.t.bind(i,428,19)),Rr=!0},Fr=t=>{const[e,o]=t.useContextState("recommendation",{}),n=e(),{products:a=[]}=n;let s=0;for(const r of a){let e=r;r.variants.length>0&&(e=r.variants[0]);const{price:o=0,title:n,id:a}=e;r.selectedOption={title:n,originPrice:o,price:al(t,o),id:a},r.available?(r.checked=!0,s+=+o):r.checked=!1}s=al(t,s);const i=a.length>0&&a.filter((t=>t.available)).length>0;o({...n,products:a,totalPrice:s,hasSelectedProduct:i})},Vr=t=>{let e=0;for(const o of t)if(o.checked){const{originPrice:t=0}=o.selectedOption;e+=+t}return e},Wr=t=>{const{layoutDisplay:e=""}=nl(t).widgetDesignSettings;e===Pr?Hr(t):e===$r&&Gr(t)},Hr=t=>{const{widgetDesignSettings:e}=nl(t),o="rtl"===document.documentElement.getAttribute("dir"),n=window.$(".boost-sd__slider-container").not(".slick-initialized").slick({dots:!0,infinite:!0,slidesToShow:e.numberOfProductPerRow||4,slidesToScroll:e.numberOfProductPerRow||4,arrows:!1,draggable:!1,useTransform:!1,focusOnSelect:!1,focusOnChange:!1,accessibility:!1,responsive:[{breakpoint:767,settings:{dots:!0,infinite:!0,slidesToShow:2,slidesToScroll:2,arrows:!1,draggable:!0,focusOnSelect:!1,focusOnChange:!1,accessibility:!1}}],rtl:o});o&&(window.$(".boost-sd__slider-container").css({direction:"rtl"}),window.$(".boost-sd__slider-container .slick-slide").css({float:"right"}));const a=()=>{const e=t.document.querySelectorAll(".boost-sd__slider-container .slick-slide"),o=[...e].filter((t=>!t.classList.contains("slick-cloned"))).length;let n=0;e.forEach((t=>{t.classList.contains("slick-cloned")||(n++,t.setAttribute("aria-label",`Slide ${n} of ${o}`));const e=t.classList.contains("slick-active")?0:-1;t.tabIndex=e,t.querySelectorAll("a[href], button:not([disabled]), .boost-sd__radio-label[tabindex]").forEach((t=>{t.tabIndex=e}))}))};a(),n.on("afterChange",(()=>{a(),setTimeout((()=>{window.$(`#${t.widgetId} .slick-current`).trigger("focus")}),400)}));t.document.querySelectorAll(".boost-sd__button--circle").forEach((t=>{t.addEventListener("click",(e=>{const o=t.getAttribute("aria-label");"Next"===o?n.slick("slickNext"):"Previous"===o&&n.slick("slickPrev")}))}))},zr=t=>`[id="boost-sd__dropdown-list-${t}"].boost-sd__dropdown-option-list--open`,Ur=t=>`[id="boost-sd__dropdown-${t}"`,Gr=t=>{const e="boost-sd__dropdown-option-list--open",[o,n]=t.useContextState("recommendation",{}),[a,s]=t.useContextState("openingBundleDropdownIdx",-1),i=o(),{products:r=[]}=i,l=t.document.querySelectorAll(Ur(t.widgetId))||[],c=t.document.querySelectorAll(".boost-sd__recommendation-bundle-image-item .boost-sd__product-image")||[];for(let u=0;u<l.length;u++){if(r[u].variants.length<1||!r[u].checked)continue;const o=l[u].querySelector(`[id="boost-sd__dropdown-list-${t.widgetId}"`);l[u].addEventListener("click",(()=>{o.classList.contains(e)?(o.removeAttribute(Dr),o.classList.remove(e),s(-1),document.body.removeChild(o)):(o.classList.add(e),o.setAttribute(Dr,u),o.setAttribute("style",sl(l[u].getBoundingClientRect())),s(u),document.body.appendChild(o))}));const a=o.querySelectorAll(`[id="boost-sd__dropdown-option-${t.widgetId}"`)||[];for(let s=0;s<a.length;s++)a[s].addEventListener("click",(()=>{const o=document.body.querySelector(`[boost_sd__dropdown-index="${u}"]`);o.classList.remove(e),document.body.removeChild(o);const{title:a="",price:l=0,id:c}=r[u]?.variants[s]||{},d=al(t,l);r[u].selectedOption={title:a,originPrice:l,price:d,id:c};const p=al(t,Vr(r));n({...i,products:r,totalPrice:p})}));c[u].addEventListener("click",(()=>{const{addCollectionToProductUrl:e,current_tags:o=[]}=el(t),{handle:n,variants:a,id:s}=r[u];let i="";a.length>0&&(i=a[0].id);const l=Vt(t,{variants:a,variant_id:i,handle:n,split_product:""},e,o);T(p,i||s),v(l)}))}const d=t.document.querySelectorAll(".boost-sd__recommendation-bundle-checkbox-box");for(let u=0;u<d.length;u++)d[u].addEventListener("click",(()=>{if(!r[u].available)return;d[u].classList.contains("boost-sd__recommendation-bundle-checkbox-box--checked")?r[u].checked=!1:r[u].checked=!0;const e=al(t,Vr(r)),o=r.filter((t=>t.checked)).length>0;n({...i,products:r,totalPrice:e,hasSelectedProduct:o})}));t.document.querySelector(".boost-sd__btn-add-to-cart").addEventListener("click",(()=>{const e=r.filter((t=>t.checked)).map((t=>{const{id:e}=t.selectedOption;return{productId:e,quantity:1}}));t.handler(ua,"addToCart")(t,e,t.document,!0)})),document.addEventListener("click",(o=>{const n=a();if(n<0)return;const s=zr(t.widgetId);if(o.target.closest(s)||o.target.closest(Ur(t.widgetId))){const t=document.body.querySelectorAll(s);for(const o of t){n!==+o.getAttribute(Dr)&&(o.removeAttribute(Dr),o.classList.remove(e),document.body.removeChild(o))}}else{const t=document.body.querySelector(s);t&&(t.removeAttribute(Dr),t.classList.remove(e),document.body.removeChild(t))}}))},Jr=t=>{const e=Kr(t);return""!==e&&(!("home-page"!==e||!Et(t))||(!("collection-page"!==e||!Ct(t))||(!("product-page"!==e||!At(t))||!("cart-page"!==e||!It(t)))))},Kr=t=>{const e=t.widgetId;return e.startsWith("homepage")?"home-page":e.startsWith("cartpage")?"cart-page":e.startsWith("collectionpage")?"collection-page":e.startsWith("productpage")?"product-page":""},Qr=t=>{let e="";switch(!0){case Ct(t):e="collection_page";break;case Lt(t):e="search_page";break;case At(t):e="product_page";break;case It(t):e="cart_page";break;case Et(t):e="home_page"}return e},Zr=async t=>{const{params:e}=nl(t),{recommendationType:o,limit:n,shop:a,layoutDisplay:s="carousel"}=e,i=Yr(),r=tl(t),l=await Xr(t);if(0===l.length&&["frequently-bought-together","related-items","recently-viewed"].includes(o))return[];const c={recommendationType:o,limit:n,shop:a,wid:t.widgetId,event_type:"init",pg:Qr(t),locale:t?.app?.generalSettings?.current_locale||"en",layoutDisplay:s};t.app.b2b?.enabled&&Ve(c,t);const d=new URLSearchParams(Wt(c)),u=window.boostSdCustomParams;if(u&&Object.keys(u).length>0)for(const y in u)d.set(y,u[y]);const{tenantId:p,...b}=e,m=Wt({...b,layoutDisplay:s,wid:t.widgetId,productIds:l,collectionId:r,customerId:i?String(i):null,locale:t?.app?.generalSettings?.current_locale||"en"}),g=t.app?.recommendUrl,f=await fetch(`${g}?${d}`,{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}});if(!f.ok)return[];const _=await f.json();if(C(`boostSdRecommend-${t.widgetId}`,{wid:t.widgetId,rid:_?.meta?.rid,rt:o}),_.meta){const{money_format:e,money_format_with_currency:o,currency:n}=_.meta;We(t,{money_format:e,money_format_with_currency:o,currency:n})}return _.products||[]},Yr=()=>window?.__st?.cid||window?.meta?.page?.customerId||window?.ShopifyAnalytics?.meta?.page?.customerId,Xr=async t=>{const{recommendationType:e}=nl(t).params;let o=[];return At(t)&&(o=[el(t).product_id]),It(t)&&await Fe.getAll().then((t=>{o=t.items.map((t=>t.product_id))})).catch((()=>o=[])),"recently-viewed"===e&&(o=se()),o},tl=t=>{let e=0;return Ct(t)&&(e=el(t).collection_id),e},el=t=>{let e=t.app?.generalSettings||{};return e&&0!==Object.keys(e).length||(e=window.boostWidgetIntegration?.generalSettings||{}),e},ol=async t=>{const[,e]=t.useContextState("recommendation",{});await(async t=>{const e=t.app?.template?.recommendation||"";if(""!==e)return void(t.template=e);const o=t.app?.templateMetadata?.recommendation||"",n=t.app?.templateMetadata?.themeNameLib||"default",{templates:a={}}=await Ue(t,n,[{name:"recommendation",id:o}]).catch((()=>({templates:{}})));t.template=a[o]})(t);let o=await t.handler(Zr,"getRecommendData")(t);const n=nl(t),{widgetDesignSettings:a}=n,{product:s}=window.boostSDData;if(a.layoutDisplay===$r&&Object.keys(s).length>0){o=[il(s),...o]}const{titleFontStyle:i}=a,{fontWeight:r,fontStyle:l}=le(i);e({products:o,widgetId:t.widgetId,widgetName:n.widgetName,hasSelectedProduct:o.length>0,widgetDesignSettings:{tenantId:a.tenantId,layoutDisplay:a.layoutDisplay,templateType:a.templateType,bundleStyle:a.bundleStyle,titleTextColor:a.titleTextColor,titleFont:a.titleFont,titleFontSize:a.titleFontSize,titleFontStyle:l,titleFontWeight:r,titleTextTransform:a.titleTextTransform,titleAlignment:a.titleAlignment,numberOfProductPerRow:a.numberOfProductPerRow+1,numberOfRecommendProduct:o.length}})},nl=t=>t.app.recommendationWidgets[t.pageType][t.widgetId],al=(t,e)=>{const{showCentAsSuperscript:o,showCurrencyCodes:n}=t.templateSettings?.themeSettings?.productItems?.productInfo?.elements?.price||{};return Pt({context:t,value:Number(e),showCurrencyCodes:n,showCentAsSuperscript:o,removeDecimalPoint:o})},sl=t=>{const{width:e,height:o,left:n,top:a}=t;return`position:fixed;z-index:2;width:${e}px;left:${n}px;top:${a+o}px`},il=t=>{const e=t.variants.map((t=>{const e=t.featured_image?.src,o=t.price/100;return{...t,price:o,image:e}}));return{...t,images_info:t.media,variants:e}},rl=(t,e,o)=>{const n=t.document.querySelector(".boost-sd__search-result-toolbar-panel--active");n&&(n.classList.remove("boost-sd__search-result-toolbar-panel--active"),n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1"));const a=t.document.querySelector(".boost-sd__search-result-panel-content");a&&a.remove(),e.classList.add("boost-sd__search-result-toolbar-panel--active"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),e.focus();const s=(t=>{const e=t.match(/\d+/);return e?parseInt(e[0],10):0})(e.innerText),i=s>1?"search.searchTotalResults":"search.searchTotalResult",r=s>1?"Showing {{ count }} results":"Showing {{ count }} result",l=ce(t.translate(i,r),{count:s});l&&o&&(o.innerText=l)},ll=t=>{const e=t.document.querySelector(".boost-sd__search-result-panel-content");if(e){const t=e.querySelectorAll(".boost-sd__search-result-panel-content-item");t?.forEach((t=>{t?.addEventListener("click",(e=>{const o=t?.getAttribute("href");o&&v(o)}))}))}},cl=(t,e,o,n)=>{const a=S(t?.app?.generalSettings?.isTabletPortraitMax||767);a&&e<=2||!a&&e<=4?(o&&(o.style.display="none"),n&&(n.style.display="none")):(o&&(o.style.display="block"),n&&(n.style.display="block"))},dl=async t=>{if(!t?.templateSettings?.searchSettings?.searchPanelBlocks?.mostPopularProducts?.active)return;if(t.document.querySelector(".boost-sd-no-search-result")){const o=t?.templateSettings?.searchSettings?.suggestionNoResult?.products?.data||[];if(0===o?.length)return;try{const e=await(async(t,e)=>{try{const o=t.app.searchUrl;o?.replace("search","ssr-template");const n="mostPopularProducts",a=t?.app?.templateMetadata?.[n],s=t?.app?.templateMetadata?.themeNameLib||"default";let i={shop:_e(),locale:t.app?.generalSettings?.current_locale||"en",event_type:"init",handle:e,widget:`${n}:${a}`,theme_lib:s};i=Wt(i),t.app.b2b?.enabled&&Ve(i,t);const r=await fetch(`${o}/products?${Ri(i)}`,{method:"GET"}),l=await r.json();if(l.meta){const{money_format:e,money_format_with_currency:o,currency:n}=l?.meta||{};We(t,{money_format:e,money_format_with_currency:o,currency:n})}return l}catch(o){return console.log("Can not get mostPopularProducts template",o),{}}})(t,o);if(!e.template||0===e.products.length)return;const n=t.document.querySelector(".boost-sd__no-search-result-page"),a=e?.template?.replace(/loading="lazy"/g,""),s=e?.products||[],r=await t.templateRender(a,{products:s,request:{money_format:t.app.shop.money_format,money_format_with_currency:t.app.shop.money_format_with_currency}});n.insertAdjacentHTML("beforeend",r);const l=t.document.querySelector(".boost-sd__no-search-result-page-popular-products"),c=l?.querySelector(".boost-sd__prev-button"),d=l?.querySelector(".boost-sd__next-button"),u=s.length,p=u>=4?4:u;l&&(l.style.display="none"),cl(t,u,c,d),await(async()=>{const t=await i.e(881).then(i.t.bind(i,4651,19));window.$=t.default,await Promise.all([i.e(881),i.e(997)]).then(i.t.bind(i,428,19))})();const b=window.$(".slick-slider");b?.slick({slidesToShow:p,slidesToScroll:p,infinite:!0,arrow:!1,responsive:[{breakpoint:767,settings:{infinite:!0,slidesToShow:2,slidesToScroll:2,arrows:!1}}]}),l&&(l.style.display="block"),c?.addEventListener("click",(()=>{b?.slick("slickPrev")})),d?.addEventListener("click",(()=>{b?.slick("slickNext")})),window.addEventListener("resize",gt((()=>{cl(t,u,c,d)}),300))}catch(e){console.log(e)}}},ul=async t=>{const e=te(Ua(t,{},null)),{searchPanelBlocks:o}=re(t),{additionalElements:n}=ie(t),{pagination:a}=n||{},{displayImage:s,displayDescription:i,pageSize:r}=o?.collections||{},{displayImage:l,displayExcerpt:c,pageSize:d}=o?.pages||{},u=a?.alignment,p=a?.button?.shape,b=a?.number?.shape,[m,g]=t.useContextState("collection-tab-page-number",0),[f,_]=t.useContextState("page-tab-page-number",0);g(0),_(0);const y=t.document.querySelector(".boost-sd-container-search-page"),h=t.document.querySelector(".boost-sd__search-result-toolbar-result"),w=t.document.querySelector("#boost-sd__search-result-toolbar-panel-products"),v=t.document.querySelector("#boost-sd__search-result-toolbar-panel-collections"),S=t.document.querySelector("#boost-sd__search-result-toolbar-panel-pages"),k=t.document.querySelector(".boost-sd-layout"),T=t.document.querySelector(".boost-sd__toolbar-container"),x=t.document.querySelector(".boost-sd__search-form-input");let C=[],L=[],I=0,A=0;dl(t),(t=>{const e=t.document.querySelector(".boost-sd__search-result-toolbar-result"),o=Number(e?.getAttribute("data-total-product")||0);document.title=document.title.replace(/\d+/,o)})(t);const E=(t,e,o,n)=>{const a=a=>{("click"===a.type||Kn.includes(a.key))&&(a.preventDefault(),rl(e,t,o),n())};t?.addEventListener("click",a),t?.addEventListener("keydown",a)};E(w,t,h,(()=>{k&&(k.style.display="flex"),T&&(T.style.display="block")})),E(v,t,h,(()=>{g(1)})),E(S,t,h,(()=>{_(1)}));const O=t.document.querySelectorAll(".boost-sd__search-result-toolbar-panel"),q=t.document.querySelectorAll(".boost-sd__search-result-panel-content");if(O.forEach(((e,o)=>{e.addEventListener("click",(()=>{rl(t,e,h)})),e.addEventListener("keydown",(n=>{if("ArrowRight"===n.key){O[(o+1)%O.length].focus()}else if("ArrowLeft"===n.key){O[(o-1+O.length)%O.length].focus()}else Kn.includes(n.key)&&rl(t,e,h)})),e.setAttribute("tabindex",0===o?"0":"-1")})),q.forEach((t=>{t.setAttribute("tabindex","-1")})),x){const t=window.boostWidgetIntegration.blocks["bc-instant-search"];t&&(x.addEventListener("input",(e=>{tr(t,e,x)})),x.addEventListener("click",(async e=>{er(t,e,x)})),x.addEventListener("focus",(async e=>{er(t,e,x)})),x.addEventListener("keydown",(e=>{or(t,e,x)})));const e=x.closest("form");if(e){const o=e.querySelector('[type="submit"]');o&&(o.addEventListener("click",(e=>{nr(t,e,x)})),o.addEventListener("keydown",(t=>{Kn.includes(t.key)&&sessionStorage.setItem("keyboardActivatedSearch","true")})));const n=new URLSearchParams(window.location.search),a="true"===sessionStorage.getItem("keyboardActivatedSearch");n.has("q")&&a&&(O.length>0&&O[0].focus(),sessionStorage.removeItem("keyboardActivatedSearch"));const s=e.querySelector('[type="reset"]');s&&(x.value&&s.classList.remove("boost-sd__g-hide"),s.addEventListener("click",(t=>{ar(x,s)})))}}t.render((async()=>{const o=m();if(0===o)return;try{e.set("page",o),e.set("limit",r);const n=await fetch(`${t.app.searchUrl+"/collections"}?${e}`,{method:"GET"}),a=await n.json();a?.collections&&(C=a?.collections,I=a?.total_collection)}catch(f){console.log(f)}const n=await t.templateRender(go(t).searchTabCollectionsTemplate,{collections:C,displayImage:s,displayDescription:i,paginationAlignment:u,paginationButtonShape:p,paginationNumberShape:b,pageSize:r||24,totalCollection:I,currentPage:Number(o)});k&&(k.style.display="none"),T&&(T.style.display="none");const a=y?.querySelector(".boost-sd__search-result-panel-content");a?a.innerHTML=n:y.insertAdjacentHTML("beforeend",n),ll(t);const l=t.document.querySelectorAll(".boost-sd__search-result-panel-content .boost-sd__pagination-number"),c=t.document.querySelector(".boost-sd__search-result-panel-content  .boost-sd__pagination-button--previous"),d=t.document.querySelector(".boost-sd__search-result-panel-content .boost-sd__pagination-button--next");l?.forEach((e=>{e?.addEventListener("click",(async o=>{o.stopPropagation();const n=e?.getAttribute("data-page");n&&(g(n),ll(t))}))})),c?.addEventListener("click",(async t=>{t.stopPropagation(),g(o-1)})),d?.addEventListener("click",(async t=>{t.stopPropagation(),g(o+1)}))}),["collection-tab-page-number"]),t.render((async()=>{const o=f();if(0===o)return;try{e.set("page",o),e.set("limit",d);const n=await fetch(`${t.app.searchUrl+"/pages"}?${e}`,{method:"GET"}),a=await n.json();a?.pages&&(L=a?.pages,A=a?.total_page)}catch(m){console.log(m)}const n=await t.templateRender(go(t).searchTabPagesTemplate,{pages:L,displayImage:l,displayDescription:c,paginationAlignment:u,paginationButtonShape:p,paginationNumberShape:b,pageSize:d||24,totalPageTab:A,currentPage:Number(o)});k&&(k.style.display="none"),T&&(T.style.display="none");const a=y?.querySelector(".boost-sd__search-result-panel-content");a?a.innerHTML=n:y.insertAdjacentHTML("beforeend",n),ll(t);const s=t.document.querySelectorAll(".boost-sd__search-result-panel-content .boost-sd__pagination-number"),i=t.document.querySelector(".boost-sd__search-result-panel-content .boost-sd__pagination-button--previous"),r=t.document.querySelector(".boost-sd__search-result-panel-content .boost-sd__pagination-button--next");s?.forEach((e=>{e?.addEventListener("click",(async o=>{o.stopPropagation();const n=e?.getAttribute("data-page");n&&(_(n),ll(t))}))})),i?.addEventListener("click",(async t=>{t.stopPropagation(),_(o-1)})),r?.addEventListener("click",(async t=>{t.stopPropagation(),_(o+1)}))}),["page-tab-page-number"])};function pl(t,e){const[o,n]=t.useContextState("limit-list",{isShow:!1}),{isShow:a}=o();n({isShow:!a}),t.render((()=>{const t=o(),e=document.querySelector(".boost-sd__show-limit-list-button"),n=document.querySelector(".boost-sd__show-limit-list-list");t&&t.isShow?(e.classList.add("boost-sd__show-limit-list-button--active"),n.classList.add("boost-sd__show-limit-list-list--active")):(e.classList.remove("boost-sd__show-limit-list-button--active"),n.classList.remove("boost-sd__show-limit-list-list--active"))}),["limit-list"])}function bl(t,e){const o=e.innerHTML;e.classList.add("boost-sd__show-limit-list-option--active"),t.defaultParams.limit=Number(o),be(),He(t),C(y,Number(o)),t.handler(pl,"handleToggleShowLimitList")(t,e)}function ml(t,e){const[o,n]=t.useContextState("sort",{isShow:!1,sort:null});if(e.classList.contains("boost-sd__sorting-value")||e.classList.contains("boost-sd__sorting-button")||e.classList.contains("boost-sd__sorting-option")){const{isShow:a,sort:s}=o();if(n({sort:s,isShow:!a}),e.classList.contains("boost-sd__sorting-option")){const o=e.getAttribute("data-value");n({sort:o,isShow:!a}),Gt("sort",o),He(t)}}t.render((()=>{const e=o(),n=t.document.querySelector(".boost-sd__sorting-list"),a=t.document.querySelector(".boost-sd__sorting-button");if(e&&e.isShow){const t=n.querySelector('[role="option"]');t&&t.focus(),n.classList.add("boost-sd__sorting-list--active"),a.classList.add("boost-sd__sorting-button--active"),a.setAttribute("aria-expanded","true")}else n.classList.remove("boost-sd__sorting-list--active"),a.classList.remove("boost-sd__sorting-button--active"),a.setAttribute("aria-expanded","false")}),["sort"])}const gl=async(t,e)=>{e.classList.contains("boost-sd__view-as-icon")?t.defaultParams.viewAs=e.getAttribute("data-value"):t.defaultParams.viewAs=e.closest(".boost-sd__view-as-icon").getAttribute("data-value");const o=S(t.app.generalSettings.breakpointmobile||575);t.defaultParams.device=o?O():"";const[,n]=t.useContextState("activeViewAsButton",null);return n(t.defaultParams.viewAs),ze(t)};function fl(t){if(t.templateRender=async function(e,o){const n=t?.app?.translation||{},{html:a}=await ke("liquid-renderer").send({template:e,data:{...o,translations:n}});return a},t.translate=function(e,o){return Pa(e,t?.app?.translation||{},o)},t.handler=function(e,o){return async(...n)=>{o=o||e.name;const a=t.blockType;let s=e;t.app.customization&&t.app.customization[o]&&"function"==typeof t.app.customization[o]&&(s=t.app.customization[o]),t.app.customization&&t.app.customization[a]?.[o]&&"function"==typeof t.app.customization[a]?.[o]&&(s=t.app.customization[a][o]);const i=o[0].toUpperCase()+o.slice(1),r=`before${i}`,l=`after${i}`;t.app.customization&&t.app.customization[r]&&"function"==typeof t.app.customization[r]&&await t.app.customization[r](t,...n),t.app.customization&&t.app.customization[a]?.[r]&&"function"==typeof t.app.customization[a][r]&&await t.app.customization[a][r](t,...n);const c=await s(...n);return t.app.customization&&t.app.customization[a]?.[o]?.appIntegration&&"function"==typeof t.app.customization[a]?.[o]?.appIntegration&&t.app.customization[a]?.[o]?.appIntegration(...n),t.app.customization&&t.app.customization[l]&&"function"==typeof t.app.customization[l]&&await t.app.customization[l](t,c,...n),t.app.customization&&t.app.customization[a]?.[l]&&"function"==typeof t.app.customization[a][l]&&await t.app.customization[a][l](t,c,...n),c}},t.render=function(e,o){if(o||(o=["latestFilterSearchRequest"]),o&&Array.isArray(o)&&o.push("latestFilterSearchRequest"),!Array.isArray(o))throw new Error("dependencies must is a array");if("function"==typeof e){e(t),t.watchRender=t.watchRender||{};const n=pe(String(e));Object.keys(t.watchRender).includes(e)||(t.watchRender[n]={watchState:o,key:n,callback:e})}},function(t){t.getFilterApi=async function(e,o,n={responseType:"json",modifyParams:null,additionParams:{}}){const a=new URLSearchParams(window.location.search).get("q");e=Lt(t)||a?t.app.searchUrl:e;const s="boost-sd__g-hide",i=document.getElementById("boost-sd-loading-icon-filter");i&&i.classList?.remove(s);const{responseType:r="json",modifyParams:l,additionParams:d}=n;let u=Ua(t,d,l);u=Wt(u);const p=te(u);(t.app.generalSettings.collection_id||0===t.app.generalSettings.collection_id)&&(p.set("collection_scope",t.app.generalSettings.collection_id),p.set("tag",t.app.generalSettings?.collection_tags?.[0]||"")),t.app.b2b?.enabled&&Ve(p,t);const b=p.toString(),m=b.includes("pf_"),g=t.cache||{},f=g[b]?g[b]:{},_=window.boostWidgetIntegration.generateUuid();t.latestRequestKey=b;let{html:y=null}=f;const{filter:h={},bundles:w=[]}=f;if(y)t.state.filterTree=h,t.dynamicBundles=w;else{p.set("t",Date.now()),p.set("sid",window.boostWidgetIntegration.getSessionId());const{sortingAvailableFirst:o,availableAfterFiltering:n,productAndVariantAvailable:a}=Hn(t);o&&p.set("sort_first","available"),n||a?!n&&a?(p.set("product_available",!0),p.set("variant_available",!0)):(p.set("product_available",m),p.set("variant_available",m)):(p.set("product_available",!1),p.set("variant_available",!1));const s=window.boostSdCustomParams;if(s&&Object.keys(s).length>0)for(const t in s)p.set(t,s[t]);let i=null;const l=p.get("widgetId"),d=Ha(t,l);if(d){p.delete("widgetId"),i=await fetch(`${e}?${p}`,{method:"GET"}),i=await za(i);const o={};for(const[t,e]of p.entries())o[t]=e;i.html=await t.templateRender(d,{...i,request:{...o,...u}})}else i=await fetch(`${e}?${p}`,{method:"GET"});if("json"===r){const e=await za(i);y=await e.html;const o=await(e.meta?.rid),n=Lt()?"search":"filter";Ga(n,o,e.bundles),C(c,n),t.state.filterTree={...e.filter,optionsMap:e.filter?.options?.reduce(((t,e)=>({...t,[e.filterOptionId]:e})),{})},t.dynamicBundles=e?.bundles;const a=(new Date).getTime();t.cache[b]={...e,html:y,timestamp:a};const s=50;if(Object.keys(g).length>=s){const t=Object.keys(g).sort(((t,e)=>g[t].timestamp-g[e].timestamp));delete g[t[0]]}if(e.meta){const{money_format:o,money_format_with_currency:n,currency:a}=e.meta;We(t,{money_format:o,money_format_with_currency:n,currency:a})}}}if(y){const{filterLayout:e,filterTreeVerticalStyle:o,filterTreeMobileStyle:n,filterTreeHorizontalStyle:a}=Hn(t),[s,i]=t.useContextState(Y.DESKTOP_OPENING,!1),r=S(t?.app?.generalSettings?.isTabletPortraitMax),l=t.$(M);r&&"style1"===n&&"none"!==l?.style?.display&&(y=y.replace('class="boost-sd__filter-tree-toggle-button"','class="boost-sd__filter-tree-toggle-button boost-sd__filter-tree-toggle-button--active"')),!r&&"style-default"!==o&&"vertical"===e&&s()&&(y=y.replace('class="boost-sd__filter-tree-toggle-button boost-sd__filter-tree-toggle-button--expand"','class="boost-sd__filter-tree-toggle-button boost-sd__filter-tree-toggle-button--expand boost-sd__filter-tree-toggle-button--active"')),"style-off-canvas"===o&&s()&&(y=y.replace('class="boost-sd__filter-tree-vertical-sticky-overlay boost-sd__filter-tree-vertical--hidden"','class="boost-sd__filter-tree-vertical-sticky-overlay"')),"style-expand"===o&&s()&&(y=y.replace('class="boost-sd__filter-tree-vertical  boost-sd__filter-tree-vertical--hidden','class="boost-sd__filter-tree-vertical')),"horizontal"===e&&"style-expand"===a&&i(!1)}if(t.latestRequestKey===b&&o){const e="more"===d?.behavior||"previous"===d?.behavior,{filterTreeMobileStyle:n}=Hn(t),a=t.$(M);e?Ka(t,y,d?.behavior):(Ja(t,(()=>{document.getElementById(o).innerHTML=y})),I(Yt("page"))),"json"===r&&(t.state.latestFilterSearchRequest=_);const{paginationType:l="default"}=ie(t)?.additionalElements?.pagination||{};if("infinite_scroll"===l){const[,e]=t.useContextState("pagination-infinite-loading ",!1);e(!1)}return"none"!==a?.style?.display&&"style1"!==n&&E()||document.body.classList.remove("boost-sd__g-no-scroll"),i&&i.classList.add(s),y}}}(t),function(t){t.watchRender=t.watchRender||{},t.triggerStateChange=async function(e,o,n){const a=Object.values(t.watchRender);if("function"==typeof t.app.customization[t.blockType]?.beforeRender&&a.unshift({watchState:["latestFilterSearchRequest","latestInstantSearchRequest","latestRecommendationRequest","latestQuickViewRequest"],callback:t.app.customization[t.blockType].beforeRender}),"function"==typeof t.app.customization[t.blockType]?.afterRender&&a.push({watchState:["latestFilterSearchRequest","latestInstantSearchRequest","latestRecommendationRequest","latestQuickViewRequest"],callback:t.app.customization[t.blockType].afterRender}),"function"==typeof t.app.customization[t.blockType]?.appIntegration){let e=["latestFilterSearchRequest","latestInstantSearchRequest","latestRecommendationRequest","latestQuickViewRequest"];const o=window.boostWidgetIntegration.excludeIntegrationComponents;void 0!==o&&(e=e.filter((t=>!t.includes(o)))),a.push({watchState:e,callback:t.app.customization[t.blockType].appIntegration})}"function"==typeof t.app.customization.beforeRender&&a.unshift({watchState:["latestFilterSearchRequest","latestInstantSearchRequest","latestRecommendationRequest","latestQuickViewRequest"],callback:t.app.customization.beforeRender}),"function"==typeof t.app.customization.afterRender&&a.push({watchState:["latestFilterSearchRequest","latestInstantSearchRequest","latestRecommendationRequest","latestQuickViewRequest"],callback:t.app.customization.afterRender}),a.forEach((function(o){o.watchState.includes(e)&&"function"==typeof o.callback&&o.callback(t)}))},t.state=new Proxy({},{set:function(e,o,n){const a={...e}[o];return e[o]=n,t.triggerStateChange(o,a,n),ft(t),!0}}),t.useContextState=function(e,o,n=!1){return e||console.error(e,t,o,"useContextState: stateName is required"),n?t.state[e]=o:t.state[e]||(t.state[e]=o),[function(){return t.state[e]},function(o){return t.state[e]=o,t.triggerStateChange(),t.state[e]}]}}(t),function(t){t.$=function(e,o){if("string"==typeof e&&e.startsWith(".")||"string"==typeof e&&e.startsWith("#")||"string"==typeof e&&e.startsWith("["))return n(e,o);function n(e,o){return o instanceof Element?o.querySelector(e):t.document?.querySelector(e)}return{getById:function(t){return document.getElementById(t)},getByClass:function(t){return document.getElementsByClassName(t)},getByTag:function(t){return document.getElementsByTagName(t)},attr:function(t,e){return t.getAttribute(e)},querySelector:n,querySelectorAll:function(e){return t.document.querySelectorAll(e)},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},toggleClass:function(t,e){t.classList.toggle(e)},append:function(t,e){t.appendChild(e)},on:function(t,e,o){t.addEventListener(e,o)},off:function(t,e,o){t.removeEventListener(e,o)},triggerEvent:function(t,e){const o=new Event(e);t.dispatchEvent(o)}}}}(t),function(t){const e=window.boostWidgetIntegration.generateUuid();if("filter"===t.blockType)if(t.filterTree)t.state.filterTree=t.filterTree,t.state.latestFilterSearchRequest=e,mt(),he(t);else{const o=new MutationObserver((function(n){n.forEach((function(n){t.filterTree&&(t.state.filterTree=t.filterTree,o.disconnect(),t.state.latestFilterSearchRequest=e,mt(),he(t))}))}));o.observe(t.document,{attributes:!0,childList:!0,subtree:!0})}}(t),yl(t),t.app.customization=t.app.customization||{},t.app.customization[t.blockType]=t.app.customization[t.blockType]||{},t.app.customization[t.blockType].appIntegration=mt,"filter"===t.blockType){const{collection_id:e,collection_handle:o}=window.boostWidgetIntegration?.generalSettings||{},n=x(lt);"all"===o&&n!==e&&C(lt,e),t.document=document.getElementById(t.id),(async t=>{const e=t.document.querySelector(".boost-sd__product-list");if(e){const o=Number(e.getAttribute("data-total-page"));if((Number(t.defaultParams.page)||1)>o)He(t)}})(t),rn(t),Ai(t),t.render((()=>{const e=document.querySelector('meta[content="noindex,nofollow,nosnippet"]'),{enableRobot:o=!0}=t.app?.generalSettings||{};if(o&&!e&&((()=>{const t=new URLSearchParams(window.location.search);for(const[e]of t.entries())if(e.indexOf("pf_")>-1)return!0;return!1})()||Yt("q")&&!Lt(t))){const t=document.createElement("meta");t.name="robots",t.content="noindex,nofollow,nosnippet",document.head.append(t)}const n=Rt(t),a=t?.document?.querySelectorAll(".boost-sd__filter-option-range-slider-unit");a&&a?.length>0&&a?.forEach((t=>{t&&(t.innerHTML=n)}));const{paginationType:s="default"}=ie(t)?.additionalElements?.pagination||{},i=document.querySelectorAll(".animate--slide-in, .animation--fade-in");i.length>0&&i.forEach((t=>{t.classList?.remove("animate--slide-in"),t.classList?.remove("animation--fade-in")})),Dn(t),Un(t),Or(t),fr(),Ia(t),fa(t),qr(t),Oa(t,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnMobile||2,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnDesktop||3,t.app.generalSettings?.breakpointmobile||575,t.app.generalSettings?.breakpointtabletportraitmax||991,3),"subLayout_bulk"===t.app.templateSettings?.themeSettings?.productItems?.general?.subLayout&&Li(t),Lt(t)&&ul(t),"infinite_scroll"===s&&(t=>{const[e,o]=t.useContextState("pagination-infinite-loading ",!1),n=t.document.querySelector(".boost-sd__pagination-infinite-scroll-container-target");let a=0;const s=t.document.querySelector(".boost-sd__product-list");s&&(a=Number(s.getAttribute("data-total-page"))),n&&(Cr=new IntersectionObserver((n=>{n.forEach((n=>{if(n.isIntersecting){if(e())return;o(!0),k(m)<a&&gt(Ir(t,k(m)+1,"more"),350)}}))}),{rootMargin:"0px",threshold:.75}),Cr.observe(n))})(t),q((function(){const t=document.querySelectorAll(".animate--slide-in, .animation--fade-in");t.length>0&&t.forEach((t=>{t.classList?.remove("animate--slide-in"),t.classList?.remove("animation--fade-in")}))}));const r=[()=>qr(t),()=>fa(t),()=>Ia(t),()=>fr(),()=>Or(t),()=>Dn(t),()=>Un(t),()=>Oa(t,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnMobile||2,t.app.templateSettings?.themeSettings?.productList?.productsPerRowOnDesktop||3,t.app.generalSettings?.breakpointmobile||575,t.app.generalSettings?.breakpointtabletportraitmax||991,3)];E()?r.forEach((t=>requestAnimationFrame(t))):r.forEach((t=>t()))}),["filterTree"]),_l(t);const a=Number(t?.defaultParams?.page)||1,s=ie(t)?.productList?.productsPerPage||16;I(a),s!==x(h)&&C(y,s),C(h,s),Ws(t),document.addEventListener("click",(function(e){if(!e||!t)return;const o=e.target,{filterLayout:n}=Hn(t);if("horizontal"===n&&!o.closest(".boost-sd__filter-option")&&t.$(".boost-sd__filter-option-title--opening")){const[e]=t.useContextState("filterOptionItemSelecting",{});Object.keys(e()).length>0?jn(t,{}):Mn(t)}((t,e)=>{if(t.$(".boost-sd__sorting-list")&&!e?.closest(".boost-sd__sorting-button")){const[e,o]=t.useContextState("sort"),n=e();n?.isShow&&o({isShow:!1})}})(t,e.target),((t,e)=>{if(t.$(".boost-sd__show-limit-list")&&!e?.classList?.contains("boost-sd__show-limit-list-button")){const[e,o]=t.useContextState("limit-list",{isShow:!1}),n=e();n?.isShow&&o({isShow:!1})}})(t,e.target),(t=>{if(t.closest(".boost-sd__button--select-option"))return;const e=t?.closest(".boost-sd__product-item")?.querySelector(".boost-sd__popup-select-option"),o=document.querySelector('.boost-sd__popup-select-option[style="display: block;"]');!e&&o&&(o.style.display="none")})(e.target)})),t.document?.addEventListener("click",(function(e){const{filterLayout:o,filterTreeMobileStyle:n,filterTreeVerticalStyle:a}=Hn(t),s=fn(t),[,i]=t.useContextState(Y.DESKTOP_OPENING,!1),[,r]=t.useContextState(Y.CURRENT_FOCUS,""),l=S(t?.app?.generalSettings?.breakpointtabletportraitmax),c=e.target,d=c.dataset.metadata||c.getAttribute("metadata"),u=ue(d),p=c.closest("button");p&&p.id&&r(p.id),$i(e);const b={optionList:t.handler(Lo,"handleFilterOption"),clearAllFilter:t.handler(Tn,"clearAllFilter"),clearFilter:t.handler(Cn,"clearFilter"),removeFilterFromRefineBy:t.handler(xn,"removeFilterFromRefineBy"),addToCart:t.handler(ua,"addToCart"),quickView:t.handler(wr,"quickView"),optionCollection:t.handler(No,"optionCollection"),filterOptionCollapse:t.handler(Rn,"filterOptionCollapse"),quickAddToCart:t.handler(ka,"quickAddToCart"),applyFilterOption:t.handler(jn,"applyFilterOption"),resetFilterOption:t.handler(Bn,"resetFilterOption"),expandCollapseMultiLevel:t.handler(Fn,"expandCollapseMultiLevel"),goToProductDetail:t.handler(Ca,"handleClickProductItem")};!c.closest(".boost-sd__product-item, .boost-sd__product-item-list-view-layout")||c.closest(".boost-sd__popup-select-option")||c.closest(".boost-sd__product-swatch")&&!c.closest(".boost-sd__product-swatch-more")||c.closest(".boost-sd__bulk-quantity")||u||u?.action||t.handler(Ca,"handleClickProductItem")(t,null,c),c.getAttribute("href")&&!u.action?.optionCollection||c?.closest(".boost-sd__product-banner-link")||e.preventDefault(),u&&u.action&&Object.keys(u.action).forEach((e=>{b[e](t,u.action[e],c)}));const m=c.dataset.action||c.getAttribute("data-action");if(m){const[e]=t.useContextState("actionMapping",{}),o=e(),[n,a]=m.split(".");if(o[n]&&o[n][a]){const e=Object.keys(o[n][a])[0],s=o[n][a][e];b[e](t,s,c)}}c.classList&&[...c.classList].some((t=>t.startsWith("boost-sd__sorting-")))&&t.handler(ml,"handleSort")(t,c),(c.classList.contains("boost-sd__pagination-number")||c.classList.contains("boost-sd__pagination-button"))&&t.handler(Lr,"pagination")(t,c),c.classList.contains("boost-sd__show-limit-list-button")&&t.handler(pl,"handleToggleShowLimitList")(t,c),c.classList.contains("boost-sd__show-limit-list-option")&&t.handler(bl,"handleLimitListOptionClick")(t,c),(c.classList.contains("boost-sd__view-as-icon")||c.closest(".boost-sd__view-as-icon"))&&t.handler(gl,"handleViewAsClick")(t,c);const g="vertical"===o&&"style-off-canvas"===a,f=t.$("#boost-sd__filter-tree-wrapper #boost-sd__filter-tree-vertical--style-off-canvas",s);if(g&&!l&&(c.closest(".boost-sd__button.boost-sd__button--result")||c.closest(".boost-sd__filter-tree-vertical-close-filter--left")||c.classList.contains("boost-sd__filter-tree-vertical-sticky-overlay"))&&(f?.classList?.add("boost-sd__filter-tree-vertical--hidden"),i(!1),yn(t),document.body.classList.remove("boost-sd__g-no-scroll")),c.closest(".boost-sd__filter-tree-toggle-button")){if(c.closest("#boost-sd__filter-tree-toggle-button"))return t.handler(_n,"showMobileFilterTree")(t);t.handler(zn,"toggleFilterTreeButtonDesktop")(t,s)}if((c.closest(".boost-sd__filter-tree-vertical-close-filter")||c.closest(".boost-sd__button--close")||c.classList.contains("boost-sd__filter-tree-vertical-sticky-overlay")||c.closest(".boost-sd__filter-tree-vertical-show-result"))&&l&&t.handler(hn,"closeMobileFilterTree")(t),c.closest(".boost-sd__button--back")&&(t=>{const{filterTreeMobileStyle:e}=Hn(t);if("style1"!==e){const e=t.$(".boost-sd__filter-tree-vertical-toolbar-middle");e&&(e.innerHTML=de(t,"refineMobile","Refine by"))}if(["style2","style2-fullwidth","style3","style3-fullwidth"].includes(e)){if(cn(t).length>0){const e=bn(t,"clearAll");t.$(tt)?t.$(tt).replaceWith(e):t.$(X).append(e)}const[,e]=t.useContextState("filterOptionIdMobileSelected","");e({level:1})}"style2"===e&&t.$(J)?.classList?.add(K),t.$(J)?.classList?.add(Z),t.$(J)?.classList?.remove(Q),Array.from(t.$(M)?.querySelectorAll(".boost-sd__filter-option-label")).forEach((t=>t?.classList?.remove("boost-sd__filter-option-label--hidden"))),Array.from(t.$(M)?.querySelectorAll(F)).forEach((t=>{t?.classList?.remove(B),t?.classList?.add(W);const e=t?.closest(".boost-sd__filter-option")?.querySelector(".boost-sd__filter-option-title");Jn(e)}))})(t),c.closest(".boost-sd__popup-select-option-close-btn")&&Ta(c),c.closest(".boost-sd__scroll-to-top")&&be(),c?.closest(".boost-sd__product-item--embedded-bundle")&&Gs(t,c),l&&["style1","style3","style3-fullwidth"].includes(n)){const t=c.closest(".boost-sd__filter-option-label");if(t){t.classList.toggle("boost-sd__filter-option-label--collapsed");const e=t?.closest(".boost-sd__filter-option")?.querySelector(".boost-sd__filter-option-itemwrapper");e?.classList?.toggle(H)}}})),t.document?.addEventListener("keydown",(function(e){const[,o]=t.useContextState(Y.KEY_CODE,""),n=e.target,a=n.closest("button"),s=e?.which||e?.keyCode;a&&a.id&&o(s),Kn.includes(e.key)&&(n.classList&&[...n.classList].some((t=>t.startsWith("boost-sd__sorting-")))&&t.handler(ml,"handleSort")(t,n),(n.classList.contains("boost-sd__view-as-icon")||n.closest(".boost-sd__view-as-icon"))&&t.handler(gl,"handleViewAsClick")(t,n),n.classList.contains("boost-sd__show-limit-list-button")&&t.handler(pl,"handleToggleShowLimitList")(t,n),n.classList.contains("boost-sd__show-limit-list-option")&&t.handler(bl,"handleLimitListOptionClick")(t,n),n?.closest(".boost-sd__product-item--embedded-bundle")&&Gs(t,n))}));const i=gt((function(){const t=document.querySelector(".boost-sd__scroll-to-top");t&&(t.style.display=window.scrollY>300?"block":"none")}),200);window.addEventListener("scroll",i)}if("instantSearch"===t.blockType){let e=!1;if(t.disableLazyInitBlock)t.handler(Wi,"handleInstantSearchWidget")(t),e=!0;else{const o=()=>{e||(t.handler(Wi,"handleInstantSearchWidget")(t),e=!0,document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o))};document.addEventListener("mousemove",o),document.addEventListener("touchmove",o)}window.addEventListener("bind-search-input",(function(e){console.log("Trigger bind search input",t),t.handler(Wi,"handleInstantSearchWidget")(t)})),t.document?.addEventListener("click",(function(e){const o=e.target;hl(o),$i(e),o?.closest(".boost-sd__suggestion-queries-item--embedded-bundle")&&Gs(t,o);ye(e,"a.boost-sd__suggestion-queries-link, a.boost-sd__suggestion-queries-item-link")})),Ws(t),he(t)}if("recommendation"===t.blockType&&(t.handler(Nr,"handleRecommendation")(t),window.addEventListener("boost-sd-init-recommendation",(function(e){console.log("Trigger init RCM",t),t.handler(Nr,"handleRecommendation")(t)})),t.document?.addEventListener("click",(function(e){const o=e.target,n=o.dataset.metadata||o.getAttribute("metadata"),a=ue(n),s={quickView:t.handler(wr,"quickView"),addToCart:t.handler(ua,"addToCart"),quickAddToCart:t.handler(ka,"quickAddToCart"),goToProductDetail:t.handler(Ca,"handleClickProductItem")};!o.closest(".boost-sd__product-item, .boost-sd__product-item-list-view-layout")||o.closest(".boost-sd__popup-select-option")||o.closest(".boost-sd__product-swatch")&&!o.closest(".boost-sd__product-swatch-more")||a||a?.action||t.handler(Ca,"handleClickProductItem")(t,null,o),o.getAttribute("href")&&!a.action?.optionCollection||e.preventDefault(),a&&a.action&&Object.keys(a.action).forEach((e=>{s[e](t,a.action[e],o)}));const i=o.dataset.action||o.getAttribute("data-action");if(i){const[e]=t.useContextState("actionMapping",{}),n=e(),[a,r]=i.split(".");if(n[a]&&n[a][r]){const e=Object.keys(n[a][r])[0],i=n[a][r][e];s[e](t,i,o)}}o.closest(".boost-sd__popup-select-option-close-btn")&&Ta(o),hl(o)})),he(t)),"cart"===t.blockType&&(t=>{const{enableCart:e}=ie(t)?.cart||{};if(!e)return;const[o,n]=t.useContextState("cart",{isShow:!1}),[a,s]=t.useContextState("force-render",!1),i=da();i&&null!==i?.selector||console.error("Cart icon is not found");const r=document.querySelector(i?.selector);r?.addEventListener("click",(t=>{t.preventDefault(),n({isShow:!o().isShow})}));const l=()=>{function t(t){Kn.includes(t.key)&&(t.preventDefault(),c())}n({isShow:!0}),null===window.focusedElementBeforeMiniCart&&(window.focusedElementBeforeModalCart=document.activeElement),new MutationObserver(((e,o)=>{const n=document.getElementById("boost-sd__modal-cart");if(n){Yn(n,"a[href], button:not([disabled]), input");const e=t=>{Xn(t,n,"a[href], button:not([disabled]), input",".boost-sd__modal-close-btn")};n.addEventListener("keydown",e);const a=n?.querySelector(".boost-sd__modal-close-btn");a?.removeEventListener("click",c),a?.addEventListener("click",c),a?.addEventListener("keydown",t),o.disconnect()}})).observe(document.body,{childList:!0,subtree:!0})},c=()=>{n({isShow:!1});const t=document.getElementById("boost-sd__modal-cart");t&&t.removeEventListener("keydown",Xn),Zn()&&(window.focusedElementBeforeMiniCart?(window.focusedElementBeforeMiniCart.focus(),window.focusedElementBeforeMiniCart=null):window.buttonQuickviewFocus?(window.buttonQuickviewFocus.focus(),window.buttonQuickviewFocus=null):window.focusedElementBeforeModalCart&&(window.focusedElementBeforeModalCart.focus(),window.focusedElementBeforeModalCart=null))};window.addEventListener("boost-sd-open-cart",l),window.addEventListener("boost-sd-close-cart",c),window.addEventListener("boost-sd-re-render-cart",(()=>{s(!a())})),r?.addEventListener("keydown",(t=>{Kn.includes(t.key)&&(t.preventDefault(),window.focusedElementBeforeModalCart=document.activeElement,l())})),t.render((async()=>{const e=o(),{html:r,itemCount:l}=await ga(t);i?.action(l);const d=t=>{const e=u?.querySelector(".boost-sd__modal-close-btn");pa(document.querySelector(".boost-sd__cart"),t,(()=>{n({isShow:!1})}),e)},u=document.getElementById("boost-sd__modal-cart");if(e&&e.isShow){u&&document.body.removeChild(u),document.body.insertAdjacentHTML("beforeend",r),document.body.classList.add("modal-open-cart");const t=document.querySelectorAll(".boost-sd__cart-item"),e=document.querySelector(".boost-sd__btn-view-cart"),o=document.querySelector(".boost-sd__btn-checkout"),n=document.querySelector(".boost-sd__modal-close-btn");t?.forEach((t=>{const e=t.querySelectorAll(".boost-sd__input-number-btn"),o=e?.[0],n=e?.[1],i=t.querySelector(".boost-sd__input-number-input"),r=t.querySelector(".boost-sd__cart-item-remove-btn"),l=t.getAttribute("data-product-id");o?.addEventListener("click",(async()=>{ea(o),await Fe.change(l,Number(i.value)-1),s(!a()),oa()})),n?.addEventListener("click",(async()=>{ea(n),await Fe.change(l,Number(i.value)+1),s(!a()),oa()})),r?.addEventListener("click",(async()=>{ea(r),await Fe.change(l,0),s(!a()),oa()})),i.addEventListener("keypress",(t=>{!function(t){const e=t?.which||t?.keyCode;e>31&&(e<48||e>57)&&t.preventDefault()}(t)})),i.addEventListener("change",(async t=>{const e=t.target.value;Number.isInteger(Number(e))&&Number(e)>0&&(ea(i),await Fe.change(l,Number(e)),s(!a()),oa())}))})),e?.addEventListener("click",(()=>{v(ge("cart"))})),o?.addEventListener("click",(()=>{v("/checkout")})),n?.addEventListener("click",(()=>{c()})),document.getElementById("boost-sd__modal-cart")?.addEventListener("click",d)}else{const t=document.querySelector(".boost-sd__modal-close-btn");t&&t.removeEventListener("click",ba),document.getElementById("boost-sd__modal-cart")?.removeEventListener("click",d),document.getElementById("boost-sd__modal-cart")?.remove(),document.body.classList.remove("modal-open-cart")}}),["cart","force-render"])})(t),"predictiveBundle"===t.blockType&&At()){const e=window.boostWidgetIntegration?.generalSettings?.product_id;Us(t,e),he(t)}"preOrder"===t.blockType&&At()&&(async t=>{const e=document.querySelector(".boost-sd__preOrder-container");if(0===e?.length)return;await ia(t);const o=await aa(t),[,n]=t.useContextState("variant-product-page",{});n(o)})(t)}const _l=t=>{window.addEventListener("popstate",(async()=>{Ln(t),In(t),ze(t),wn(t),be({behavior:"auto"}),Qe(t)})),Ln(t),wn(t)},yl=t=>{const{lazyLoadImages:e}=window.boostSDTaeUtils;e&&t.render((()=>{e(t.document)}))},hl=t=>{t?.closest(".boost-sd__watermark-powered-by-boost")&&window.open("https://boostcommerce.net/?utm_source=customer&utm_medium=store&utm_campaign=BoostFree","_blank").focus()};!function(){for(const t in ve)Object.prototype.hasOwnProperty.call(ve,t)&&(ve[t].worker||Se(t))}(),console.log("jslib loaded ",new Date,"-",(new Date).getMilliseconds(),"ms"),function(){window.boostWidgetIntegration=window.boostWidgetIntegration||{},window.boostWidgetIntegration.generateUuid=function(){return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/[x]/g,(function(t){return(16*Math.random()|0).toString(16)}))},window.boostWidgetIntegration.getSessionId=function(){try{let t=x(r);return t||(t=window.boostWidgetIntegration.generateUuid(),C(r,t)),t}catch(t){return window.boostWidgetIntegration.generateUuid()}};let t=0;!function e(){if("ready"===window.boostWidgetIntegration.status){console.log("jslib & blocks finish init ",new Date,"-",(new Date).getMilliseconds(),"ms");const t=window.boostWidgetIntegration.blocks||{};if(Object.keys(t).length>0)for(const e in t)t[e].app.filterSettings.filterLayout||(t[e].app.filterSettings.filterLayout="vertical"),fl(t[e]);Object.values(t).length>0&&setTimeout((()=>{Wa(Object.values(t)[0])}),3e4),At()&&window.boostSDData?.product&&(t=>{const e=se();e.includes(t)||(e.unshift(t),window.localStorage.setItem(ne,JSON.stringify(e)),ae())})(window.boostSDData.product.id)}else console.log("blocks not yet loaded, window.boostWidgetIntegration.status =",window.boostWidgetIntegration.status,"retry after 100ms"),t++,t<100&&setTimeout((()=>{e()}),100)}(),q((()=>{Lt()&&C(l,oi()),wi(),gi(),fi(),window.addEventListener("debounce-in-collection-search",yi),window.addEventListener("change-range-slider",hi),window.addEventListener("re-view-collection",gi),ei(),console.log("Analytic register events - Version SSR"),document.addEventListener("click",Ci,!0),xi()}))}()})();
//# sourceMappingURL=bc-widget-integration.js.map